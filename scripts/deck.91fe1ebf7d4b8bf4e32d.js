!function(e){function t(t){for(var n,c,i=t[0],o=t[1],l=t[2],m=0,u=[];m<i.length;m++)c=i[m],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&u.push(r[c][0]),r[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(d&&d(t);u.length;)u.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var o=a[i];0!==r[o]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={0:0},s=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=o;s.push([204,1]),a()}({109:function(e,t,a){},159:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},180:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},204:function(e,t,a){"use strict";a.r(t);a(109);var n=a(98),r=a.n(n),s=a(0),c=a.n(s),i=a(37),o=a.n(i),l=a(3),d=(a(27),a(5)),m=a(15),u=a.n(m),p=a(2);function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(Object(a),!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const b={BASIC:"基本",DETAIL:"詳細",STRAT:"計略"},E={beReady:Object(p.createAction)("BE_READY")(),openSideMenu:Object(p.createAction)("CHANGE_SIDEMENU_VISIBLE",()=>({openedSideMenu:!0}))(),closeSideMenu:Object(p.createAction)("CHANGE_SIDEMENU_VISIBLE",()=>({openedSideMenu:!1}))(),openFilter:Object(p.createAction)("CHANGE_FILTER_VISIBLE",()=>({openedFilter:!0}))(),closeFilter:Object(p.createAction)("CHANGE_FILTER_VISIBLE",()=>({openedFilter:!1}))(),openDeckConfig:Object(p.createAction)("CHANGE_DECK_CONFIG_VISIBLE",()=>({openedDeckConfig:!0}))(),closeDeckConfig:Object(p.createAction)("CHANGE_DECK_CONFIG_VISIBLE",()=>({openedDeckConfig:!1}))(),openUpdateInfo:Object(p.createAction)("CHANGE_UPDATE_INFO_VISIBLE",()=>({openedUpdateInfo:!0}))(),closeUpdateInfo:Object(p.createAction)("CHANGE_UPDATE_INFO_VISIBLE",()=>({openedUpdateInfo:!1}))(),enableNotice:Object(p.createAction)("CHANGE_SHOW_NOTICE",()=>({showNotice:!0}))(),disableNotice:Object(p.createAction)("CHANGE_SHOW_NOTICE",()=>({showNotice:!1}))(),openGeneralDetail:Object(p.createAction)("CHANGE_GENERAL_DETAIL",e=>({detailGeneral:e}))(),openAssistGeneralDetail:Object(p.createAction)("CHANGE_ASSIST_GENERAL_DETAIL",e=>({detailAssistGeneral:e}))(),closeAllModal:Object(p.createAction)("CLOSE_ALL_MODAL")(),changeActiveFilterTab:Object(p.createAction)("CHANGE_ACTIVE_FILTER",e=>({activeFilter:e}))(),storeInstallPromptEvent:Object(p.createAction)("STORE_INSTALL_PROMPT_EVENT",e=>({event:e}))(),enableAprilFool:Object(p.createAction)("CHANGE_APRIL_FOOL",e=>({aprilFoolGeneral:e}))(),disableAprilFool:Object(p.createAction)("CHANGE_APRIL_FOOL",()=>({aprilFoolGeneral:null}))()},y={ready:!1,openedSideMenu:!1,openedFilter:!1,openedDeckConfig:!1,openedUpdateInfo:!1,showNotice:!1,activeFilter:"BASIC",detailGeneral:void 0,installPromptEvent:null,aprilFoolGeneral:null};var C=a(108);function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){k(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const N={basic:{searchMode:"general",belongStates:[],costs:[],unitTypes:[],forceMin:1,forceMax:11,useCostRatioForce:!1,costRatioForceMin:-4,costRatioForceMax:5,costRatioBaseForces:{10:3,15:6,20:8,25:9,30:10},intelligenceMin:1,intelligenceMax:11,conquestMin:0,conquestMax:4,skills:[],skillsAnd:!1,searchText:""},detail:{genMains:[],genMainsAnd:!1,rarities:[],generalTypes:[],varTypes:[],majorVersions:[],versions:[],enableDetailVersion:!1,pockets:[]},strategies:{showStrategyExplanation:!1,moraleMin:1,moraleMax:12,strategyCategories:[],strategyRanges:[],strategyTimes:[],strategySearchName:"",strategySearchExplanation:""}},S={filterCondition:N,effectiveFilterCondition:N,filterContents:{belongStates:[],costs:[],unitTypes:[],skills:[],genMains:[],rarities:[],generalTypes:[],varTypes:[],versions:[],majorVersions:[],strategyCategories:[],strategyRanges:[],strategyTimes:[],assistStrategyCategories:[]},generals:[],strategies:[],assistGenerals:[],currentPage:1,pageLimit:50},j={resetConditions:Object(p.createAction)("RESET_CONDITIONS")(),applyCondition:Object(p.createAction)("APPLY_CONDITION")(),setBasicCondition:Object(p.createAction)("SET_BASIC_CONDITION",e=>({condition:e}))(),setDetailCondition:Object(p.createAction)("SET_DETAIL_CONDITION",e=>({condition:e}))(),setStrategiesCondition:Object(p.createAction)("SET_STRATEGIES_CONDITION",e=>({condition:e}))(),setShowStrategyExplanation:Object(p.createAction)("SET_SHOW_STRATEGY_EXPLANATION",e=>e)(),setBaseData:Object(p.createAction)("SET_BASE_DATA",e=>({baseData:e}))(),incrementPage:Object(p.createAction)("INCREMENT_PAGE",()=>({page:1}))(),resetPage:Object(p.createAction)("RESET_PAGE")(),decrementPage:Object(p.createAction)("DECREMENT_PAGE",()=>({page:-1}))()};a(4);function D(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?D(Object(a),!0).forEach((function(t){A(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function A(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const P=["personal","personal-strategy-exclude-assist","personal-assist","personal-strategy"];const I={deckCards:[],assistDeckCards:[],activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckConstraints:{limitCost:80,sameCard:"personal",assistCardLimit:1}},x={addDeckGeneral:Object(p.createAction)("ADD_DECK_GENERAL",e=>e)(),changeDeckGeneral:Object(p.createAction)("CHANGE_DECK_GENERAL",(e,t)=>({index:e,card:t}))(),addDeckDummy:Object(p.createAction)("ADD_DECK_DUMMY",e=>e)(),setDeckDummyValue:Object(p.createAction)("SET_DECK_DUMMY_VALUE",(e,t)=>({index:e,deckCard:t}))(),setDecks:Object(p.createAction)("SET_DECK_LIST",e=>e)(),removeDeck:Object(p.createAction)("REMOVE_DECK",e=>e)(),addDeckAssist:Object(p.createAction)("ADD_DECK_ASSIST",e=>e)(),changeDeckAssist:Object(p.createAction)("CHANGE_DECK_ASSIST",(e,t)=>({index:e,card:t}))(),setAssists:Object(p.createAction)("SET_ASSIST_LIST",e=>e)(),removeDeckAssist:Object(p.createAction)("REMOVE_DECK_ASSIST",e=>e)(),sliceDeckAssist:Object(p.createAction)("SLICE_DECK_ASSIST")(),clearDeck:Object(p.createAction)("CLEAR_DECK")(),setActiveCard:Object(p.createAction)("SET_ACTIVE_CARD",e=>e)(),setActiveAssistCard:Object(p.createAction)("SET_ACTIVE_ASSIST_CARD",e=>e)(),searchByDeck:Object(p.createAction)("SEARCH_BY_DECK",(e,t)=>({index:e,condition:t}))(),clearActiveCard:Object(p.createAction)("CLEAR_ACTIVE_CARD")(),selectMainGen:Object(p.createAction)("SELECT_MAIN_GEN",(e,t)=>({index:e,genMain:t}))(),setDeckConstraints:Object(p.createAction)("SET_DECK_CONSTRAINTS",e=>({condition:e}))()};function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function R(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const M={showDialog:Object(p.createAction)("SHOW_DIALOG",e=>e)(),closeDialog:Object(p.createAction)("CLOSE_DIALOG")()},G={show:!1,title:"",message:"",logoUrl:void 0,redText:"",blueText:"",cancelable:!0,animation:!0,actionRed:()=>{},actionBlue:()=>{},actionCancel:void 0};a(14),a(23);var V=a(102),L=a.n(V);const F={datalistReducer:function(e=S,t){switch(t.type){case"RESET_CONDITIONS":return v({},e,{filterCondition:N,effectiveFilterCondition:N,currentPage:S.currentPage});case"APPLY_CONDITION":return v({},e,{effectiveFilterCondition:Object(C.a)(e.filterCondition),currentPage:S.currentPage});case"SET_BASIC_CONDITION":return v({},e,{filterCondition:v({},e.filterCondition,{basic:v({},e.filterCondition.basic,{},t.payload.condition)})});case"SET_DETAIL_CONDITION":return v({},e,{filterCondition:v({},e.filterCondition,{detail:v({},e.filterCondition.detail,{},t.payload.condition)})});case"SET_STRATEGIES_CONDITION":return v({},e,{filterCondition:v({},e.filterCondition,{strategies:v({},e.filterCondition.strategies,{},t.payload.condition)})});case"SET_SHOW_STRATEGY_EXPLANATION":return v({},e,{filterCondition:v({},e.filterCondition,{strategies:v({},e.filterCondition.strategies,{showStrategyExplanation:t.payload})})});case"SET_BASE_DATA":{const a=t.payload.baseData,{generals:n,strategies:r,assistGenerals:s,filterContents:c}=a;return v({},e,{filterCondition:N,effectiveFilterCondition:N,currentPage:S.currentPage,filterContents:c,generals:n,strategies:r,assistGenerals:s})}case"RESET_PAGE":return v({},e,{currentPage:S.currentPage});case"INCREMENT_PAGE":case"DECREMENT_PAGE":{const a=t.payload.page;return v({},e,{currentPage:e.currentPage+a})}default:return e}},deckReducer:function(e=I,t){switch(t.type){case"ADD_DECK_GENERAL":{const a=t.payload;return w({},e,{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:[...e.deckCards,w({},a)]})}case"CHANGE_DECK_GENERAL":{const{index:a,card:n}=t.payload,r=[...e.deckCards];return r[a]=w({},n),w({},e,{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:r})}case"ADD_DECK_DUMMY":{const{cost:a,belongState:n,unitType:r}=t.payload;return w({},e,{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:[...e.deckCards,{cost:a,belongState:n,unitType:r,pocket:!1}]})}case"SET_DECK_DUMMY_VALUE":{const{index:a,deckCard:n}=t.payload,r=[...e.deckCards],s=r[a];return!s||"general"in s?e:(r[a]=w({},s,{},n),w({},e,{deckCards:r}))}case"SET_DECK_LIST":return w({},e,{deckCards:t.payload});case"REMOVE_DECK":{const a=t.payload,n=e.deckCards.filter((e,t)=>t!==a);return w({},e,{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:n})}case"ADD_DECK_ASSIST":{const a=t.payload;return w({},e,{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,assistDeckCards:[...e.assistDeckCards,w({},a)]})}case"CHANGE_DECK_ASSIST":{const{index:a,card:n}=t.payload,r=[...e.assistDeckCards];return r[a]=w({},n),w({},e,{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,assistDeckCards:r})}case"SET_ASSIST_LIST":return w({},e,{assistDeckCards:t.payload});case"REMOVE_DECK_ASSIST":{const a=t.payload,n=e.assistDeckCards.filter((e,t)=>t!==a);return w({},e,{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,assistDeckCards:n})}case"SLICE_DECK_ASSIST":{const{assistDeckCards:t,deckConstraints:{assistCardLimit:a}}=e;return t.length<=a?w({},e):w({},e,{assistDeckCards:t.slice(0,a)})}case"CLEAR_DECK":return w({},e,{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:[],assistDeckCards:[]});case"SET_ACTIVE_CARD":return w({},e,{activeIndex:t.payload,activeAssistIndex:null,searchCondition:void 0});case"SET_ACTIVE_ASSIST_CARD":return w({},e,{activeIndex:null,activeAssistIndex:t.payload,searchCondition:void 0});case"SEARCH_BY_DECK":{const{index:a,condition:n}=t.payload;return w({},e,{activeIndex:a,activeAssistIndex:null,searchCondition:n})}case"CLEAR_ACTIVE_CARD":return w({},e,{activeIndex:null,activeAssistIndex:null,searchCondition:void 0});case"SELECT_MAIN_GEN":{const{index:a,genMain:n}=t.payload,r=[...e.deckCards],s=r[a];return null==s?e:(r[a]=w({},s,{genMain:n}),w({},e,{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:r}))}case"SET_DECK_CONSTRAINTS":return w({},e,{deckConstraints:w({},e.deckConstraints,{},t.payload.condition)});default:return e}},dialogReducer:function(e=G,t){switch(t.type){case"SHOW_DIALOG":{const e=t.payload,{cancelable:a,animation:n}=e;return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){_(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},R(e,["cancelable","animation"]),{show:!0,cancelable:null==a||a,animation:null==n||n})}case"CLOSE_DIALOG":return G;default:return e}},windowReducer:function(e=y,t){switch(t.type){case"BE_READY":return g({},e,{ready:!0});case"CHANGE_SIDEMENU_VISIBLE":const{payload:{openedSideMenu:a}}=t;return g({},e,{openedSideMenu:a});case"CHANGE_FILTER_VISIBLE":const{payload:{openedFilter:n}}=t;return g({},e,{openedFilter:n});case"CHANGE_DECK_CONFIG_VISIBLE":const{payload:{openedDeckConfig:r}}=t;return g({},e,{openedDeckConfig:r});case"CHANGE_UPDATE_INFO_VISIBLE":const{payload:{openedUpdateInfo:s}}=t;return g({},e,{openedUpdateInfo:s});case"CLOSE_ALL_MODAL":return g({},e,{openedFilter:!1,openedDeckConfig:!1,openedUpdateInfo:!1,detailGeneral:void 0,detailAssistGeneral:void 0});case"CHANGE_ACTIVE_FILTER":const{payload:{activeFilter:c}}=t;return g({},e,{activeFilter:c});case"CHANGE_SHOW_NOTICE":const{payload:{showNotice:i}}=t;return g({},e,{showNotice:i});case"CHANGE_GENERAL_DETAIL":const{payload:{detailGeneral:o}}=t;return g({},e,{detailGeneral:o});case"CHANGE_ASSIST_GENERAL_DETAIL":const{payload:{detailAssistGeneral:l}}=t;return g({},e,{detailAssistGeneral:l});case"STORE_INSTALL_PROMPT_EVENT":const{payload:{event:d}}=t;return g({},e,{installPromptEvent:d});case"CHANGE_APRIL_FOOL":{const{aprilFoolGeneral:a}=t.payload;return g({},e,{aprilFoolGeneral:a})}default:return e}}};var B=Object(d.c)(Object(d.b)(F));const U=[],q=[],H={action:x.setDecks,selector:e=>{const t=e.deckReducer.deckCards;return 0===t.length?U:t},defaultValue:U,valueToString:e=>{const t=B.getState().datalistReducer,a=(({generals:e,filterContents:t})=>a=>{if("general"in a){const n=e.find(e=>e.id===a.general);if(!n)return"";const r=t.genMains.find(e=>e.id===a.genMain);return[a.pocket?n.pocketCode:n.code,r?r.code:""].join("_")}const n=t.belongStates.find(e=>e.id===a.belongState),r=n?n.nameShort:"",s=t.unitTypes.find(e=>e.id===a.unitType),c=s?s.name[0]:"";return["","",a.cost,r,c].join("_")})({generals:t.generals,filterContents:t.filterContents});return e.map(a).filter(e=>e).join("|")},stringToValue:e=>{if(!e)return U;const t=B.getState().datalistReducer,a=(({generals:e,filterContents:t})=>a=>{const[n,r,s,c,i]=a.split("_"),o=(({code:e,genMainCode:t},{generals:a,filterContents:n})=>{if(!e)return null;const r=a.find(t=>t.code===e||t.pocketCode===e);if(!r)return null;const s=r.code!==e,c=n.genMains.find(e=>e.code===t);let i=void 0;return c&&r.genMains.includes(c)&&(i=c.id),{general:r.id,genMain:i,pocket:s}})({code:n,genMainCode:r},{generals:e,filterContents:t});return o||(({cost:e,belongStateNameShort:t,unitTypeName:a},n)=>{const r=n.belongStates.find(e=>e.nameShort===t),s=n.unitTypes.find(e=>e.name[0]===a);return{cost:e&&n.costs.findIndex(t=>t.code===e)?e:"10",belongState:r?r.id:void 0,unitType:s?s.id:void 0}})({cost:s,belongStateNameShort:c,unitTypeName:i},t)})({generals:t.generals,filterContents:t.filterContents});return e.split("|").map(a)}},K={action:x.setAssists,selector:e=>{const t=e.deckReducer.assistDeckCards;return 0===t.length?q:t},defaultValue:q,valueToString:e=>{const t=(({assistGenerals:e})=>t=>{const a=e.find(e=>e.id===t.assist);return a?a.code:""})({assistGenerals:B.getState().datalistReducer.assistGenerals});return e.map(t).filter(e=>e).join("|")},stringToValue:e=>{if(!e)return q;const t=(({assistGenerals:e})=>t=>{var a;const n=e.find(e=>e.code===t),r=null!==(a=null==n?void 0:n.id)&&void 0!==a?a:null;return r?{assist:r}:null})({assistGenerals:B.getState().datalistReducer.assistGenerals});return e.split("|").map(t).filter(e=>!!e)}},Y={action:e=>x.setDeckConstraints({limitCost:e}),selector:e=>e.deckReducer.deckConstraints.limitCost,defaultValue:80,stringToValue:e=>{try{const t=parseInt(e);if(t>=10&&t<=250&&t%5==0)return t}catch(e){}return 80}},W={action:e=>x.setDeckConstraints({sameCard:e}),selector:e=>e.deckReducer.deckConstraints.sameCard,defaultValue:"personal",stringToValue:e=>function(e){return P.includes(e)}(e)?e:"personal"},X={action:e=>x.setDeckConstraints({assistCardLimit:e}),selector:e=>e.deckReducer.deckConstraints.assistCardLimit,defaultValue:1,stringToValue:e=>{try{const t=parseInt(e);if(t>=0&&t<=1&&t%1==0)return t}catch(e){}return 1}};let J=!1;a(159);var z=a(1),Q=a.n(z),$=a(7),Z=a(107),ee=a(47);a(163);class te extends c.a.PureComponent{constructor(...e){super(...e),this.handleTabClick=e=>{const t=e.currentTarget.dataset.tab;t&&this.props.onTabChanged(t)}}render(){const{tabs:e,activeTab:t}=this.props,a=[];return Object.entries(e).forEach(([e,n])=>{const r=t===e,s="tab-button-".concat(e.toLowerCase()),i=Q()([s,{active:r}]);a.push(c.a.createElement("button",{key:e,"data-tab":e,className:i,onClick:this.handleTabClick},n))}),c.a.createElement("div",{className:"card-filter-tabs"},a)}}a(164);var ae=c.a.memo(({resetConditions:e,closeFilter:t})=>c.a.createElement("div",{className:"card-filter-actions"},c.a.createElement("button",{className:"action-buton-reset",onClick:e},"リセット"),c.a.createElement("button",{className:"action-buton-ok",onClick:t},"OK"))),ne=(a(165),a(46));class re extends c.a.PureComponent{constructor(...e){super(...e),this.handleInstallPrompt=e=>{this.props.pwaInstallEnabled?this.props.installPrompt():e.stopPropagation()},this.handleOpenUpdateInfo=()=>{this.props.openUpdateInfo()}}render(){const{pwaInstallEnabled:e,showNotice:t}=this.props;return c.a.createElement("ul",{className:"side-menu-list"},c.a.createElement("li",{className:"side-menu-item"},c.a.createElement("a",{href:"./about.html",target:"_blank",rel:"noopener noreferrer"},"このツールについて",c.a.createElement($.a,{className:"external-link-icon",icon:ne.faExternalLinkAlt}))),c.a.createElement("li",{className:"side-menu-item"},c.a.createElement("a",{onClick:this.handleOpenUpdateInfo},"更新情報",c.a.createElement($.a,{icon:ee.faExclamationCircle,className:Q()("notice",{show:t})}))),c.a.createElement("li",{className:"side-menu-item pwa-install"},c.a.createElement("a",{onClick:this.handleInstallPrompt,className:Q()({disabled:!e})},"インストールする")))}}function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ce(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ie=Object(l.b)(e=>({showNotice:e.windowReducer.showNotice,installPromptEvent:e.windowReducer.installPromptEvent}),e=>Object(d.a)({openUpdateInfo:E.openUpdateInfo,storeInstallPromptEvent:E.storeInstallPromptEvent},e),(e,t)=>function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(Object(a),!0).forEach((function(t){ce(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},{showNotice:e.showNotice,pwaInstallEnabled:!!e.installPromptEvent},{},{openUpdateInfo:t.openUpdateInfo,installPrompt:async()=>{e.installPromptEvent&&(await e.installPromptEvent.prompt(),t.storeInstallPromptEvent(null))}}),{areMergedPropsEqual:()=>!1})(re),oe=(a(166),a(169),a(25)),le=a(103),de=(a(170),a(31));function me(e){return"https://3594t.net/img/card_small/".concat(e,".jpg")}function ue(e){return"https://3594t.net/img/avatar/".concat(e,".png")}function pe(e){return"https://3594t.net/img/avatar/".concat(e,".png")}function he(e){return"https://3594t.net/img/strat_range/".concat(e,".png")}const ge="軍師",fe="控えめな正兵";class be extends c.a.PureComponent{constructor(...e){super(...e),this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:a}=this.props;a(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:a,assist:n}=this.props;n&&a(t)}}render(){var e,t,a,n,r,s;const{index:i,active:o,assist:l,aprilFoolGeneral:d}=this.props,m={},u={},p={};l?(m.backgroundColor=l.state.thincolor,u.backgroundColor=l.state.color):u.display="none";const h=null!==(e=null==l||null===(t=l.state)||void 0===t?void 0:t.nameShort)&&void 0!==e?e:"";let g=null!==(a=null==l?void 0:l.name)&&void 0!==a?a:0===i?ge:"";""!==g&&d&&(g=d.name);let f=null!==(n=null==l?void 0:l.avatarUrl)&&void 0!==n?n:void 0;f?d&&(f=pe(d.avatar)):p.display="none";const b=null!==(r=null==l||null===(s=l.strategy)||void 0===s?void 0:s.name)&&void 0!==r?r:0===i?fe:"",E=!l;return c.a.createElement("div",{className:Q()("assist-deck-card",{active:o,"no-assist":E}),style:m,onClick:this.handleActive},c.a.createElement("span",{className:"image"},c.a.createElement("img",{className:"assist-thumb",style:p,src:f})),c.a.createElement("span",{className:"state",style:u},h),c.a.createElement("span",{className:"card-type"},"遊軍"),c.a.createElement("span",{className:"name"},g),c.a.createElement("span",{className:"strategy"},b),c.a.createElement("div",{className:"tool-box"},c.a.createElement("button",{className:"tool-button remove",onClick:this.handleRemove},c.a.createElement($.a,{icon:de.faMinusCircle}))))}}a(96),a(172);var Ee=a(48);class ye extends c.a.PureComponent{constructor(...e){super(...e),this.handleSelectMainGen=e=>{const{index:t,onSelectMainGen:a}=this.props;let n=e.currentTarget.value;null!=n&&""!==n||(n=void 0),a(t,n)},this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:a}=this.props;a(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:a}=this.props;a(t)},this.handleSearch=e=>{e.stopPropagation();const{index:t,onToggleSearch:a,general:n}=this.props;a(t,{cost:n.raw.cost,belongState:n.raw.state,unitType:n.raw.unit_type})}}render(){var e;const{general:t,genMain:a,active:n,search:r,pocket:s,aprilFoolGeneral:i}=this.props,o=null!=i?me(i.code):null,l={backgroundColor:t.state.thincolor},d=t.state.color,m={backgroundColor:d},u=[d,"".concat(d," 30px"),"transparent 92px","transparent"].join(","),p={background:"linear-gradient(-30deg, ".concat(u,")")},h=[];t.skills.forEach(e=>{h.push(c.a.createElement("span",{className:"skill",key:e.id},e.nameShort))}),0===h.length&&h.push(c.a.createElement("span",{className:"no-skill",key:0},"特技なし"));const g=[];t.genMains.forEach((e,t)=>{g.push(c.a.createElement("option",{value:e.id,key:t},e.nameShort))});const f=null!=a?a:"";return c.a.createElement("div",{className:Q()("deck-card",{active:n}),style:l,onClick:this.handleActive},c.a.createElement("div",{className:"deck-card-inner-top"},c.a.createElement("img",{className:"general-thumb",src:null!=o?o:t.thumbUrl(s)}),c.a.createElement("div",{className:"shadow",style:p}),c.a.createElement("span",{className:"state",style:m},t.state.nameShort),c.a.createElement("span",{className:"version",style:m},t.version),c.a.createElement("span",{className:"cost","data-label":"コスト"},t.cost.name),c.a.createElement("span",{className:"unit","data-label":"兵種"},t.unitType.nameShort),c.a.createElement("span",{className:"name"},c.a.createElement("span",{className:"rarity"},t.rarity.name),null!==(e=null==i?void 0:i.name)&&void 0!==e?e:t.name)),c.a.createElement("div",{className:"deck-card-inner-bottom"},c.a.createElement("span",{className:"force","data-label":"武"},t.force),c.a.createElement("span",{className:"intelligence","data-label":"知"},t.intelligence),c.a.createElement("span",{className:"conquest","data-label":"制圧"},t.conquest),c.a.createElement("span",{className:"skills"},h),c.a.createElement("span",{className:"gen-mains","data-label":"主将器"},c.a.createElement("select",{className:"gen-mains-select",value:f,onChange:this.handleSelectMainGen},c.a.createElement("option",{value:""}),g))),c.a.createElement("div",{className:"tool-box"},c.a.createElement("button",{className:"remove",onClick:this.handleRemove},c.a.createElement($.a,{icon:de.faMinusCircle})),c.a.createElement("button",{className:Q()("search",{enable:r}),onClick:this.handleSearch},c.a.createElement($.a,{icon:Ee.faSearch}))))}}a(173);class Ce extends c.a.PureComponent{constructor(...e){super(...e),this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:a}=this.props;a(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:a}=this.props;a(t)},this.handleSearch=e=>{e.stopPropagation();const{index:t,onToggleSearch:a,deckCard:n}=this.props;a(t,n)},this.handleChangeDeckValue=e=>{const{index:t,setDeckValue:a}=this.props,n=e.currentTarget.name;let r=e.currentTarget.value;""===r&&(r=void 0),a(t,{[n]:r})}}render(){const{deckCard:e,active:t,search:a,belongStates:n,costs:r,unitTypes:s}=this.props,i={},o={},l=e.belongState?n.find(t=>t.id===e.belongState):void 0,d=e.cost?r.find(t=>t.id===e.cost):void 0,m=e.unitType?s.find(t=>t.id===e.unitType):void 0;let u="",p="",h=!1;l&&(i.backgroundColor=l.thincolor,o.backgroundColor=l.color,u=l.id,p=l.nameShort||"",h=!0);let g="";d&&(g=d.name);const f={};let b="",E="";m?(b=m.id,E=m.nameShort||""):f.display="none";const y=[];n.forEach((e,t)=>{y.push(c.a.createElement("option",{value:e.id,key:t},e.name))});const C=[];r.forEach((e,t)=>{C.push(c.a.createElement("option",{value:e.id,key:t},e.name))});const O=[];return s.forEach((e,t)=>{O.push(c.a.createElement("option",{value:e.id,key:t},e.nameShort||e.name))}),c.a.createElement("div",{className:Q()("deck-dummy-card",{"has-state":h,active:t}),style:i,onClick:this.handleActive},c.a.createElement("div",{className:"deck-card-inner-top",style:o},c.a.createElement("span",{className:"state"},p),c.a.createElement("span",{className:"cost","data-label":"コスト"},g),c.a.createElement("span",{className:"unit",style:f,"data-label":"兵種"},E),c.a.createElement("div",{className:"edit"},c.a.createElement("span",{className:"select-item-container","data-label":"勢力"},c.a.createElement("select",{className:"select-item",name:"belongState",value:u,onChange:this.handleChangeDeckValue},c.a.createElement("option",{value:""}),y)),c.a.createElement("span",{className:"select-item-container","data-label":"コスト"},c.a.createElement("select",{className:"select-item",name:"cost",value:e.cost,onChange:this.handleChangeDeckValue},C)),c.a.createElement("span",{className:"select-item-container","data-label":"兵種"},c.a.createElement("select",{className:"select-item",name:"unitType",value:b,onChange:this.handleChangeDeckValue},c.a.createElement("option",{value:""}),O)))),c.a.createElement("div",{className:"deck-card-inner-bottom"},c.a.createElement("div",{className:"tool-box"},c.a.createElement("button",{className:"remove",onClick:this.handleRemove},c.a.createElement($.a,{icon:de.faMinusCircle})),c.a.createElement("button",{className:Q()("search",{enable:a}),onClick:this.handleSearch},c.a.createElement($.a,{icon:Ee.faSearch})))))}}function Oe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ve(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ke=Object(l.b)(e=>({generals:e.datalistReducer.generals,belongStates:e.datalistReducer.filterContents.belongStates,costs:e.datalistReducer.filterContents.costs,unitTypes:e.datalistReducer.filterContents.unitTypes}),e=>Object(d.a)({setDeckDummyValue:x.setDeckDummyValue},e),(e,t,a)=>function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(a),!0).forEach((function(t){ve(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},{setDeckValue:t.setDeckDummyValue},{},a))(Ce);class Ne extends c.a.Component{render(){return c.a.createElement("div",{className:"deck-board"},this.renderAssistDeckCardList(),this.renderDeckCardList(),this.renderDeckTotal())}renderAssistDeckCardList(){const{assistDeckCards:e,activeAssistIndex:t,setActiveAssistCard:a,removeDeckAssist:n,aprilFoolGeneral:r}=this.props,s=[];e.forEach((e,i)=>{const o=t===i;s.push(c.a.createElement(be,{key:i,index:i,assist:e.assist,active:o,onActive:a,onRemoveDeck:n,aprilFoolGeneral:r}))});const i={};return 0===e.length&&(i.display="none"),c.a.createElement("div",{className:"assist-deck-card-list",style:i},s)}renderDeckCardList(){const{deckCards:e,activeIndex:t,enableSearch:a,aprilFoolGeneral:n,enabledAddDeck:r,addDeckDummy:s,clearDeck:i,openDeckConfig:o,selectMainGen:l,setActiveCard:d,removeDeck:m,toggleSearch:u}=this.props,p=[];return e.forEach((e,r)=>{const s=t===r;if("general"in e){const{general:t,genMain:i,pocket:o}=e;p.push(c.a.createElement(ye,{key:r,index:r,active:s,search:s&&a,genMain:i,general:t,pocket:o,aprilFoolGeneral:n,onSelectMainGen:l,onActive:d,onRemoveDeck:m,onToggleSearch:u}))}else p.push(c.a.createElement(ke,{key:r,index:r,active:s,search:s&&a,deckCard:e,onActive:d,onRemoveDeck:m,onToggleSearch:u}))}),c.a.createElement("div",{className:"deck-card-list"},p,c.a.createElement("div",{className:"deck-actions"},c.a.createElement("div",{className:Q()("add-new-deck-card","button",{disabled:!r}),onClick:s},"追加",c.a.createElement($.a,{icon:oe.faPlusCircle})),c.a.createElement("div",{className:"deck-clear button",onClick:i},"クリア"),c.a.createElement("div",{className:"open-deck-config button",onClick:o},c.a.createElement($.a,{icon:le.faCog}))))}renderDeckTotal(){const{totalForce:e,totalIntelligence:t,intelligenceByMainGen:a,totalConquest:n,conquestByMainGen:r,conquestRank:s,totalCost:i,limitCost:o,maxMorale:l,maxMoraleByMainGen:d,tolalMoraleByCharm:m,tolalMoraleByMainGen:u,hasDummy:p,hasStateDummy:h}=this.props;let g=i-o,f="残り",b=!1,E=!1;g>0?(f="コストオーバー",b=!0):g<0&&(g*=-1,E=!0);const y=(m+u)/100,C=m/100,O=u/100;return c.a.createElement("div",{className:"deck-total"},c.a.createElement("div",{className:"total","data-label":"総武力"},c.a.createElement("span",{className:Q()("force",{dummy:p})},e)),c.a.createElement("div",{className:"total","data-label":"総知力"},c.a.createElement("span",{className:Q()("has-gen-main",{active:a>0})},"将器込み"),c.a.createElement("span",{className:Q()("intelligence",{dummy:p})},t,c.a.createElement("span",{className:Q()("breakdown",{active:a>0})},"(",t-a,c.a.createElement("span",{className:"addition-by-main-gen"},"+",a),")"))),c.a.createElement("div",{className:"total","data-label":"総征圧力"},c.a.createElement("span",{className:Q()("has-gen-main",{active:r>0})},"将器込み"),c.a.createElement("span",{className:Q()("conquest-rank",{dummy:p})},s),c.a.createElement("span",{className:Q()("conquest",{dummy:p})},n,c.a.createElement("span",{className:Q()("breakdown",{active:r>0})},"(",n-r,c.a.createElement("span",{className:"addition-by-main-gen"},"+",r),")"))),c.a.createElement("div",{className:"total total-cost","data-label":"総コスト"},c.a.createElement("span",{className:"cost"},(i/10).toFixed(1)),c.a.createElement("span",{className:Q()("cost-remain",{over:b,under:E})},"(",f," ",(g/10).toFixed(1),")")),c.a.createElement("div",{className:"total","data-label":"最大士気"},c.a.createElement("span",{className:Q()("has-gen-main",{active:d>0})},"将器込み"),c.a.createElement("span",{className:Q()("max-morale",{dummy:h})},l,c.a.createElement("span",{className:Q()("breakdown",{active:d>0})},"(",l-d,c.a.createElement("span",{className:"addition-by-main-gen"},"+",d),")"))),c.a.createElement("div",{className:"total","data-label":"開幕士気"},c.a.createElement("span",{className:Q()("has-gen-main",{active:O>0})},"将器込み"),c.a.createElement("span",{className:"start-morale"},y,c.a.createElement("span",{className:Q()("breakdown",{active:O>0})},"(",C,c.a.createElement("span",{className:"addition-by-main-gen"},"+",O),")"))))}}var Se=function(e,t=null){return e.length-(null!=t?1:0)<8};function je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function De(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?je(Object(a),!0).forEach((function(t){we(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):je(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function we(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ae(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Pe=Object(l.b)(e=>({deckCards:e.deckReducer.deckCards,assistDeckCards:e.deckReducer.assistDeckCards,enableSearch:null!=e.deckReducer.searchCondition,activeIndex:e.deckReducer.activeIndex,activeAssistIndex:e.deckReducer.activeAssistIndex,generals:e.datalistReducer.generals,assistGenerals:e.datalistReducer.assistGenerals,filterContents:e.datalistReducer.filterContents,limitCost:e.deckReducer.deckConstraints.limitCost,assistCardLimit:e.deckReducer.deckConstraints.assistCardLimit,aprilFoolGeneral:e.windowReducer.aprilFoolGeneral}),e=>Object(d.a)({openDeckConfig:E.openDeckConfig,selectMainGen:x.selectMainGen,setActiveCard:x.setActiveCard,removeDeck:x.removeDeck,rawAddDeckDummy:x.addDeckDummy,setActiveAssistCard:x.setActiveAssistCard,removeDeckAssist:x.removeDeckAssist,clearDeck:x.clearDeck,searchByDeck:x.searchByDeck,resetPage:j.resetPage,showDialog:M.showDialog},e),(e,t)=>{const{deckCards:a,assistDeckCards:n,enableSearch:r,activeIndex:s,activeAssistIndex:c,generals:i,assistGenerals:o,limitCost:l,assistCardLimit:d,aprilFoolGeneral:m}=e,{rawAddDeckDummy:u,clearDeck:p,searchByDeck:h,resetPage:g,showDialog:f}=t,b=Ae(t,["rawAddDeckDummy","clearDeck","searchByDeck","resetPage","showDialog"]),E=Se(a);let y=0,C=0,O=0,v=0,k=!1,N=!1;const S=[],j=[],D=new Set,w=new Map,A=new Map;if(a.forEach(e=>{let t;if("general"in e){const a=null!=e.general?i.find(t=>t.id===e.general):void 0;if(!a)return;y+=a.force,C+=a.intelligence,O+=a.conquest,t=a.raw.cost,D.add(a.raw.state);const n=e.genMain;if(null!=n){const e=a.genMains.find(e=>e.id===n);if(e){const t=w.get(e.name)||0;w.set(e.name,t+1)}}a.skills.forEach(e=>{const t=A.get(e.name)||0;A.set(e.name,t+1)}),S.push({general:a,genMain:n,pocket:e.pocket})}else k=!0,t=e.cost,e.belongState?D.add(e.belongState):N=!0,S.push(e);v+=parseInt(t)}),n.forEach(({assist:e})=>{const t=o.find(t=>t.id===e);t&&j.length<d&&(j.push({assist:t}),D.add(t.raw.state))}),j.length<d){const e=d-j.length;for(let t=0;t<e;t++)j.push({assist:null})}const P=D.size+(N?1:0);let I;1===P?I=12:2===P?I=9:(N=!1,I=6);const x=40*(A.get("魅力")||0);let T;T=O>=11?"S":O>=9?"A":O>=7?"B":"C";let _=2*(w.get("同盟者")||0);I+_>=12?(_=12-I,I=12):I+=_;const R=40*(w.get("士気上昇")||0),M=3*(w.get("知力上昇")||0);C+=M;const G=1*(w.get("征圧力上昇")||0);O+=G;const V={deckCards:S,assistDeckCards:j,activeIndex:s,activeAssistIndex:c,enabledAddDeck:E,enableSearch:r,totalForce:y,totalIntelligence:C,intelligenceByMainGen:M,totalConquest:O,conquestByMainGen:G,conquestRank:T,totalCost:v,limitCost:l,maxMorale:I,maxMoraleByMainGen:_,tolalMoraleByCharm:x,tolalMoraleByMainGen:R,hasDummy:k,hasStateDummy:N,aprilFoolGeneral:m},L=De({},b,{addDeckDummy:()=>{if(!E)return;let e,t,a="10";const{costs:n,belongStates:r,unitTypes:s}=B.getState().datalistReducer.filterCondition.basic;n.length>=1&&(a=[...n].sort()[0]),1===r.length&&(e=r[0]),1===s.length&&(t=s[0]),u({cost:a,belongState:e,unitType:t})},clearDeck:()=>{S.length>0&&f({title:"デッキクリア",message:"デッキをクリアします。",redText:"クリア",actionRed:()=>{p()},blueText:"キャンセル",actionBlue:()=>{}})},toggleSearch:(e,t)=>{g(),s===e&&r?b.setActiveCard(e):h(e,t)}});return De({},V,{},L)},{areMergedPropsEqual:()=>!1})(Ne);a(174);class Ie extends c.a.PureComponent{constructor(...e){super(...e),this.scrollArea=c.a.createRef(),this.handleOnPagePrev=e=>{e.stopPropagation(),this.props.onPagePrev()},this.handleOnPageNext=e=>{e.stopPropagation(),this.props.onPageNext()},this.handleOnScroll=()=>{Object(m.forceCheck)()}}componentDidUpdate(e){const t=this.isChangedList(e),a=this.scrollArea.current;t&&a&&(a.scrollTop=0),Object(m.forceCheck)()}render(){const{count:e,searchedAll:t,searchedOffset:a,searchedLimit:n,hasPrev:r,hasNext:s,show:i}=this.props,o=this.createCardElements();0===e&&o.push(c.a.createElement("div",{key:-1,className:"no-generals"},"該当なし"));const l=t>0?a+1:0;let d=a+n;d>t&&(d=t);const m={};return i||(m.display="none"),c.a.createElement("div",{className:"cardlist-container",style:m,onScroll:this.handleOnScroll},c.a.createElement("div",{className:"cardlist-paging"},c.a.createElement("button",{className:Q()("paging-button","prev",{active:r}),onClick:this.handleOnPagePrev},"< 前"),c.a.createElement("div",{className:"pageing-label"},"全",t,"件 ",l," - ",d,"件"),c.a.createElement("button",{className:Q()("paging-button","next",{active:s}),onClick:this.handleOnPageNext},"次 >")),c.a.createElement("div",{className:"cardlist-main",ref:this.scrollArea},o))}}a(175);var xe=a(38);function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Re extends c.a.PureComponent{constructor(...e){super(...e),this.handleAddDeckClick=e=>{const{general:t,onAddDeck:a}=this.props;e.stopPropagation();const n=e.currentTarget.dataset.genMain;a({general:t.id,genMain:n,pocket:!1})}}render(){const{general:e,enabledAddDeck:t}=this.props,a=[];return e.genMains.forEach((e,n)=>{a.push(c.a.createElement("button",{className:"gen-main",key:n,disabled:!t,"data-gen-main":e.id,onClick:this.handleAddDeckClick},e.nameShort,c.a.createElement($.a,{className:"add-icon",icon:oe.faPlusCircle}),c.a.createElement($.a,{className:"change-icon",icon:xe.faSyncAlt})))}),c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"gen-mains","data-label":"主将器"},a),c.a.createElement("span",{className:"buttons"},c.a.createElement("button",{className:"add-deck",disabled:!t,onClick:this.handleAddDeckClick},c.a.createElement($.a,{className:"add-icon",icon:oe.faPlusCircle}),c.a.createElement($.a,{className:"change-icon",icon:xe.faSyncAlt}))))}}var Me=Object(l.b)(e=>({generals:e.datalistReducer.generals,assistGenerals:e.datalistReducer.assistGenerals,deckCards:e.deckReducer.deckCards,assistDeckCards:e.deckReducer.assistDeckCards,assistCardLimit:e.deckReducer.deckConstraints.assistCardLimit,activeIndex:e.deckReducer.activeIndex,activeAssistIndex:e.deckReducer.activeAssistIndex,sameCard:e.deckReducer.deckConstraints.sameCard}),e=>Object(d.a)({addDeckGeneral:x.addDeckGeneral,changeDeckGeneral:x.changeDeckGeneral},e),(e,t,a)=>{const{deckCards:n,assistDeckCards:r,activeIndex:s,activeAssistIndex:c,sameCard:i}=e,{general:o}=a,l=function(e,t){const{generals:a,activeIndex:n}=e,r=[];return t.forEach((e,t)=>{n!==t&&"general"in e&&r.push(e.general)}),a.filter(e=>r.includes(e.id)).map(e=>{const{personal:t,strat:a}=e.raw;return{personal:t,strat:a}})}(e,n),d=function(e,t){const{assistGenerals:a,assistCardLimit:n}=e,r=t.filter((e,t)=>t<n).map(e=>e.assist);return a.filter(e=>r.includes(e.id)).map(e=>e.raw.personal)}(e,r),m=null==c&&Se(n,s)&&function(e,t,a,n){if("personal-strategy"!==n&&"personal-assist"!==n){if(a.some(t=>t===e.raw.personal))return!1}return"personal-strategy"===n||"personal-strategy-exclude-assist"===n?!t.some(t=>t.personal===e.raw.personal&&t.strat===e.raw.strat):!t.some(t=>t.personal===e.raw.personal)}(o,l,d,i);return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(a),!0).forEach((function(t){_e(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},{enabledAddDeck:m},{},{onAddDeck:e=>{m&&(null!=s?t.changeDeckGeneral(s,e):t.addDeckGeneral(e))}},{},a)},{areMergedPropsEqual:(e,t)=>!e.show&&!t.show})(Re);class Ge extends c.a.PureComponent{render(){const{genMains:e,officialUrl:t}=this.props,a=[];return e.forEach((e,t)=>{a.push(c.a.createElement("span",{className:"gen-main-readonly",key:t},e.nameShort))}),c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"gen-mains","data-label":"主将器"},a),c.a.createElement("span",{className:"externals"},c.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},"公式",c.a.createElement("br",null),"サイトへ",c.a.createElement($.a,{icon:ne.faExternalLinkAlt}))))}}class Ve extends c.a.PureComponent{constructor(...e){super(...e),this.handleGeneralClick=()=>{const{general:e,onShowDetail:t}=this.props;t&&t(e)}}render(){var e;const{general:t,show:a,showStrategyExplanation:n,showAddButtons:r,aprilFoolGeneral:s}=this.props,i=null!=s?ue(s.avatar):null,o=r,l={backgroundColor:t.state.thincolor},d={backgroundColor:t.state.color};null==a||a||(l.display="none");const m=[];t.skills.forEach(e=>{m.push(c.a.createElement("span",{className:"skill",key:e.id},e.nameShort))}),0===m.length&&m.push(c.a.createElement("span",{className:"no-skill",key:0},"特技なし"));const p=t.strategy.name,h=t.strategy.stratCategoryName,g=t.strategy.morale,f=t.strategy.explanation,b=[];f.split("\n").forEach((e,t)=>{b.push(c.a.createElement("span",{key:t},e))});const E=r?c.a.createElement(Me,{general:t,show:a}):c.a.createElement(Ge,{genMains:t.genMains,officialUrl:t.officialUrl});return c.a.createElement("div",{className:Q()("general-card",{clickable:o}),style:l,onClick:this.handleGeneralClick},c.a.createElement("span",{className:"state",style:d},t.state.nameShort),c.a.createElement("span",{className:"version"},t.version),c.a.createElement("span",{className:"rarity"},t.rarity.name),c.a.createElement("span",{className:"name"},null!==(e=null==s?void 0:s.name)&&void 0!==e?e:t.name),c.a.createElement("span",{className:"image"},c.a.createElement(u.a,{height:64,once:!0,scroll:!1,resize:!1,placeholder:c.a.createElement("div",{className:"no-image general-thumb"})},c.a.createElement("img",{className:"general-thumb",src:null!=i?i:t.avatarUrl(!1)}))),c.a.createElement("span",{className:"cost","data-label":"コスト"},t.cost.name),c.a.createElement("span",{className:"unit","data-label":"兵種"},t.unitType.nameShort),c.a.createElement("span",{className:"force","data-label":"武"},t.force),c.a.createElement("span",{className:"intelligence","data-label":"知"},t.intelligence),c.a.createElement("span",{className:"conquest","data-label":"制圧"},t.conquest),c.a.createElement("span",{className:"skills"},m),c.a.createElement("span",{className:Q()("strategy",{show:!n}),"data-label":"計略名",title:f},p),c.a.createElement("span",{className:Q()("strategy-category",{show:!n})},"[",h,"]"),c.a.createElement("span",{className:Q()("strategy-explanation",{show:n})},b),c.a.createElement("span",{className:"strategy-morale","data-label1":"必要","data-label2":"士気"},g),E)}}a(64);var Le=a(49),Fe=a(51);function Be(e,t){if(null==e)return!1;return t.split(/\s+/g).filter(e=>e.length>0).every(t=>e.includes(t))}var Ue=(e,t)=>{const{moraleMin:a,moraleMax:n,strategyCategories:r,strategyRanges:s,strategyTimes:c,strategySearchName:i,strategySearchExplanation:o}=t;return!(a>e.morale)&&(!(n<e.morale)&&(!(r.length>0&&!r.includes(e.stratCategory))&&(!(s.length>0&&!s.includes(e.stratRange))&&(!(c.length>0&&!c.includes(e.stratTime))&&(!(i.length>0&&!Be(e.name,i)&&(l=e.nameRuby,d=i,null==l||!d.split(/\s+/g).filter(e=>e.length>0).map(e=>Object(Le.a)(Object(Fe.a)(e),!0).replace(/[ﾞﾟ]/g,"")).every(e=>l.includes(e))))&&!(o.length>0&&!Be(e.explanation,o)))))));var l,d};var qe=(e,t)=>{const{belongStates:a,costs:n,unitTypes:r,forceMin:s,forceMax:c,useCostRatioForce:i,costRatioForceMin:o,costRatioForceMax:l,costRatioBaseForces:d,intelligenceMin:m,intelligenceMax:u,conquestMin:p,conquestMax:h,skills:g,skillsAnd:f,searchText:b}=t.basic,{raw:E}=e;if(a.length>0&&!a.includes(E.state))return!1;if(n.length>0&&!n.includes(E.cost))return!1;if(r.length>0&&!r.includes(E.unit_type))return!1;if(i){const t=d[e.raw.cost];if(null==t)return!1;const a=e.force-t;if(o>a)return!1;if(l<a)return!1}else{if(s>e.force)return!1;if(c<e.force)return!1}if(m>e.intelligence)return!1;if(u<e.intelligence)return!1;if(p>e.conquest)return!1;if(h<e.conquest)return!1;if(g.length>0){const t=t=>"0"===t?0===e.skills.length:e.skills.map(e=>e.id).includes(t);if(f){if(!g.every(t))return!1}else if(!g.some(t))return!1}const{genMains:y,genMainsAnd:C,rarities:O,generalTypes:v,varTypes:k,versions:N,majorVersions:S,enableDetailVersion:j,pockets:D}=t.detail;if(O.length>0&&!O.includes(E.rarity))return!1;if(j){if(N.length>0&&!N.includes(e.versionValue))return!1}else if(S.length>0&&!S.includes(E.major_version))return!1;if(y.length>0){const t=t=>e.genMains.map(e=>e.id).includes(t);if(C){if(!y.every(t))return!1}else if(!y.some(t))return!1}if(v.length>0&&!v.includes(E.general_type))return!1;if(k.length>0&&!k.includes(E.ver_type))return!1;if(1===D.length&&"1"===D[0]!=(""!==E.pocket_code))return!1;if(b.length>0){if(null==e.personal)return!1;if(!function(e,t){return null!=e&&t.split(/\s+/g).filter(e=>e.length>0).some(t=>e.includes(t))}(e.personal.name,b)&&!function(e,t){return null!=e&&t.split(/\s+/g).filter(e=>e.length>0).map(e=>Object(Le.a)(Object(Fe.a)(e),!0).replace(/[ﾞﾟ]/g,"")).some(t=>e.includes(t))}(e.personal.name_ruby,b))return!1}return!0};function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(Object(a),!0).forEach((function(t){Ye(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ye(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const We={areMergedPropsEqual:(e,t)=>{return e.aprilFoolGeneral===t.aprilFoolGeneral&&(e.show===t.show&&(e.showStrategyExplanation===t.showStrategyExplanation&&(e.searchedAll===t.searchedAll&&(e.searchedOffset===t.searchedOffset&&(a=e.searchedGeneralIds,n=t.searchedGeneralIds,!(a.length!==n.length||!a.every(e=>n.includes(e))))))));var a,n}};var Xe=Object(l.b)(e=>({generals:e.datalistReducer.generals,strategies:e.datalistReducer.strategies,currentPage:e.datalistReducer.currentPage,pageLimit:e.datalistReducer.pageLimit,filterCondition:e.datalistReducer.effectiveFilterCondition,deckSearchCondition:e.deckReducer.searchCondition,aprilFoolGeneral:e.windowReducer.aprilFoolGeneral}),e=>Object(d.a)({decrementPage:j.decrementPage,incrementPage:j.incrementPage,openGeneralDetail:E.openGeneralDetail},e),(e,t)=>{const{generals:a,strategies:n,currentPage:r,pageLimit:s,filterCondition:c,deckSearchCondition:i,aprilFoolGeneral:o}=e;let l=c;i&&(l=Ke({},l,{basic:Ke({},l.basic)}),null!=i.belongState&&(l.basic.belongStates=[i.belongState]),l.basic.costs=[i.cost],null!=i.unitType&&(l.basic.unitTypes=[i.unitType]));const d=n.filter(e=>Ue(e,l.strategies));let m=[];if(d.length>0){const e=d.length!==n.length?d.map(e=>e.id):void 0;m=a.filter(t=>!(e&&!e.includes(t.strategy.id))&&qe(t,l)).map(e=>e.id)}const u=m.length,p=(r-1)*s,h=p>0,g=p+s<u;return m=m.slice(p,p+s),Ke({},{generals:a,count:m.length,searchedGeneralIds:m,searchedAll:u,searchedOffset:p,searchedLimit:s,hasPrev:h,hasNext:g,show:"general"===l.basic.searchMode,showStrategyExplanation:l.strategies.showStrategyExplanation,aprilFoolGeneral:o},{},{onPagePrev:t.decrementPage,onPageNext:t.incrementPage,showGeneralDetail:t.openGeneralDetail})},We)(class extends Ie{constructor(...e){super(...e),this.handleOnShowDetail=e=>{this.props.showGeneralDetail(e)}}createCardElements(){const{generals:e,searchedGeneralIds:t,showStrategyExplanation:a,aprilFoolGeneral:n}=this.props,r=[];return e.forEach(e=>{const s=t.includes(e.id);r.push(c.a.createElement(Ve,{key:e.id,general:e,onShowDetail:this.handleOnShowDetail,show:s,showStrategyExplanation:a,showAddButtons:!0,aprilFoolGeneral:n}))}),r}isChangedList(e){const t=this.props.searchedGeneralIds,a=e.searchedGeneralIds;return!(t.length===a.length&&t.every(e=>a.includes(e)))}});a(180);function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ze(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Qe extends c.a.PureComponent{constructor(...e){super(...e),this.handleAddDeckClick=e=>{const{assist:t,onAddDeck:a}=this.props;e.stopPropagation(),a({assist:t.id})}}render(){const{enabledAddDeck:e}=this.props;return c.a.createElement("span",{className:"buttons"},c.a.createElement("button",{className:"add-deck",disabled:!e,onClick:this.handleAddDeckClick},c.a.createElement($.a,{className:"add-icon",icon:oe.faPlusCircle}),c.a.createElement($.a,{className:"change-icon",icon:xe.faSyncAlt})))}}var $e=Object(l.b)(e=>({generals:e.datalistReducer.generals,assistGenerals:e.datalistReducer.assistGenerals,deckCards:e.deckReducer.deckCards,assistDeckCards:e.deckReducer.assistDeckCards,assistCardLimit:e.deckReducer.deckConstraints.assistCardLimit,activeIndex:e.deckReducer.activeIndex,activeAssistIndex:e.deckReducer.activeAssistIndex,sameCard:e.deckReducer.deckConstraints.sameCard}),e=>Object(d.a)({addDeckAssist:x.addDeckAssist,changeDeckAssist:x.changeDeckAssist},e),(e,t,a)=>{const{deckCards:n,assistDeckCards:r,activeIndex:s,activeAssistIndex:c,sameCard:i,assistCardLimit:o}=e,{assist:l}=a,d=function(e,t){const{generals:a,activeIndex:n}=e,r=[];return t.forEach((e,t)=>{n!==t&&"general"in e&&r.push(e.general)}),a.filter(e=>r.includes(e.id)).map(e=>e.raw.personal)}(e,n),m=function(e,t){const{assistGenerals:a,assistCardLimit:n}=e,r=t.filter((e,t)=>t<n).map(e=>e.assist);return a.filter(e=>r.includes(e.id)).map(e=>e.raw.personal)}(e,r),u=null==s&&function(e,t,a=null){return 0!==t&&(null!==a||e.filter((e,a)=>a<t).map(e=>e.assist).length<t)}(r,o,c)&&function(e,t,a,n){return!a.some(t=>t===e.raw.personal)&&("personal-strategy"===n||"personal-assist"===n||!t.some(t=>t===e.raw.personal))}(l,d,m,i);return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(a),!0).forEach((function(t){ze(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},{enabledAddDeck:u},{},{onAddDeck:e=>{u&&(null!=c&&r.length>c?t.changeDeckAssist(c,e):t.addDeckAssist(e))}},{},a)},{areMergedPropsEqual:(e,t)=>!e.show&&!t.show})(Qe);class Ze extends c.a.PureComponent{constructor(...e){super(...e),this.handleAssistGeneralClick=()=>{const{general:e,onShowDetail:t}=this.props;t&&t(e)}}render(){var e,t,a;const{general:n,show:r,showStrategyExplanation:s,showAddButtons:i,aprilFoolGeneral:o}=this.props,l=null!=o?pe(o.avatar):null,d={backgroundColor:n.state.thincolor},m={backgroundColor:n.state.color};null==r||r||(d.display="none");const p=n.strategy.name,h=(null===(e=n.strategy.category)||void 0===e?void 0:e.name)||"",g=n.strategy.explanation,f=[];g.split("\n").forEach((e,t)=>{f.push(c.a.createElement("span",{key:t},e))});const b=null===(t=n.strategy.range)||void 0===t?void 0:t.code,E=b?he(b):"",y=i?c.a.createElement($e,{assist:n,show:r}):c.a.createElement(c.a.Fragment,null);return c.a.createElement("div",{className:Q()("assist-general-card",{clickable:!1}),style:d,onClick:this.handleAssistGeneralClick},c.a.createElement("span",{className:"state",style:m},n.state.nameShort),c.a.createElement("span",{className:"version"},n.version),c.a.createElement("span",{className:"rarity"},"遊軍"),c.a.createElement("span",{className:"name"},null!==(a=null==o?void 0:o.name)&&void 0!==a?a:n.name),c.a.createElement("span",{className:"image"},c.a.createElement(u.a,{height:64,once:!0,scroll:!1,resize:!1,placeholder:c.a.createElement("div",{className:"no-image general-thumb"})},c.a.createElement("img",{className:"general-thumb",src:null!=l?l:n.avatarUrl}))),c.a.createElement("span",{className:Q()("strategy",{show:!s}),"data-label":"戦技名",title:g},p),c.a.createElement("span",{className:Q()("strategy-category",{show:!s})},"[",h,"]"),c.a.createElement("span",{className:Q()("strategy-explanation",{show:s})},f),c.a.createElement("span",{className:"strategy-range","data-label":"効果範囲"},c.a.createElement("img",{className:"range-image",src:E})),y)}}function et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function tt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const at={areMergedPropsEqual:(e,t)=>{return e.aprilFoolGeneral===t.aprilFoolGeneral&&(e.show===t.show&&(e.showStrategyExplanation===t.showStrategyExplanation&&(e.searchedAll===t.searchedAll&&(e.searchedOffset===t.searchedOffset&&(a=e.searchedAssistGeneralIds,n=t.searchedAssistGeneralIds,!(a.length!==n.length||!a.every(e=>n.includes(e))))))));var a,n}};var nt=Object(l.b)(e=>({assistGenerals:e.datalistReducer.assistGenerals,currentPage:e.datalistReducer.currentPage,pageLimit:e.datalistReducer.pageLimit,belongStates:e.datalistReducer.effectiveFilterCondition.basic.belongStates,enableSearchByDeck:null!=e.deckReducer.searchCondition,searchMode:e.datalistReducer.effectiveFilterCondition.basic.searchMode,aprilFoolGeneral:e.windowReducer.aprilFoolGeneral}),e=>Object(d.a)({decrementPage:j.decrementPage,incrementPage:j.incrementPage,openAssistGeneralDetail:E.openAssistGeneralDetail},e),(e,t)=>{const{assistGenerals:a,currentPage:n,pageLimit:r,belongStates:s,enableSearchByDeck:c,searchMode:i,aprilFoolGeneral:o}=e;let l=[];c||(l=a.filter(e=>!(s.length>0&&!s.includes(e.raw.state))).map(e=>e.id));const d=l.length,m=(n-1)*r,u=m>0,p=m+r<d;return l=l.slice(m,m+r),function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?et(Object(a),!0).forEach((function(t){tt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):et(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},{assistGenerals:a,count:l.length,searchedAssistGeneralIds:l,searchedAll:d,searchedOffset:m,searchedLimit:r,hasPrev:u,hasNext:p,show:"assist"===i,showStrategyExplanation:!1,aprilFoolGeneral:o},{},{onPagePrev:t.decrementPage,onPageNext:t.incrementPage,showGeneralDetail:t.openAssistGeneralDetail})},at)(class extends Ie{constructor(...e){super(...e),this.handleOnShowDetail=e=>{this.props.showGeneralDetail(e)}}createCardElements(){const{assistGenerals:e,searchedAssistGeneralIds:t,showStrategyExplanation:a,aprilFoolGeneral:n}=this.props,r=[];return e.forEach(e=>{const s=t.includes(e.id);r.push(c.a.createElement(Ze,{key:e.id,general:e,onShowDetail:this.handleOnShowDetail,show:s,showStrategyExplanation:a,showAddButtons:!0,aprilFoolGeneral:n}))}),r}isChangedList(e){const t=this.props.searchedAssistGeneralIds,a=e.searchedAssistGeneralIds;return!(t.length===a.length&&t.every(e=>a.includes(e)))}});let rt;function st(e){return t=>{e(j.setBasicCondition(t)),clearTimeout(rt),rt=setTimeout(()=>{e(j.applyCondition())},500)}}function ct(e){return t=>{e(j.setDetailCondition(t)),clearTimeout(rt),rt=setTimeout(()=>{e(j.applyCondition())},500)}}function it(e){return t=>{e(j.setStrategiesCondition(t)),clearTimeout(rt),rt=setTimeout(()=>{e(j.applyCondition())},500)}}a(181);function ot(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function lt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(a),!0).forEach((function(t){dt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ot(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function dt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const mt=({filterContents:e,filterCondition:t,value:a,checked:n})=>{let r=t.filter(e=>!e.startsWith("".concat(a,"-")));if(!n){const t=[].concat(...e).filter(e=>e.id.startsWith("".concat(a,"-")));r=r.concat(t.map(e=>e.id))}return r},ut=(e,t,a,n,r)=>{let s=[...t];const c=n.split("-")[0];if(r)a.some(e=>e.startsWith("".concat(c,"-")))||(s=s.filter(e=>e!==c));else if(!s.includes(c)){[].concat(...e).filter(e=>e.id.startsWith("".concat(c,"-"))).every(e=>a.includes(e.id))&&s.push(c)}return s};function pt(e,t){const a=t.includes(e);let n;return n=a?t.filter(t=>t!==e):[...t,e],{checked:a,targetValue:n}}function ht(e,t,a){const n=e[t];if(!(n instanceof Array))return console.warn("".concat(t," is not array.")),{};const{targetValue:r}=pt(a,n);return{[t]:r}}a(182),a(183);const gt=["button","filter-item"];class ft extends c.a.PureComponent{constructor(e){super(e),this.buttonClasses=void 0,this.square=void 0,this.handleClickItem=e=>{const t=e.currentTarget.value,{itemName:a,onClickItem:n}=this.props;n(a,t)},this.buttonClasses=e.addtionalClasses?[...gt,...e.addtionalClasses]:gt,this.square=this.props.square||!1}createLabel(e){return e.nameShort||e.name}createButton(e,t,a,n,r){return c.a.createElement("button",{key:e,value:e,style:a,className:r,disabled:n,onClick:this.handleClickItem},t)}render(){const{checkedItems:e,items:t,show:a,disabled:n}=this.props,r=this.square,s=[],i=null!=n&&n;t.forEach(t=>{const a=t.id,n=this.createLabel(t),c={};t.color&&(c.backgroundColor=t.color);const o=e.includes(a);s.push(this.createButton(a,n,c,i,Q()(this.buttonClasses,{checked:o,square:r})))});const o={};return null==a||a||(o.display="none"),c.a.createElement("div",{className:"button-list",style:o},s)}}class bt extends c.a.Component{constructor(...e){super(...e),this.handleToggleCheckList=(e,t)=>{this.props.toggleCheckList(e,t)},this.handleOnClickToggleSearchMode=()=>{const{searchMode:e,setCondition:t}=this.props;t({searchMode:"general"===e?"assist":"general"})}}render(){const{filterContents:e,filterCondition:t,searchByDeck:a,searchMode:n}=this.props,r="general"===n;return c.a.createElement("section",{className:"simple-filter-section"},c.a.createElement("div",{className:"simple-filter-state"},c.a.createElement("h2",{className:"title-inline"},"勢力"),c.a.createElement(ft,{itemName:"belongStates",items:e,checkedItems:t,onClickItem:this.handleToggleCheckList,square:!0,disabled:a})),c.a.createElement("div",{className:Q()("search-mode",{"mode-general":r}),onClick:this.handleOnClickToggleSearchMode},c.a.createElement("span",{className:"mode-item mode-item-general"},"武将"),c.a.createElement("span",{className:"mode-item mode-item-assist"},"遊軍")))}}function Et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function yt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ct=Object(l.b)(e=>{const{searchCondition:t}=e.deckReducer,a=t?t.belongState:void 0;return{belongStates:e.datalistReducer.filterContents.belongStates,basicFilterCondition:e.datalistReducer.filterCondition.basic,deckCardBelongState:a}},e=>({setCondition:st(e)}),(e,t)=>{const{deckCardBelongState:a,belongStates:n,basicFilterCondition:r}=e;let s=!1,c=r.belongStates;return null!=a&&(s=!0,c=[a]),function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(a),!0).forEach((function(t){yt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Et(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},{filterContents:n,filterCondition:c,searchByDeck:s,searchMode:r.searchMode},{},{setCondition:t.setCondition,toggleCheckList:(e,a)=>{t.setCondition(ht(r,e,a))}})},{areMergedPropsEqual:()=>!1})(bt);a(184),a(185);class Ot extends ft{createButton(e,t,a,n,r){return"0"!==e?super.createButton(e,t,a,n,r):super.createButton(e,"無",a,n,Q()(r,"no-skill"))}}a(186);class vt extends c.a.PureComponent{constructor(...e){super(...e),this.handleOnChange=()=>{const{isOn:e,itemName:t,onChangeValue:a}=this.props;a(t,!e)}}render(){const{isOn:e,labelOff:t,labelOn:a,width:n}=this.props,r={};return null!=n&&(r.width=n),Q()("switch-button",{active:e}),c.a.createElement("div",{style:r,className:"switch-item",onClick:this.handleOnChange},c.a.createElement("div",{className:Q()("switch-button",{active:!e})},c.a.createElement("button",{className:"switch-button-child"},t)),c.a.createElement("div",{className:Q()("switch-button",{active:e})},c.a.createElement("button",{className:"switch-button-child"},a)))}}a(187);class kt extends c.a.PureComponent{constructor(...e){super(...e),this.handleOnChange=e=>{const t=parseFloat(e.currentTarget.value),{itemName:a,onChangeValue:n}=this.props;n(a,t)}}render(){const{min:e,max:t,value:a,className:n,displayText:r,step:s=1}=this.props,i=e<0,o=[];for(let a=e;a<=t;a+=s){const e=r?r(a):"".concat(a),t=i&&a>0?"+":"";o.push(c.a.createElement("option",{key:a,value:a},t,e))}return c.a.createElement("select",{value:a,className:Q()("number-select",n),onChange:this.handleOnChange},o)}}a(188);function Nt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function St(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(a),!0).forEach((function(t){jt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Nt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function jt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Dt extends c.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeValue=(e,t)=>{const{setCondition:a,costRatioBaseForces:n}=this.props;a({costRatioBaseForces:St({},n,{[e]:t})})}}render(){const{costRatioBaseForces:e}=this.props;return c.a.createElement("div",{className:"cost-ratio-base-force"},c.a.createElement("span",{className:"title-inline"},"基準武力"),c.a.createElement("label",null,"1.0",c.a.createElement(kt,{itemName:"10",onChangeValue:this.handleOnChangeValue,value:e[10],max:5,min:1})),c.a.createElement("label",null,"1.5",c.a.createElement(kt,{itemName:"15",onChangeValue:this.handleOnChangeValue,value:e[15],max:7,min:2})),c.a.createElement("label",null,"2.0",c.a.createElement(kt,{itemName:"20",onChangeValue:this.handleOnChangeValue,value:e[20],max:9,min:5})),c.a.createElement("label",null,"2.5",c.a.createElement(kt,{itemName:"25",onChangeValue:this.handleOnChangeValue,value:e[25],max:10,min:6})),c.a.createElement("label",null,"3.0",c.a.createElement(kt,{itemName:"30",onChangeValue:this.handleOnChangeValue,value:e[30],max:11,min:8})))}}a(189);class wt extends c.a.PureComponent{constructor(...e){super(...e),this.handleOnChange=e=>{const t=e.currentTarget.value,{itemName:a,onChangeValue:n}=this.props;n(a,t)}}render(){const{value:e,className:t}=this.props;return c.a.createElement("input",{type:"text",value:e,className:Q()("search-textbox",t),onChange:this.handleOnChange})}}class At extends c.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeValue=(e,t)=>{"searchMode"!==e?this.props.setCondition({[e]:t}):this.props.setCondition({searchMode:t?"assist":"general"})}}render(){const{filterContents:e,filterCondition:t,searchByDeckBelongState:a,searchByDeckCost:n,searchByDeckUnitType:r,setCondition:s,toggleCheckList:i}=this.props,o="general"!==t.searchMode;return c.a.createElement("div",{className:Q()({"general-mode-off":o})},c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"武将/遊軍切り替え"),c.a.createElement(vt,{itemName:"searchMode",onChangeValue:this.handleOnChangeValue,isOn:o,labelOff:"武将",labelOn:"遊軍",width:160})),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"勢力"),c.a.createElement(ft,{itemName:"belongStates",items:e.belongStates,checkedItems:t.belongStates,onClickItem:i,square:!0,disabled:a})),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"コスト"),c.a.createElement(ft,{itemName:"costs",items:e.costs,checkedItems:t.costs,onClickItem:i,square:!0,disabled:n})),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"兵種"),c.a.createElement(ft,{itemName:"unitTypes",items:e.unitTypes,checkedItems:t.unitTypes,onClickItem:i,square:!0,disabled:r})),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"武力"),c.a.createElement("div",{className:"title-button"},c.a.createElement(vt,{itemName:"useCostRatioForce",onChangeValue:this.handleOnChangeValue,isOn:t.useCostRatioForce,labelOff:"通常",labelOn:"コスト比",width:180})),c.a.createElement("div",{className:Q()("normal-force",{active:!t.useCostRatioForce})},c.a.createElement("div",{className:"range"},c.a.createElement(kt,{itemName:"forceMin",onChangeValue:this.handleOnChangeValue,value:t.forceMin,max:11,min:1}),"-",c.a.createElement(kt,{itemName:"forceMax",onChangeValue:this.handleOnChangeValue,value:t.forceMax,max:11,min:1}))),c.a.createElement("div",{className:Q()("cost-ratio-force",{active:t.useCostRatioForce})},c.a.createElement("div",{className:"range"},c.a.createElement(kt,{itemName:"costRatioForceMin",onChangeValue:this.handleOnChangeValue,value:t.costRatioForceMin,max:5,min:-5}),"以上"),c.a.createElement(Dt,{costRatioBaseForces:t.costRatioBaseForces,setCondition:s}))),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"知力"),c.a.createElement("div",{className:"range"},c.a.createElement(kt,{itemName:"intelligenceMin",onChangeValue:this.handleOnChangeValue,value:t.intelligenceMin,max:11,min:1}),"-",c.a.createElement(kt,{itemName:"intelligenceMax",onChangeValue:this.handleOnChangeValue,value:t.intelligenceMax,max:11,min:1}))),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"征圧力"),c.a.createElement("div",{className:"range"},c.a.createElement(kt,{itemName:"conquestMin",onChangeValue:this.handleOnChangeValue,value:t.conquestMin,max:4,min:0}),"-",c.a.createElement(kt,{itemName:"conquestMax",onChangeValue:this.handleOnChangeValue,value:t.conquestMax,max:4,min:0}))),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"特技"),c.a.createElement("div",{className:"title-button"},c.a.createElement(vt,{itemName:"skillsAnd",onChangeValue:this.handleOnChangeValue,isOn:t.skillsAnd,labelOff:"OR",labelOn:"AND"})),c.a.createElement(Ot,{itemName:"skills",items:e.skills,checkedItems:t.skills,onClickItem:i,square:!0})),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"武将名検索"),c.a.createElement(wt,{itemName:"searchText",value:t.searchText,onChangeValue:this.handleOnChangeValue}),c.a.createElement("div",null,"スペース区切りでOR検索 読み仮名(ひらがな、カタカナ)対応")))}}function Pt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function It(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(a),!0).forEach((function(t){xt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function xt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Tt=Object(l.b)(e=>{const{searchCondition:t}=e.deckReducer;return{filterCondition:e.datalistReducer.filterCondition.basic,filterContents:e.datalistReducer.filterContents,deckSearchCondition:t}},e=>({setCondition:st(e)}),(e,t)=>{const{deckSearchCondition:a,filterCondition:n,filterContents:r}=e;let s;if(a){let e,t=!1;null!=a.belongState?(e=[a.belongState],t=!0):e=n.belongStates;const c=[a.cost];let i,o=!1;null!=a.unitType?(i=[a.unitType],o=!0):i=n.unitTypes,s={filterContents:r,searchByDeckBelongState:t,searchByDeckCost:!0,searchByDeckUnitType:o,filterCondition:It({},n,{belongStates:e,costs:c,unitTypes:i})}}else s={filterContents:r,filterCondition:n,searchByDeckBelongState:!1,searchByDeckCost:!1,searchByDeckUnitType:!1};const c=It({},t,{toggleCheckList:(e,a)=>{t.setCondition(ht(n,e,a))}});return It({},s,{},c)},{areMergedPropsEqual:()=>!1})(At);a(190);const _t=[{id:"1",name:"あり"},{id:"0",name:"なし"}];class Rt extends c.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{searchMode:e,filterContents:t,filterCondition:a,toggleCheckList:n}=this.props,r="general"!==e,s=[];return t.versions.forEach((e,t)=>{s.push(c.a.createElement(ft,{key:t+1,itemName:"versions",items:e,checkedItems:a.versions,onClickItem:n}))}),c.a.createElement("div",{className:Q()({"general-mode-off":r})},c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"登場弾"),c.a.createElement("div",{className:"title-button"},c.a.createElement(vt,{itemName:"enableDetailVersion",onChangeValue:this.handleOnChangeValue,isOn:a.enableDetailVersion,labelOff:"メジャーVer",labelOn:"詳細Ver",width:220})),c.a.createElement("div",{className:Q()("major-version",{active:!a.enableDetailVersion})},c.a.createElement(ft,{itemName:"majorVersions",items:t.majorVersions,checkedItems:a.majorVersions,onClickItem:n})),c.a.createElement("div",{className:Q()("detail-version",{active:a.enableDetailVersion})},s)),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"将器主効果候補"),c.a.createElement("div",{className:"title-button"},c.a.createElement(vt,{itemName:"genMainsAnd",onChangeValue:this.handleOnChangeValue,isOn:a.genMainsAnd,labelOff:"OR",labelOn:"AND"})),c.a.createElement(ft,{itemName:"genMains",items:t.genMains,checkedItems:a.genMains,onClickItem:n})),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"レアリティ"),c.a.createElement(ft,{itemName:"rarities",items:t.rarities,checkedItems:a.rarities,onClickItem:n,square:!0})),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"官職"),c.a.createElement(ft,{itemName:"generalTypes",items:t.generalTypes,checkedItems:a.generalTypes,onClickItem:n})),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"カード種別"),c.a.createElement(ft,{itemName:"varTypes",items:t.varTypes,checkedItems:a.varTypes,onClickItem:n})),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"ぽけっと武将"),c.a.createElement(ft,{itemName:"pockets",items:_t,checkedItems:a.pockets,onClickItem:n})))}}function Mt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Gt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Vt=Object(l.b)(e=>({searchMode:e.datalistReducer.filterCondition.basic.searchMode,filterCondition:e.datalistReducer.filterCondition.detail,filterContents:e.datalistReducer.filterContents}),e=>({setCondition:ct(e)}),(e,t)=>function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(a),!0).forEach((function(t){Gt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Mt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e,{},t,{toggleCheckList:(a,n)=>{t.setCondition(function(e,t,a){const n=e.filterCondition[t];if(!(n instanceof Array))return console.warn("".concat(t," is not array.")),{};const{checked:r,targetValue:s}=pt(a,n),c={[t]:s};switch(t){case"majorVersions":return lt({},c,{versions:mt({filterContents:e.filterContents.versions,filterCondition:e.filterCondition.versions,value:a,checked:r})});case"versions":return lt({},c,{majorVersions:ut(e.filterContents.majorVersions,e.filterCondition.majorVersions,s,a,r)});default:return c}}(e,a,n))}}),{areMergedPropsEqual:()=>!1})(Rt);a(191),a(192);class Lt extends ft{createButton(e,t,a,n,r){if("string"!=typeof t||!t.includes("】"))return super.createButton(e,t,a,n,Q()(r,"strategy-category-button"));const s=[],i=t.split("】");return i.forEach((e,t)=>{t===i.length-1?s.push(c.a.createElement("span",{className:"main-name",key:t},e)):s.push(c.a.createElement("span",{className:"sub-name",key:t},e+"】"))}),super.createButton(e,s,a,n,Q()(r,"multiline-label","strategy-category-button"))}}a(193);class Ft extends ft{createLabel(e){if(null==e.code)return"";const t=he(e.code);return c.a.createElement("img",{className:"range-image",src:t})}createButton(e,t,a,n,r){return super.createButton(e,t,a,n,Q()(r,"strategy-range-button"))}}class Bt extends c.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{searchMode:e,filterContents:t,filterCondition:a,toggleCheckList:n}=this.props,r="general"!==e;return c.a.createElement("div",{className:Q()({"general-mode-off":r})},c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"計略表示切り替え"),c.a.createElement(vt,{itemName:"showStrategyExplanation",onChangeValue:this.handleOnChangeValue,isOn:a.showStrategyExplanation,labelOff:"計略名",labelOn:"計略説明",width:200})),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"計略名検索"),c.a.createElement(wt,{itemName:"strategySearchName",value:a.strategySearchName,onChangeValue:this.handleOnChangeValue}),c.a.createElement("div",null,"スペース区切りでAND検索 読み仮名(ひらがな、カタカナ)対応")),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"計略説明検索"),c.a.createElement(wt,{itemName:"strategySearchExplanation",value:a.strategySearchExplanation,onChangeValue:this.handleOnChangeValue}),c.a.createElement("div",null,"スペース区切りでAND検索")),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"計略必要士気"),c.a.createElement("div",{className:"range"},c.a.createElement(kt,{itemName:"moraleMin",onChangeValue:this.handleOnChangeValue,value:a.moraleMin,max:12,min:1}),"-",c.a.createElement(kt,{itemName:"moraleMax",onChangeValue:this.handleOnChangeValue,value:a.moraleMax,max:12,min:1}))),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"計略カテゴリー"),c.a.createElement(Lt,{itemName:"strategyCategories",items:t.strategyCategories,checkedItems:a.strategyCategories,onClickItem:n})),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"計略効果時間"),c.a.createElement(ft,{itemName:"strategyTimes",items:t.strategyTimes,checkedItems:a.strategyTimes,onClickItem:n})),c.a.createElement("section",{className:"filter-section general-mode-only"},c.a.createElement("h2",{className:"title"},"計略範囲"),c.a.createElement(Ft,{itemName:"strategyRanges",items:t.strategyRanges,checkedItems:a.strategyRanges,onClickItem:n})))}}function Ut(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(a),!0).forEach((function(t){Ht(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ut(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ht(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Kt=Object(l.b)(e=>({searchMode:e.datalistReducer.filterCondition.basic.searchMode,filterCondition:e.datalistReducer.filterCondition.strategies,filterContents:e.datalistReducer.filterContents}),e=>qt({setCondition:it(e)},Object(d.a)({setShowStrategyExplanation:j.setShowStrategyExplanation},e)),(e,t)=>qt({},e,{},t,{toggleCheckList:(a,n)=>{t.setCondition(function(e,t,a){const n=e[t];if(!(n instanceof Array))return console.warn("".concat(t," is not array.")),{};const{targetValue:r}=pt(a,n);return{[t]:r}}(e.filterCondition,a,n))}}),{areMergedPropsEqual:()=>!1})(Bt),Yt=(a(194),a(195),a(106));class Wt extends c.a.PureComponent{constructor(...e){super(...e),this.handleOnClick=()=>{const{itemName:e,value:t,onClick:a}=this.props;a&&a(e,t)}}render(){const{checked:e,children:t}=this.props;return c.a.createElement("div",{className:"radio-button",onClick:this.handleOnClick},c.a.createElement("span",{className:"radio-check"},c.a.createElement($.a,{className:Q()({checked:e}),icon:Yt.faCircle})),t)}}function Xt(e,t){return"general"===e?"assist"===t?"personal-assist":"personal":"assist"===t?"personal-strategy":"personal-strategy-exclude-assist"}function Jt(e){return{generalConst:"personal-strategy"===e||"personal-strategy-exclude-assist"===e?"general-strategy":"general",assistConst:"personal-assist"===e||"personal-strategy"===e?"assist":"exclude-assist"}}class zt extends c.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeDeckConstraints=(e,t)=>{this.props.setDeckConstraints({[e]:t}),"assistCardLimit"===e&&this.props.sliceDeckAssist()},this.handleOnChangeSameCardGeneral=(e,t)=>{const{assistConst:a}=Jt(this.props.sameCard),n=Xt(t,a);this.handleOnChangeDeckConstraints(e,n)},this.handleOnChangeSameCardAssist=(e,t)=>{const{generalConst:a}=Jt(this.props.sameCard),n=Xt(a,t);this.handleOnChangeDeckConstraints(e,n)}}costDisplayText(e){return"".concat(e/10)}assistLimitDisplayText(e){return 0===e?"なし":1===e?"あり":"".concat(e)}render(){const{show:e,limitCost:t,sameCard:a,assistCardLimit:n,closeDeckConfig:r}=this.props,s={};e||(s.display="none");const{generalConst:i,assistConst:o}=Jt(a);return c.a.createElement("div",{className:"deck-config",style:s},c.a.createElement("div",{className:"deck-config-inner"},c.a.createElement("div",{className:"deck-config-title"},"デッキ設定"),c.a.createElement("div",{className:"deck-config-buttons"},c.a.createElement("button",{className:"action-buton-ok",onClick:r},"OK")),c.a.createElement("div",{className:"deck-config-body"},c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"コスト 上限"),c.a.createElement(kt,{itemName:"limitCost",onChangeValue:this.handleOnChangeDeckConstraints,value:t,max:250,min:10,step:5,displayText:this.costDisplayText})),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"遊軍"),c.a.createElement(kt,{itemName:"assistCardLimit",onChangeValue:this.handleOnChangeDeckConstraints,value:n,max:1,min:0,step:1,displayText:this.assistLimitDisplayText})),c.a.createElement("section",{className:"filter-section same-card-constraint"},c.a.createElement("h2",{className:"title"},"同名武将 制限"),c.a.createElement(Wt,{itemName:"sameCard",value:"general",checked:"general"===i,onClick:this.handleOnChangeSameCardGeneral},"同名武将登録不可(通常ルール)"),c.a.createElement(Wt,{itemName:"sameCard",value:"general-strategy",checked:"general-strategy"===i,onClick:this.handleOnChangeSameCardGeneral},"同名武将登録可、ただし同計略の同名武将は登録不可")),c.a.createElement("section",{className:"filter-section same-card-constraint"},c.a.createElement("h2",{className:"title"},"同名武将・遊軍 制限"),c.a.createElement(Wt,{itemName:"sameCard",value:"exclude-assist",checked:"exclude-assist"===o,onClick:this.handleOnChangeSameCardAssist},"同名の武将・遊軍登録不可(通常ルール)"),c.a.createElement(Wt,{itemName:"sameCard",value:"assist",checked:"assist"===o,onClick:this.handleOnChangeSameCardAssist},"同名の武将・遊軍登録可")))))}}function Qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function $t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Zt=Object(l.b)(e=>function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(a),!0).forEach((function(t){$t(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({show:e.windowReducer.openedDeckConfig},e.deckReducer.deckConstraints),e=>Object(d.a)({closeDeckConfig:E.closeDeckConfig,setDeckConstraints:x.setDeckConstraints,sliceDeckAssist:x.sliceDeckAssist},e))(zt);a(196);let ea=void 0;class ta extends c.a.PureComponent{render(){const{show:e,closeUpdateInfo:t}=this.props,a={};return e?ea="./updateinfo.html":a.display="none",c.a.createElement("div",{className:"update-info",style:a},c.a.createElement("div",{className:"update-info-inner"},c.a.createElement("div",{className:"update-info-title"},"更新情報")),c.a.createElement("div",{className:"update-info-buttons"},c.a.createElement("button",{className:"action-buton-ok",onClick:t},"OK")),c.a.createElement("div",{className:"update-info-body"},c.a.createElement("iframe",{className:"update-info-iframe",src:ea})))}}var aa=Object(l.b)(e=>({show:e.windowReducer.openedUpdateInfo}),e=>Object(d.a)({closeUpdateInfo:E.closeUpdateInfo},e))(ta);a(197);class na extends c.a.PureComponent{render(){const{general:e,aprilFoolGeneral:t}=this.props;if(!e)return c.a.createElement(c.a.Fragment,null);const a=e.strategy.explanation,n=[];a.split("\n").forEach((e,t)=>{n.push(c.a.createElement("span",{key:t},e))});const r=he(e.strategy.stratRangeCode);return c.a.createElement("div",{className:"general-detail"},c.a.createElement("div",{className:"general-detail-inner"},c.a.createElement(Ve,{general:e,showStrategyExplanation:!1,showAddButtons:!1,aprilFoolGeneral:t}),c.a.createElement("div",{className:"general-detail-body"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"strategy-explanation","data-label":"計略説明"},n),c.a.createElement("div",{className:"strategy-range","data-label":"計略範囲"},c.a.createElement("img",{className:"range-image",src:r}))))))}}var ra=Object(l.b)(e=>({general:e.windowReducer.detailGeneral,aprilFoolGeneral:e.windowReducer.aprilFoolGeneral}),{})(na);a(198);class sa extends c.a.PureComponent{constructor(...e){super(...e),this.state={poison:!1},this.actionWithAnimation=(e,t)=>{if(!this.state.buttonAnimation)return this.props.poisonAnimationIfBlue&&"BLUE"===e?(this.setState({poison:!0}),void setTimeout(()=>{t(),this.setState({poison:!1})},500)):void(this.props.animation?(this.setState({buttonAnimation:e}),setTimeout(()=>{this.setState({buttonAnimation:void 0}),t()},500)):t())},this.handleRedClick=e=>{e.stopPropagation(),this.actionWithAnimation("RED",this.props.actionRed)},this.handleBlueClick=e=>{e.stopPropagation(),this.actionWithAnimation("BLUE",this.props.actionBlue)},this.handleCancelClick=e=>{e.stopPropagation(),this.state.buttonAnimation||this.props.cancelable&&this.props.actionCancel()}}render(){const{show:e,title:t,message:a,logoUrl:n,redText:r,blueText:s,cancelable:i,animation:o}=this.props,{buttonAnimation:l,poison:d}=this.state;let m="",u=!1,p=!1;"RED"===l?(m="緋略",u=!0):"BLUE"===l&&(m="蒼略",p=!0);const h={};return e||(h.display="none"),c.a.createElement("div",{className:"dialog-container",style:h},c.a.createElement("div",{className:"dialog-base"},c.a.createElement("div",{className:Q()("dialog-background",{poison:d}),onClick:this.handleCancelClick}),c.a.createElement("div",{className:"dialog"},c.a.createElement("div",{className:"dialog-inner"},c.a.createElement("div",{className:"dialog-title"},t),c.a.createElement("div",{className:"dialog-body"},c.a.createElement("div",{className:Q()("dialog-logo",{show:null!=n})},c.a.createElement("img",{src:n})),c.a.createElement("div",{className:"dialog-message"},a)),c.a.createElement("div",{className:"dialog-actions"},c.a.createElement("div",{className:Q()("dialog-action-button","dialog-action-red",{text:o}),onClick:this.handleRedClick},r),c.a.createElement("div",{className:Q()("dialog-action-button","dialog-action-blue",{text:o}),onClick:this.handleBlueClick},s)),c.a.createElement("div",{className:Q()("dialog-close",{cancelable:i}),onClick:this.handleCancelClick},"x"))),c.a.createElement("div",{className:Q()("action-animation",{red:u,blue:p,show:u||p})},m)))}}function ca(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ia(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function oa(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var la=Object(l.b)(e=>e.dialogReducer,e=>Object(d.a)({closeDialog:M.closeDialog},e),(e,t)=>{const{actionRed:a,actionBlue:n,actionCancel:r}=e;return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ca(Object(a),!0).forEach((function(t){ia(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ca(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},oa(e,["actionRed","actionBlue","actionCancel"]),{},{actionRed:()=>{a(),t.closeDialog()},actionBlue:()=>{n(),t.closeDialog()},actionCancel:()=>{r&&r(),t.closeDialog()}})},{areMergedPropsEqual:()=>!1})(sa);class da extends c.a.PureComponent{constructor(...e){super(...e),this.handleAppClick=()=>{this.props.clearActiveCard(),this.props.closeSideMenu()},this.handleSideMenuButtonClick=()=>{this.props.openSideMenu()}}componentDidMount(){this.props.appDidLoaded()}render(){const{ready:e,loading:t,resetConditions:a,openedSideMenu:n,openFilter:r,showNotice:s,closeFilter:i,closeAllModal:o,changeActiveFilterTab:l,openedFilter:d,openedAnyModal:m,openedAnyModalSmall:u,activeFilter:p,deckSelected:h,aprilFoolGeneral:g,disableAprilFool:f}=this.props,E={display:"none"};return!!g&&(E.display="block",E.position="fixed",E.top="40px",E.left="80px",E.fontSize="20px"),c.a.createElement("div",{className:Q()(["app-container",{modal:m,"modal-small":u,ready:e,"deck-selected":h}]),onClick:this.handleAppClick},c.a.createElement("div",{className:Q()("side-menu",{open:n})},c.a.createElement("div",{className:"side-menu-header"}),c.a.createElement(ie,null),"©SEGA"),c.a.createElement("div",{className:"app-main"},c.a.createElement("div",{className:"app-deck-block"},c.a.createElement("div",{className:"app-header"},c.a.createElement("button",{className:Q()("side-menu-button",{show:!n}),onClick:this.handleSideMenuButtonClick},c.a.createElement($.a,{icon:Z.faBars}),c.a.createElement($.a,{icon:ee.faExclamationCircle,className:Q()("notice",{show:s})})),c.a.createElement("div",{className:"app-header-title"},"三国志大戦デッキシミュレーター")),c.a.createElement("div",{className:"deck-boad-container"},c.a.createElement(Pe,null)),c.a.createElement("div",{className:"simple-filter-container"},c.a.createElement(Ct,null),c.a.createElement("button",{className:"open-filter",onClick:r},"絞込")),c.a.createElement(Xe,null),c.a.createElement(nt,null)),c.a.createElement("div",{className:Q()(["card-filter-container",{open:d}])},c.a.createElement("h1",{className:"card-filter-title"},"絞り込みメニュー"),c.a.createElement("div",{className:"card-filter-buttons"},c.a.createElement(te,{tabs:b,activeTab:p,onTabChanged:l}),c.a.createElement(ae,{resetConditions:a,closeFilter:i})),c.a.createElement("div",{className:Q()(["card-filter-content",{active:"BASIC"===p}])},c.a.createElement(Tt,null)),c.a.createElement("div",{className:Q()(["card-filter-content",{active:"DETAIL"===p}])},c.a.createElement(Vt,null)),c.a.createElement("div",{className:Q()(["card-filter-content",{active:"STRAT"===p}])},c.a.createElement(Kt,null)))),c.a.createElement("button",{style:E,onClick:f},"浄化する"),c.a.createElement("div",{className:"modal-background",onClick:o}),c.a.createElement(ra,null),c.a.createElement(Zt,null),c.a.createElement(aa,null),c.a.createElement("div",{className:Q()("loading-item",{loading:t})}),c.a.createElement(la,null))}}a(199);let ma=null;function ua(){return"localStorage"in window&&function(e){try{const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==e.length}}(window.localStorage)}async function pa(e){const t=await fetch(e+".md5");if(!t.ok)return null;try{!function(e){const t=e.headers.get("date");if(!t)return;const a=new Date(t);3===a.getMonth()&&1===a.getDate()&&(window.__aprilFool=!0),console.log("API date: ".concat(a),a.getMonth(),a.getDate())}(t)}catch(e){console.log(e)}return(await t.text()).trim()}var ha=async function(e,t){if(null!=ma||(ma=ua()),ma){const a=await async function(e,t){const a=t+".md5",n=await pa(e);if(!n)return localStorage.removeItem(a),localStorage.removeItem(t),null;const r=localStorage.getItem(a);let s=!1;if(r&&r===n){const e=localStorage.getItem(t);if(e)return JSON.parse(e);s=!0,localStorage.removeItem(a)}const c=await fetch(e),i=await c.json();return s||(localStorage.setItem(t,JSON.stringify(i)),localStorage.setItem(a,n)),i}(e,t);if(a)return a}return(await fetch(e)).json()};a(202);const ga=(e,t=0,a=!1)=>{let n;return n=a?"-EX":t>0?"-".concat(t):"","第".concat(e,"弾").concat(n)};class fa{constructor(e,t,a){this.id=void 0,this.raw=void 0,this.majorVersion=void 0,this.addVersion=void 0,this.isEx=void 0,this.force=void 0,this.intelligence=void 0,this.conquest=void 0,this.cost=void 0,this.genMains=void 0,this.generalType=void 0,this.personal=void 0,this.rarity=void 0,this.skills=void 0,this.state=void 0,this.unitType=void 0,this.strategy=void 0,this.id=e,this.raw=t,Object.assign(this,a)}get code(){return this.raw.code}get pocketCode(){return this.raw.pocket_code}get name(){return this.personal?this.personal.name:""}get version(){return ga(this.majorVersion,this.addVersion,this.isEx)}get versionValue(){const e=this.isEx?"-EX":"-".concat(this.addVersion);return"".concat(this.majorVersion).concat(e)}get hasPocket(){return""!==this.raw.pocket_code}get officialUrl(){return e=this.code,"https://3594t.net/datalist/?v=GENERAL&s=POPUP_GENERAL&c=".concat(e);var e}thumbUrl(e){return me(e&&this.hasPocket?this.pocketCode:this.code)}avatarUrl(e){return ue(e&&this.hasPocket?this.raw.pocket_avatar:this.raw.avatar)}}class ba{constructor(e,t,a){this.id=void 0,this.raw=void 0,this.majorVersion=void 0,this.addVersion=void 0,this.isEx=void 0,this.personal=void 0,this.state=void 0,this.strategy=void 0,this.id=e,this.raw=t,this.majorVersion=a.majorVersion,this.addVersion=a.addVersion,this.isEx=a.isEx,this.personal=a.personal,this.state=a.state,this.strategy=a.strategy}get code(){return this.raw.code}get name(){return this.personal?this.personal.name:""}get version(){return ga(this.majorVersion,this.addVersion,this.isEx)}get versionValue(){const e=this.isEx?"-EX":"-".concat(this.addVersion);return"".concat(this.majorVersion).concat(e)}get officialUrl(){return e=this.code,"https://3594t.net/datalist/?v=ASSIST&s=POPUP_ASSIST&c=".concat(e);var e}get thumbUrl(){return e=this.code,"https://3594t.net/img/card_small/".concat(e,".jpg");var e}get avatarUrl(){return pe(this.raw.avatar)}}function Ea(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function ya(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ca(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(a),!0).forEach((function(t){Oa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ya(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Oa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const va=(e,t)=>"".concat(t),ka=e=>e.key,Na=(e,t,a)=>e.map((e,n)=>a(e,t(e,n))),Sa=(e,t)=>Object.entries(e).map(([e,a])=>t(a,"".concat(e))),ja=({code:e,name:t,name_short:a,short_name:n},r)=>({id:r,code:e,name:t,nameShort:a||n}),Da={name:""},wa={id:"",code:"",explanation:"",rawExplanation:"",morale:1,name:"",nameRuby:"",stratCategory:"",stratCategoryName:"",stratRange:"",stratRangeCode:"",stratTime:""},Aa={id:"",code:"",explanation:"",rawExplanation:"",name:"",nameRuby:""},Pa=(e,t)=>{const a=e.find(e=>e.id===t);return a||Da},Ia=e=>e.filter(e=>null!=e),xa=e=>e.replace(/\<br\s*\/?\>/gi,"\n").replace(/\<img.+?alt=\"(.*?)\".*?\/\>/gi," $1 ");var Ta=e=>{const t=Na(e.STATE,va,(e,t)=>Ca({},ja(e,t),{color:"rgb(".concat(e.red,", ").concat(e.green,", ").concat(e.blue,")"),thincolor:"rgba(".concat(e.red,", ").concat(e.green,", ").concat(e.blue,", 0.2)")})),a=Sa(e.COST,ja),n={"連弩兵":"弩"},r=Na(e.UNIT_TYPE,ka,(e,t)=>Ca({},ja(e,t),{nameShort:n[e.name]||e.name[0]})),s=Na(e.SKILL,ka,ja),c=Na(e.GEN_MAIN,ka,ja),i=Sa(e.RARITY,ja),o=Na(e.GENERAL_TYPE,ka,(e,t)=>{const a=ja(e,t);return""===e.name?Ca({},a,{name:"なし(女性)"}):a}),l=Na(e.VER_TYPE,va,ja).map(e=>"Ex"===e.name?Ca({},e,{name:"EX"}):e),d=Na(e.STRAT_CATEGORY,ka,ja),m=Na(e.STRAT_RANGE,va,(e,t)=>({id:t,code:e.code,name:""})),u=Na(e.STRAT,ka,(e,t)=>{var a,n;const{morale:r,explanation:s,name_ruby:c,strat_category:i,strat_range:o,strat_time:l}=e,u=Ea(e,["morale","explanation","name_ruby","strat_category","strat_range","strat_time"]),p=(null===(a=d.find(e=>e.id===i))||void 0===a?void 0:a.name)||"",h=(null===(n=m.find(e=>e.id===o))||void 0===n?void 0:n.code)||"";return Ca({id:t},u,{explanation:xa(s),rawExplanation:s,morale:parseInt(r),nameRuby:c,stratCategory:i,stratCategoryName:p,stratRange:o,stratRangeCode:h,stratTime:l})}),p={},h=Na(e.GENERAL,va,(n,l)=>{const d=parseInt(n.major_version),m=parseInt(n.add_version),h="2"===n.ver_type;return p[d]||(p[d]=[]),h||p[d].includes(m)||p[d].push(m),new fa(l,n,{majorVersion:d,addVersion:m,isEx:h,force:parseInt(n.buryoku),intelligence:parseInt(n.chiryoku),conquest:parseInt(n.seiatsu),cost:Pa(a,n.cost),genMains:Ia([n.gen_main0,n.gen_main1,n.gen_main2].filter(e=>""!==e).map(e=>c.find(t=>t.id===e))),generalType:Pa(o,n.general_type),personal:e.PERSONAL[parseInt(n.personal)],rarity:Pa(i,n.rarity),skills:Ia([n.skill0,n.skill1,n.skill2].filter(e=>""!==e&&"0"!==e).map(e=>s.find(t=>t.id===e))),state:Pa(t,n.state),unitType:Pa(r,n.unit_type),strategy:u.find(e=>e.id===n.strat)||wa})}),g=Object.keys(p).map(e=>parseInt(e)),f=(e,t)=>e-t;g.sort(f),g.forEach(e=>{p[e].sort(f)});const b=Na(e.STRAT_TIME,va,ja),E=Na(e.ASSIST_STRAT_CATEGORY,ka,ja),y=Na(e.ASSIST_STRAT,ka,(e,t)=>{const{code:a,key:n,name:r,explanation:s,name_ruby:c,assist_strat_category:i,strat_range:o}=e,l=E.find(e=>e.id===i),d=m.find(e=>e.id===o);return{id:t,code:a,key:n,name:r,explanation:xa(s),rawExplanation:s,nameRuby:c,category:l,range:d}}),C=Na(e.ASSIST,va,(a,n)=>{const r=parseInt(a.major_version),s=parseInt(a.add_version);return p[r]||(p[r]=[]),p[r].includes(s)||p[r].push(s),new ba(n,a,{majorVersion:r,addVersion:s,isEx:!1,personal:e.PERSONAL[parseInt(a.personal)],state:Pa(t,a.state),strategy:y.find(e=>e.id===a.assist_strat)||Aa})});return{filterContents:{belongStates:t,costs:a,unitTypes:r,skills:s,genMains:c,rarities:i,generalTypes:o,varTypes:l,versions:Object.entries(p).map(([e,t])=>{const a=Na(t,t=>"".concat(e,"-").concat(t),(t,a)=>({id:a,name:ga(e,t)}));return a.push({id:"".concat(e,"-EX"),name:ga(e,0,!0)}),a}),majorVersions:Na(g,e=>"".concat(e),(e,t)=>({id:t,name:ga(e)})),strategyCategories:d,strategyRanges:m,strategyTimes:b,assistStrategyCategories:E},generals:h,strategies:u,assistGenerals:C,assistStrategies:y}};const _a=(async()=>await(async()=>await ha("/data/base.json","3594t-deck/data/base.json"))())();function Ra(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ma(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(a),!0).forEach((function(t){Ga(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ra(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ga(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Va=[{code:"6b66d077b9d057234c9e8c1a834618a7",avatar:"d7b7bd42a8cd121ed594fbc8ced24dbb",name:"李儒",title:"滅国の毒牙",message:"怨嗟の声と絶望の涙を搾り取れ"},{code:"5ace060edaade2cd458719da7feea988",avatar:"b5f84b8c0dd29f226c34f2ab81b432d8",name:"何皇后",title:"美女の毒牙",message:"あたしの邪魔するやつは い〜らない"},{code:"1a1c93eae5ce103d3ea039327d0b9aa0",avatar:"08f2a9f34e4ed0446d04138515b2a064",name:"厳氏",title:"甘き毒",message:"周りのみ〜んながあなたの敵よ"},{code:"100593d9b385abbe6a1b31c95170961d",avatar:"c117ccc8bbdf6be963eb7b0d0b445a79",name:"朶思大王",title:"蛇蝎の秘術",message:"毒にまみれ のたうち回るがいい"}];var La=Object(l.b)(e=>Ma({},e.windowReducer,{openedAnyModal:e.windowReducer.openedDeckConfig||e.windowReducer.openedUpdateInfo||!!e.windowReducer.detailGeneral||!e.windowReducer.ready,openedAnyModalSmall:e.windowReducer.openedFilter||!e.windowReducer.ready,loading:!e.windowReducer.ready,deckSelected:null!=e.deckReducer.activeIndex||null!=e.deckReducer.activeAssistIndex}),e=>{const t=Object(d.a)({setBaseData:j.setBaseData,beReady:E.beReady,showDialog:M.showDialog,enableAprilFool:E.enableAprilFool},e);return Ma({appDidLoaded:async()=>{const e=await(async()=>{const e=await _a;return Ta(e)})();if(t.setBaseData(e),J||(L()({store:B,params:{deck:H,assist:K,cost:Y,same_card:W,assist_limit:X},initialTruth:"location"}),J=!0),window.__aprilFool){const{code:e,avatar:a,name:n,title:r,message:s}=function(){const e=Math.floor(Math.random()*Va.length);return Va[e]}();t.showDialog({title:r,message:s,logoUrl:ue(a),redText:"反計可能！",actionRed:()=>{t.beReady(),Object(m.forceCheck)(),setTimeout(m.forceCheck,1e3)},blueText:"計略を受ける",actionBlue:()=>{t.enableAprilFool({code:e,name:n,avatar:a}),t.beReady(),Object(m.forceCheck)(),setTimeout(m.forceCheck,1e3)},cancelable:!1,animation:!1,poisonAnimationIfBlue:!0})}else t.beReady();Object(m.forceCheck)()}},Object(d.a)(Ma({clearActiveCard:x.clearActiveCard,resetConditions:j.resetConditions},E),e))},(e,t,a)=>Ma({},e,{},t,{},a,{clearActiveCard:()=>{e.deckSelected&&t.clearActiveCard()},closeSideMenu:()=>{e.openedSideMenu&&t.closeSideMenu()}}),{areMergedPropsEqual:()=>!1})(da);r.a.load({custom:{families:["Noto Sans Japanese:n4,n7"],urls:["https://fonts.googleapis.com/earlyaccess/notosansjapanese.css"]}}),"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").catch(e=>{console.error(e)}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),B.dispatch(E.storeInstallPromptEvent(e))});const Fa=e=>{e?B.dispatch(E.enableNotice()):B.dispatch(E.disableNotice())};Fa(window.__noticeEnabled),window.addEventListener("__receiveNoticeChanged",e=>{e.preventDefault(),Fa(window.__noticeEnabled)}),o.a.render(c.a.createElement(l.a,{store:B},c.a.createElement(La,null)),document.getElementById("app"));const Ba=document.getElementById("about");Ba&&Ba.parentNode&&Ba.parentNode.removeChild(Ba)}});