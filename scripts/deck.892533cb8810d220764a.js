!function(e){function t(t){for(var n,l,s=t[0],i=t[1],o=t[2],m=0,u=[];m<s.length;m++)l=s[m],r[l]&&u.push(r[l][0]),r[l]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(d&&d(t);u.length;)u.shift()();return c.push.apply(c,o||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,s=1;s<a.length;s++){var i=a[s];0!==r[i]&&(n=!1)}n&&(c.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={0:0},c=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var s=window.webpackJsonp=window.webpackJsonp||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var o=0;o<s.length;o++)t(s[o]);var d=i;c.push([132,1]),a()}({106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},119:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},132:function(e,t,a){"use strict";a.r(t);a(76);var n=a(68),r=a.n(n),c=a(0),l=a.n(c),s=a(69),i=a.n(s),o=a(6),d=(a(4),a(7)),m=a(3);function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){p(e,t,a[t])})}return e}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const h={BASIC:"基本",DETAIL:"詳細"},b={beReady:Object(m.createAction)("BE_READY"),openSideMenu:Object(m.createAction)("CHANGE_SIDEMENU_VISIBLE",e=>()=>e({openedSideMenu:!0})),closeSideMenu:Object(m.createAction)("CHANGE_SIDEMENU_VISIBLE",e=>()=>e({openedSideMenu:!1})),openFilter:Object(m.createAction)("CHANGE_FILTER_VISIBLE",e=>()=>e({openedFilter:!0})),closeFilter:Object(m.createAction)("CHANGE_FILTER_VISIBLE",e=>()=>e({openedFilter:!1})),closeAllModal:Object(m.createAction)("CLOSE_ALL_MODAL"),changeActiveFilterTab:Object(m.createAction)("CHANGE_ACTIVE_FILTER",e=>t=>e({activeFilter:t}))},g={ready:!1,openedSideMenu:!1,openedFilter:!1,activeFilter:"BASIC"};var f=a(75);function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){v(e,t,a[t])})}return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const y={belongStates:[],costs:[],unitTypes:[],forceMin:1,forceMax:10,useCostRatioForce:!1,costRatioForceMin:-4,costRatioForceMax:5,costRatioBaseForces:{10:3,15:6,20:8,25:9,30:10},intelligenceMin:1,intelligenceMax:10,conquestMin:0,conquestMax:4,skills:[],skillsAnd:!1,genMains:[],genMainsAnd:!1,rarities:[],generalTypes:[],varTypes:[],majorVersions:[],versions:[],enableDetailVersion:!1,pockets:[],searchText:""},C={filterCondition:y,effectiveFilterCondition:y,filterContents:{belongStates:[],costs:[],unitTypes:[],skills:[],genMains:[],rarities:[],generalTypes:[],varTypes:[],versions:[],majorVersions:[]},generals:[],currentPage:1,pageLimit:50,aprilFool:!1},k={resetConditions:Object(m.createAction)("RESET_CONDITIONS"),applyCondition:Object(m.createAction)("APPLY_CONDITION"),setCondition:Object(m.createAction)("SET_CONDITION",e=>t=>e({condition:t})),setBaseData:Object(m.createAction)("SET_BASE_DATA",e=>t=>e({baseData:t})),incrementPage:Object(m.createAction)("INCREMENT_PAGE",e=>()=>e({page:1})),resetPage:Object(m.createAction)("RESET_PAGE"),decrementPage:Object(m.createAction)("DECREMENT_PAGE",e=>()=>e({page:-1})),enableAprilFool:Object(m.createAction)("CHANGE_APRIL_FOOL",e=>()=>e({aprilFool:!0})),disableAprilFool:Object(m.createAction)("CHANGE_APRIL_FOOL",e=>()=>e({aprilFool:!1}))};function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){O(e,t,a[t])})}return e}function O(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const S={deckCards:[],enableSearch:!1},A={addDeckGeneral:Object(m.createAction)("ADD_DECK_GENERAL",e=>t=>e(t)),changeDeckGeneral:Object(m.createAction)("CHANGE_DECK_GENERAL",e=>(t,a)=>e({index:t,card:a})),addDeckDummy:Object(m.createAction)("ADD_DECK_DUMMY",e=>t=>e(t)),setDeckValue:Object(m.createAction)("SET_DECK_VALUE",e=>(t,a)=>e({index:t,deckCard:a})),removeDeck:Object(m.createAction)("REMOVE_DECK",e=>t=>e(t)),clearDeck:Object(m.createAction)("CLEAR_DECK"),setActiveCard:Object(m.createAction)("SET_ACTIVE_CARD",e=>t=>e(t)),searchByDeck:Object(m.createAction)("SEARCH_BY_DECK",e=>t=>e(t)),clearActiveCard:Object(m.createAction)("CLEAR_ACTIVE_CARD"),selectMainGen:Object(m.createAction)("SELECT_MAIN_GEN",e=>(t,a)=>e({index:t,genMain:a}))};function D(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function P(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const j={showDialog:Object(m.createAction)("SHOW_DIALOG",e=>t=>e(t)),closeDialog:Object(m.createAction)("CLOSE_DIALOG")},w={show:!1,title:"",message:"",logoUrl:void 0,redText:"",blueText:"",cancelable:!0,animation:!0,actionRed:()=>{},actionBlue:()=>{},actionCancel:void 0};a(97);var x=a(1),M=a.n(x),T=a(8),I=a(73);a(60),a(63),a(106);function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,c=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}class _ extends l.a.PureComponent{constructor(){super(...arguments),this.handleTabClick=(e=>{const t=e.currentTarget.dataset.tab;t&&this.props.onTabChanged(t)})}render(){const e=this.props,t=e.tabs,a=e.activeTab,n=[];return Object.entries(t).forEach(e=>{let t=R(e,2),r=t[0],c=t[1];const s=a===r,i=`tab-button-${r.toLowerCase()}`,o=M()([i,{active:s}]);n.push(l.a.createElement("button",{key:r,"data-tab":r,className:o,onClick:this.handleTabClick},c))}),l.a.createElement("div",{className:"card-filter-tabs"},n)}}a(107);var F=l.a.memo(e=>{let t=e.resetConditions,a=e.closeFilter;return l.a.createElement("div",{className:"card-filter-actions"},l.a.createElement("button",{className:"action-buton-reset",onClick:t},"リセット"),l.a.createElement("button",{className:"action-buton-ok",onClick:a},"OK"))}),B=(a(108),a(74));var L=Object(o.b)(()=>({}),()=>({}))(class extends l.a.PureComponent{render(){return l.a.createElement("ul",{className:"side-menu-list"},l.a.createElement("li",{className:"side-menu-item"},l.a.createElement("a",{href:"./about.html",target:"_blank",rel:"noopener"},"このツールについて",l.a.createElement(T.a,{className:"external-link-icon",icon:B.faExternalLinkAlt}))))}}),G=(a(109),a(24)),V=(a(66),a(114),a(36)),q=a(37);class $ extends l.a.PureComponent{constructor(){super(...arguments),this.handleSelectMainGen=(e=>{const t=this.props,a=t.index,n=t.onSelectMainGen;let r=e.currentTarget.value;null!=r&&""!==r||(r=void 0),n(a,r)}),this.handleActive=(e=>{e.stopPropagation();const t=this.props,a=t.index;(0,t.onActive)(a)}),this.handleRemove=(e=>{e.stopPropagation();const t=this.props,a=t.index;(0,t.onRemoveDeck)(a)}),this.handleSearch=(e=>{e.stopPropagation();const t=this.props,a=t.index;(0,t.onToggleSearch)(a)})}render(){const e=this.props,t=e.general,a=e.genMain,n=e.active,r=e.search,c=e.aprilFool,s={backgroundColor:t.state.thinColor},i=t.state.color,o={backgroundColor:i},d={background:`linear-gradient(-30deg, ${[i,`${i} 30px`,"transparent 92px","transparent"].join(",")})`},m=[];t.skills.forEach(e=>{m.push(l.a.createElement("span",{className:"skill",key:e.id},e.nameShort))}),0===m.length&&m.push(l.a.createElement("span",{className:"no-skill",key:0},"特技なし"));const u=[];t.genMains.forEach((e,t)=>{u.push(l.a.createElement("option",{value:e.id,key:t},e.nameShort))});const p=null!=a?a:"";return l.a.createElement("div",{className:M()("deck-card",{active:n}),style:s,onClick:this.handleActive},l.a.createElement("div",{className:"deck-card-inner-top"},l.a.createElement("img",{className:"general-thumb",src:c?"https://3594t.net/img/card_small/6b66d077b9d057234c9e8c1a834618a7.jpg":t.thumbUrl}),l.a.createElement("div",{className:"shadow",style:d}),l.a.createElement("span",{className:"state",style:o},t.state.nameShort),l.a.createElement("span",{className:"version",style:o},t.version),l.a.createElement("span",{className:"cost","data-label":"コスト"},t.cost.name),l.a.createElement("span",{className:"unit","data-label":"兵種"},t.unitType.nameShort),l.a.createElement("span",{className:"name"},l.a.createElement("span",{className:"rarity"},t.rarity.name),c?"李儒":t.name)),l.a.createElement("div",{className:"deck-card-inner-bottom"},l.a.createElement("span",{className:"force","data-label":"武"},t.force),l.a.createElement("span",{className:"intelligence","data-label":"知"},t.intelligence),l.a.createElement("span",{className:"conquest","data-label":"制圧"},t.conquest),l.a.createElement("span",{className:"skills"},m),l.a.createElement("span",{className:"gen-mains","data-label":"主将器"},l.a.createElement("select",{className:"gen-mains-select",value:p,onChange:this.handleSelectMainGen},l.a.createElement("option",{value:""}),u))),l.a.createElement("div",{className:"tool-box"},l.a.createElement("button",{className:"remove",onClick:this.handleRemove},l.a.createElement(T.a,{icon:V.faMinusCircle})),l.a.createElement("button",{className:M()("search",{enable:r}),onClick:this.handleSearch},l.a.createElement(T.a,{icon:q.faSearch}))))}}a(115);var U=Object(o.b)(e=>({belongStates:e.datalistReducer.filterContents.belongStates,costs:e.datalistReducer.filterContents.costs,unitTypes:e.datalistReducer.filterContents.unitTypes}),e=>Object(d.a)({setDeckValue:A.setDeckValue,removeDeck:A.removeDeck,searchByDeck:A.searchByDeck,resetPage:k.resetPage},e))(class extends l.a.PureComponent{constructor(){super(...arguments),this.handleActive=(e=>{e.stopPropagation();const t=this.props,a=t.index;(0,t.onActive)(a)}),this.handleRemove=(e=>{e.stopPropagation();const t=this.props,a=t.index;(0,t.onRemoveDeck)(a)}),this.handleSearch=(e=>{e.stopPropagation();const t=this.props,a=t.index;(0,t.onToggleSearch)(a)}),this.handleChangeDeckValue=(e=>{const t=this.props,a=t.index,n=t.setDeckValue,r=e.currentTarget.name;let c=e.currentTarget.value;""===c&&(c=void 0),n(a,{[r]:c})})}render(){const e=this.props,t=e.deckCard,a=e.active,n=e.search,r=e.belongStates,c=e.costs,s=e.unitTypes,i={},o={},d=t.belongState?r.find(e=>e.id===t.belongState):void 0,m=t.cost?c.find(e=>e.id===t.cost):void 0,u=t.unitType?s.find(e=>e.id===t.unitType):void 0;let p="",h="",b=!1;d&&(i.backgroundColor=d.thinColor,o.backgroundColor=d.color,p=d.id,h=d.nameShort||"",b=!0);let g="";m&&(g=m.name);const f={};let E="",v="";u?(E=u.id,v=u.nameShort||""):f.display="none";const y=[];r.forEach((e,t)=>{y.push(l.a.createElement("option",{value:e.id,key:t},e.name))});const C=[];c.forEach((e,t)=>{C.push(l.a.createElement("option",{value:e.id,key:t},e.name))});const k=[];return s.forEach((e,t)=>{k.push(l.a.createElement("option",{value:e.id,key:t},e.nameShort||e.name))}),l.a.createElement("div",{className:M()("deck-dummy-card",{"has-state":b,active:a}),style:i,onClick:this.handleActive},l.a.createElement("div",{className:"deck-card-inner-top",style:o},l.a.createElement("span",{className:"state"},h),l.a.createElement("span",{className:"cost","data-label":"コスト"},g),l.a.createElement("span",{className:"unit",style:f,"data-label":"兵種"},v),l.a.createElement("div",{className:"edit"},l.a.createElement("span",{className:"select-item-container","data-label":"勢力"},l.a.createElement("select",{className:"select-item",name:"belongState",value:p,onChange:this.handleChangeDeckValue},l.a.createElement("option",{value:""}),y)),l.a.createElement("span",{className:"select-item-container","data-label":"コスト"},l.a.createElement("select",{className:"select-item",name:"cost",value:t.cost,onChange:this.handleChangeDeckValue},C)),l.a.createElement("span",{className:"select-item-container","data-label":"兵種"},l.a.createElement("select",{className:"select-item",name:"unitType",value:E,onChange:this.handleChangeDeckValue},l.a.createElement("option",{value:""}),k)))),l.a.createElement("div",{className:"deck-card-inner-bottom"},l.a.createElement("div",{className:"tool-box"},l.a.createElement("button",{className:"remove",onClick:this.handleRemove},l.a.createElement(T.a,{icon:V.faMinusCircle})),l.a.createElement("button",{className:M()("search",{enable:n}),onClick:this.handleSearch},l.a.createElement(T.a,{icon:q.faSearch})))))}});var K=function(e,t){return e.length-(null!=t?1:0)<8};function H(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){W(e,t,a[t])})}return e}function W(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var X=Object(o.b)(e=>({deckState:e.deckReducer,generals:e.datalistReducer.generals,belongStates:e.datalistReducer.filterCondition.belongStates,costs:e.datalistReducer.filterCondition.costs,unitTypes:e.datalistReducer.filterCondition.unitTypes,aprilFool:e.datalistReducer.aprilFool}),e=>{const t=Object(d.a)({clearDeck:A.clearDeck,showDialog:j.showDialog},e);return Y({clearDeck:()=>{t.showDialog({title:"デッキクリア",message:"デッキをクリアします。",redText:"クリア",actionRed:()=>{t.clearDeck()},blueText:"キャンセル",actionBlue:()=>{}})}},Object(d.a)({selectMainGen:A.selectMainGen,setActiveCard:A.setActiveCard,removeDeck:A.removeDeck,rawAddDeckDummy:A.addDeckDummy,searchByDeck:A.searchByDeck,resetPage:k.resetPage},e))},(e,t)=>{const a=e.deckState,n=e.generals,r=e.costs,c=e.belongStates,l=e.unitTypes,s=e.aprilFool,i=a.activeIndex,o=a.enableSearch,d=t.rawAddDeckDummy,m=t.resetPage,u=t.searchByDeck,p=t.clearDeck,h=H(t,["rawAddDeckDummy","resetPage","searchByDeck","clearDeck"]),b=K(a.deckCards);let g=0,f=0,E=0,v=0,y=!1,C=!1;const k=[],N=new Set,O=new Map,S=new Map;a.deckCards.forEach(e=>{const t=null!=e.general?n.find(t=>t.id===e.general):void 0;let a;if(t){g+=t.force,f+=t.intelligence,E+=t.conquest,a=t.raw.cost,N.add(t.raw.state);const n=e.genMain;if(null!=n){const e=t.genMains.find(e=>e.id===n);if(e){const t=O.get(e.name)||0;O.set(e.name,t+1)}}t.skills.forEach(e=>{const t=S.get(e.name)||0;S.set(e.name,t+1)}),k.push({general:t,genMain:n})}else y=!0,a=e.cost,e.belongState?N.add(e.belongState):C=!0,k.push(e);v+=parseInt(a)/10});const A=N.size+(C?1:0);let D;1===A?D=12:2===A?D=9:(C=!1,D=6);let P=0;let j;P+=.5*(S.get("魅力")||0),j=E>=11?"S":E>=9?"A":E>=7?"B":"C";let w=2*(O.get("同盟者")||0);D+w>=12?(w=12-D,D=12):D+=w;const x=.5*(O.get("士気上昇")||0);P+=x;const M=3*(O.get("知力上昇")||0);f+=M;const T=1*(O.get("征圧力上昇")||0);return Y({aprilFool:s,deckCards:k,activeIndex:i,enabledAddDeck:b,enableSearch:o,generals:n,totalForce:g,totalIntelligence:f,intelligenceByMainGen:M,totalConquest:E+=T,conquestByMainGen:T,conquestRank:j,totalCost:v,limitCost:8,maxMorale:D,maxMoraleByMainGen:w,startMorale:P,startMoraleByMainGen:x,hasDummy:y,hasStateDummy:C},h,{addDeckDummy:()=>{if(!b)return;let e,t,a="10";r.length>=1&&(a=[...r].sort()[0]),1===c.length&&(e=c[0]),1===l.length&&(t=l[0]),d({cost:a,belongState:e,unitType:t})},clearDeck:()=>{k.length>0&&p()},toggleSearch:e=>{m(),i===e&&o?h.setActiveCard(e):u(e)}})},{areMergedPropsEqual:()=>!1})(class extends l.a.Component{constructor(){super(...arguments),this.onBeforeUnload=(e=>{this.props.deckCards.length>0&&(e.preventDefault(),e.returnValue=!0)})}componentDidMount(){window.addEventListener("beforeunload",this.onBeforeUnload)}componentWillUnmount(){window.removeEventListener("beforeunload",this.onBeforeUnload)}render(){const e=this.props,t=e.deckCards,a=e.activeIndex,n=e.enabledAddDeck,r=e.enableSearch,c=e.totalForce,s=e.totalIntelligence,i=e.intelligenceByMainGen,o=e.totalConquest,d=e.conquestByMainGen,m=e.conquestRank,u=e.totalCost,p=e.limitCost,h=e.maxMorale,b=e.maxMoraleByMainGen,g=e.startMorale,f=e.startMoraleByMainGen,E=e.hasDummy,v=e.hasStateDummy,y=e.addDeckDummy,C=e.clearDeck,k=e.selectMainGen,N=e.setActiveCard,O=e.removeDeck,S=e.toggleSearch,A=e.aprilFool,D=[];t.forEach((e,t)=>{const n=a===t;if("cost"in e)D.push(l.a.createElement(U,{key:t,index:t,active:n,search:n&&r,deckCard:e,onActive:N,onRemoveDeck:O,onToggleSearch:S}));else{const a=e.general,c=e.genMain;D.push(l.a.createElement($,{key:t,index:t,active:n,search:n&&r,genMain:c,general:a,onSelectMainGen:k,onActive:N,onRemoveDeck:O,onToggleSearch:S,aprilFool:A}))}});let P=u-p,j="残り",w=!1,x=!1;return P>0?(j="コストオーバー",w=!0):P<0&&(P*=-1,x=!0),l.a.createElement("div",{className:"deck-board"},l.a.createElement("div",{className:"deck-card-list"},D,l.a.createElement("div",{className:"deck-actions"},l.a.createElement("div",{className:M()("add-new-deck-card","button",{disabled:!n}),onClick:y},"追加",l.a.createElement(T.a,{icon:G.faPlusCircle})),l.a.createElement("div",{className:"deck-clear button",onClick:C},"クリア"))),l.a.createElement("div",{className:"deck-total"},l.a.createElement("div",{className:"total","data-label":"総武力"},l.a.createElement("span",{className:M()("force",{dummy:E})},c)),l.a.createElement("div",{className:"total","data-label":"総知力"},l.a.createElement("span",{className:M()("has-gen-main",{active:i>0})},"将器込み"),l.a.createElement("span",{className:M()("intelligence",{dummy:E})},s,l.a.createElement("span",{className:M()("breakdown",{active:i>0})},"(",s-i,l.a.createElement("span",{className:"addition-by-main-gen"},"+",i),")"))),l.a.createElement("div",{className:"total","data-label":"総征圧力"},l.a.createElement("span",{className:M()("has-gen-main",{active:d>0})},"将器込み"),l.a.createElement("span",{className:M()("conquest-rank",{dummy:E})},m),l.a.createElement("span",{className:M()("conquest",{dummy:E})},o,l.a.createElement("span",{className:M()("breakdown",{active:d>0})},"(",o-d,l.a.createElement("span",{className:"addition-by-main-gen"},"+",d),")"))),l.a.createElement("div",{className:"total total-cost","data-label":"総コスト"},l.a.createElement("span",{className:"cost"},u.toFixed(1)),l.a.createElement("span",{className:M()("cost-remain",{over:w,under:x})},"(",j," ",P.toFixed(1),")")),l.a.createElement("div",{className:"total","data-label":"最大士気"},l.a.createElement("span",{className:M()("has-gen-main",{active:b>0})},"将器込み"),l.a.createElement("span",{className:M()("max-morale",{dummy:v})},h,l.a.createElement("span",{className:M()("breakdown",{active:b>0})},"(",h-b,l.a.createElement("span",{className:"addition-by-main-gen"},"+",b),")"))),l.a.createElement("div",{className:"total","data-label":"開幕士気"},l.a.createElement("span",{className:M()("has-gen-main",{active:f>0})},"将器込み"),l.a.createElement("span",{className:"start-morale"},g,l.a.createElement("span",{className:M()("breakdown",{active:f>0})},"(",g-f,l.a.createElement("span",{className:"addition-by-main-gen"},"+",f),")")))))}});a(116),a(117),a(119);class J extends l.a.PureComponent{constructor(){super(...arguments),this.handleAddDeckClick=(e=>{const t=this.props,a=t.general,n=t.onAddDeck,r=e.currentTarget.dataset.genMain;n({general:a.id,belongState:a.raw.state,cost:a.raw.cost,unitType:a.raw.unit_type,genMain:r})})}render(){const e=this.props,t=e.general,a=e.show,n=e.enabledAddDeck,r=e.aprilFool,c={backgroundColor:t.state.thinColor},s={backgroundColor:t.state.color};null==a||a||(c.display="none");const i=[];t.skills.forEach(e=>{i.push(l.a.createElement("span",{className:"skill",key:e.id},e.nameShort))}),0===i.length&&i.push(l.a.createElement("span",{className:"no-skill",key:0},"特技なし"));let o="",d="",m="";t.strategy&&(o=t.strategy.name,d=t.strategy.morale,m=(m=t.strategy.explanation).replace(/\<br\s*\/?\>/g,"\n"));const u=[];return t.genMains.forEach((e,t)=>{u.push(l.a.createElement("button",{className:"gen-main",key:t,disabled:!n,"data-gen-main":e.id,onClick:this.handleAddDeckClick},e.nameShort,l.a.createElement(T.a,{icon:G.faPlusCircle})))}),l.a.createElement("div",{className:"general-card",style:c},l.a.createElement("span",{className:"state",style:s},t.state.nameShort),l.a.createElement("span",{className:"version"},t.version),l.a.createElement("span",{className:"rarity"},t.rarity.name),l.a.createElement("span",{className:"name"},r?"李儒":t.name),l.a.createElement("span",{className:"image"},l.a.createElement("img",{className:"general-thumb"})),l.a.createElement("span",{className:"cost","data-label":"コスト"},t.cost.name),l.a.createElement("span",{className:"unit","data-label":"兵種"},t.unitType.nameShort),l.a.createElement("span",{className:"force","data-label":"武"},t.force),l.a.createElement("span",{className:"intelligence","data-label":"知"},t.intelligence),l.a.createElement("span",{className:"conquest","data-label":"制圧"},t.conquest),l.a.createElement("span",{className:"skills"},i),l.a.createElement("span",{className:"strategy","data-label":"計略名",title:m},o),l.a.createElement("span",{className:"strategy-morale","data-label1":"必要","data-label2":"士気"},d),l.a.createElement("span",{className:"gen-mains","data-label":"主将器"},u),l.a.createElement("span",{className:"buttons"},l.a.createElement("button",{className:"add-deck",disabled:!n,onClick:this.handleAddDeckClick},l.a.createElement(T.a,{icon:G.faPlusCircle}))))}}function z(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Q=(e,t)=>e.length===t.length&&e.every(e=>t.includes(e));var Z=Object(o.b)(e=>({generals:e.datalistReducer.generals,currentPage:e.datalistReducer.currentPage,pageLimit:e.datalistReducer.pageLimit,filterCondition:e.datalistReducer.effectiveFilterCondition,deckCards:e.deckReducer.deckCards,activeIndex:e.deckReducer.activeIndex,enableDeckSearch:e.deckReducer.enableSearch,aprilFool:e.datalistReducer.aprilFool}),e=>Object(d.a)({changeDeckGeneral:A.changeDeckGeneral,addDeckGeneral:A.addDeckGeneral,decrementPage:k.decrementPage,incrementPage:k.incrementPage},e),(e,t)=>{const a=e.generals,n=e.currentPage,r=e.pageLimit,c=e.filterCondition,l=e.deckCards,s=e.activeIndex,i=e.enableDeckSearch,o=e.aprilFool,d=[];l.forEach((e,t)=>{if(s===t)return;const a=e.general;a&&d.push(a)});const m=a.filter(e=>d.includes(e.id)).map(e=>e.raw.personal),u=null!=s&&i?l[s]:void 0;let p=c;u&&(p=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){z(e,t,a[t])})}return e}({},p),null!=u.belongState&&(p.belongStates=[u.belongState]),p.costs=[u.cost],null!=u.unitType&&(p.unitTypes=[u.unitType]));let h=a.filter(e=>((e,t)=>{const a=t.belongStates,n=t.costs,r=t.unitTypes,c=t.forceMin,l=t.forceMax,s=t.useCostRatioForce,i=t.costRatioForceMin,o=t.costRatioForceMax,d=t.costRatioBaseForces,m=t.intelligenceMin,u=t.intelligenceMax,p=t.conquestMin,h=t.conquestMax,b=t.skills,g=t.skillsAnd,f=t.genMains,E=t.genMainsAnd,v=t.rarities,y=t.generalTypes,C=t.varTypes,k=t.versions,N=t.majorVersions,O=t.enableDetailVersion,S=t.pockets,A=e.raw;if(a.length>0&&!a.includes(A.state))return!1;if(n.length>0&&!n.includes(A.cost))return!1;if(r.length>0&&!r.includes(A.unit_type))return!1;if(s){const t=d[e.raw.cost];if(null==t)return!1;const a=e.force-t;if(i>a)return!1;if(o<a)return!1}else{if(c>e.force)return!1;if(l<e.force)return!1}if(m>e.intelligence)return!1;if(u<e.intelligence)return!1;if(p>e.conquest)return!1;if(h<e.conquest)return!1;if(b.length>0){const t=t=>"0"===t?0===e.skills.length:e.skills.map(e=>e.id).includes(t);if(g){if(!b.every(t))return!1}else if(!b.some(t))return!1}if(v.length>0&&!v.includes(A.rarity))return!1;if(O){if(k.length>0&&!k.includes(e.versionValue))return!1}else if(N.length>0&&!N.includes(A.major_version))return!1;if(f.length>0){const t=t=>e.genMains.map(e=>e.id).includes(t);if(E){if(!f.every(t))return!1}else if(!f.some(t))return!1}return!(y.length>0&&!y.includes(A.general_type)||C.length>0&&!C.includes(A.ver_type)||1===S.length&&"1"===S[0]!=(""!==A.pocket_code))})(e,p)).map(e=>e.id);const b=h.length,g=(n-1)*r,f=g>0,E=g+r<b;h=h.slice(g,g+r);const v=K(l,s);return{generals:a,searchedGeneralIds:h,deckPersonals:m,searchedAll:b,searchedOffset:g,searchedLimit:r,hasPrev:f,hasNext:E,enabledAddDeck:v,aprilFool:o,addDeckGeneral:e=>{v&&(null!=s?t.changeDeckGeneral(s,e):t.addDeckGeneral(e))},onPagePrev:t.decrementPage,onPageNext:t.incrementPage}},{areMergedPropsEqual:(e,t)=>e.aprilFool===t.aprilFool&&(e.enabledAddDeck===t.enabledAddDeck&&(e.searchedAll===t.searchedAll&&(e.searchedOffset===t.searchedOffset&&(!!Q(e.searchedGeneralIds,t.searchedGeneralIds)&&!!Q(e.deckPersonals,t.deckPersonals)))))})(class extends l.a.PureComponent{constructor(){super(...arguments),this.scrollArea=l.a.createRef(),this.handleOnAddDeck=(e=>{this.props.addDeckGeneral(e)}),this.handleOnPagePrev=(e=>{e.stopPropagation(),this.props.onPagePrev()}),this.handleOnPageNext=(e=>{e.stopPropagation(),this.props.onPageNext()})}componentDidUpdate(e){const t=this.props.searchedGeneralIds,a=e.searchedGeneralIds,n=t.length===a.length&&t.every(e=>a.includes(e)),r=this.scrollArea.current;!n&&r&&(r.scrollTop=0)}render(){const e=this.props,t=e.generals,a=e.searchedGeneralIds,n=e.deckPersonals,r=e.searchedAll,c=e.searchedOffset,s=e.searchedLimit,i=e.hasPrev,o=e.hasNext,d=e.enabledAddDeck,m=e.aprilFool,u=[],p=a.length;t.forEach(e=>{const t=a.includes(e.id),r=d&&!n.includes(e.raw.personal);u.push(l.a.createElement(J,{key:e.id,general:e,onAddDeck:this.handleOnAddDeck,show:t,enabledAddDeck:r,aprilFool:m}))}),0===p&&u.push(l.a.createElement("div",{key:-1,className:"no-generals"},"該当なし"));const h=r>0?c+1:0;let b=c+s;return b>r&&(b=r),l.a.createElement("div",{className:"cardlist-container"},l.a.createElement("div",{className:"cardlist-paging"},l.a.createElement("button",{className:M()("paging-button","prev",{active:i}),onClick:this.handleOnPagePrev},"< 前"),l.a.createElement("div",{className:"pageing-label"},"全",r,"件 ",h," - ",b,"件"),l.a.createElement("button",{className:M()("paging-button","next",{active:o}),onClick:this.handleOnPageNext},"次 >")),l.a.createElement("div",{className:"cardlist-main",ref:this.scrollArea},u))}});let ee;const te=500;function ae(e){return t=>{e(k.setCondition(t)),clearTimeout(ee),ee=setTimeout(()=>{e(k.applyCondition())},te)}}a(120);function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){re(e,t,a[t])})}return e}function re(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ce=e=>{let t=e.filterContents,a=e.filterCondition,n=e.value,r=e.checked,c=a.filter(e=>!e.startsWith(`${n}-`));if(!r){const e=[].concat(...t).filter(e=>e.id.startsWith(`${n}-`));c=c.concat(e.map(e=>e.id))}return c},le=(e,t,a,n,r)=>{let c=[...t];const l=n.split("-")[0];if(r)a.some(e=>e.startsWith(`${l}-`))||(c=c.filter(e=>e!==l));else if(!c.includes(l)){[].concat(...e).filter(e=>e.id.startsWith(`${l}-`)).every(e=>a.includes(e.id))&&c.push(l)}return c};function se(e,t,a){const n=e.filterCondition[t];if(!(n instanceof Array))return console.warn(`${t} is not array.`),{};const r=n.includes(a);let c;const l={[t]:c=r?n.filter(e=>e!==a):[...n,a]};switch(t){case"majorVersions":return ne({},l,{versions:ce({filterContents:e.filterContents.versions,filterCondition:e.filterCondition.versions,value:a,checked:r})});case"versions":return ne({},l,{majorVersions:le(e.filterContents.majorVersions,e.filterCondition.majorVersions,c,a,r)});default:return l}}a(123),a(124);const ie=["button","filter-item"];class oe extends l.a.PureComponent{constructor(e){super(e),this.handleClickItem=(e=>{const t=e.currentTarget.value,a=this.props,n=a.itemName;(0,a.onClickItem)(n,t)}),this.buttonClasses=e.addtionalClasses?[...ie,...e.addtionalClasses]:ie,this.square=this.props.square||!1}createButton(e,t,a,n,r){return l.a.createElement("button",{key:e,value:e,style:a,className:r,disabled:n,onClick:this.handleClickItem},t)}render(){const e=this.props,t=e.checkedItems,a=e.items,n=e.show,r=e.disabled,c=this.square,s=[],i=null!=r&&r;a.forEach(e=>{const a=e.id,n=e.nameShort||e.name,r={};e.color&&(r.backgroundColor=e.color);const l=t.includes(a);s.push(this.createButton(a,n,r,i,M()(this.buttonClasses,{checked:l,square:c})))});const o={};return null==n||n||(o.display="none"),l.a.createElement("div",{className:"button-list",style:o},s)}}var de=Object(o.b)(e=>{const t=e.deckReducer,a=t.activeIndex,n=t.enableSearch,r=t.deckCards,c=null!=a&&n?r[a]:void 0,l=null!=c?c.belongState:void 0;return{datalistState:e.datalistReducer,deckCardBelongState:l}},e=>({setCondition:ae(e)}),(e,t)=>{const a=e.deckCardBelongState,n=e.datalistState;let r=!1,c=n.filterCondition.belongStates;return null!=a&&(r=!0,c=[a]),{filterCondition:c,filterContents:n.filterContents.belongStates,searchByDeck:r,toggleCheckList:(e,a)=>{t.setCondition(se(n,e,a))}}},{areStatePropsEqual:(e,t)=>{const a=e.datalistState,n=t.datalistState;return a.filterCondition.belongStates===n.filterCondition.belongStates&&(a.filterContents.belongStates===n.filterContents.belongStates&&e.deckCardBelongState===t.deckCardBelongState)},areMergedPropsEqual:()=>!1})(class extends l.a.Component{render(){const e=this.props,t=e.filterContents,a=e.filterCondition,n=e.searchByDeck,r=e.toggleCheckList;return l.a.createElement("section",{className:"simple-filter-section"},l.a.createElement("div",{className:"simple-filter-state"},l.a.createElement("h2",{className:"title-inline"},"勢力"),l.a.createElement(oe,{itemName:"belongStates",items:t,checkedItems:a,onClickItem:r,square:!0,disabled:n})))}});a(125),a(126);class me extends oe{createButton(e,t,a,n,r){return"0"!==e?super.createButton(e,t,a,n,r):super.createButton(e,"無",a,n,M()(r,"no-skill"))}}a(127);class ue extends l.a.PureComponent{constructor(){super(...arguments),this.handleClickItem=(()=>{const e=this.props,t=e.isOn,a=e.itemName;(0,e.setCondition)({[a]:!t})})}render(){const e=this.props,t=e.isOn,a=e.labelOff,n=e.labelOn,r=e.width,c={};return null!=r&&(c.width=r),M()("switch-button",{active:t}),l.a.createElement("div",{style:c,className:"switch-item",onClick:this.handleClickItem},l.a.createElement("div",{className:M()("switch-button",{active:!t})},l.a.createElement("button",{className:"switch-button-child"},a)),l.a.createElement("div",{className:M()("switch-button",{active:t})},l.a.createElement("button",{className:"switch-button-child"},n)))}}a(128);class pe extends l.a.PureComponent{constructor(){super(...arguments),this.handleChange=(e=>{const t=parseFloat(e.currentTarget.value),a=this.props,n=a.itemName,r=a.itemKey,c=a.setCondition;c(null!=r?{[n]:{[r]:t}}:{[n]:t})})}render(){const e=this.props,t=e.min,a=e.max,n=e.value,r=e.className,c=e.halfStep,s=void 0!==c&&c,i=t<0,o=[];for(let e=t;e<=a;e+=s?.5:1){const t=s?`${e.toFixed(1)}`:`${e}`,a=i&&e>0?"+":"";o.push(l.a.createElement("option",{key:e,value:e},a,t))}return l.a.createElement("select",{value:n,className:M()("number-select",r),onChange:this.handleChange},o)}}a(129);function he(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class be extends l.a.PureComponent{constructor(){super(...arguments),this.handleSetCondition=(e=>{const t=this.props,a=t.setCondition,n=t.costRatioBaseForces;e.costRatioBaseForces&&(e.costRatioBaseForces=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){he(e,t,a[t])})}return e}({},n,e.costRatioBaseForces)),a(e)})}render(){const e=this.props.costRatioBaseForces;return l.a.createElement("div",{className:"cost-ratio-base-force"},l.a.createElement("span",{className:"title-inline"},"基準武力"),l.a.createElement("label",null,"1.0",l.a.createElement(pe,{itemName:"costRatioBaseForces",itemKey:"10",setCondition:this.handleSetCondition,value:e[10],max:5,min:1})),l.a.createElement("label",null,"1.5",l.a.createElement(pe,{itemName:"costRatioBaseForces",itemKey:"15",setCondition:this.handleSetCondition,value:e[15],max:7,min:2})),l.a.createElement("label",null,"2.0",l.a.createElement(pe,{itemName:"costRatioBaseForces",itemKey:"20",setCondition:this.handleSetCondition,value:e[20],max:8,min:5})),l.a.createElement("label",null,"2.5",l.a.createElement(pe,{itemName:"costRatioBaseForces",itemKey:"25",setCondition:this.handleSetCondition,value:e[25],max:10,min:7})),l.a.createElement("label",null,"3.0",l.a.createElement(pe,{itemName:"costRatioBaseForces",itemKey:"30",setCondition:this.handleSetCondition,value:e[30],max:10,min:8})))}}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){fe(e,t,a[t])})}return e}function fe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ee=Object(o.b)(e=>{const t=e.deckReducer,a=t.activeIndex,n=t.enableSearch,r=t.deckCards,c=null!=a&&n?r[a]:void 0;return{datalistState:e.datalistReducer,deckCard:c}},e=>({setCondition:ae(e)}),(e,t)=>{const a=e.deckCard,n=e.datalistState;if(a){const e=n.filterCondition;let r,c=!1;null!=a.belongState?(r=[a.belongState],c=!0):r=e.belongStates;const l=[a.cost];let s,i=!1;return null!=a.unitType?(s=[a.unitType],i=!0):s=e.unitTypes,ge({},n,{searchByDeckBelongState:c,searchByDeckCost:!0,searchByDeckUnitType:i,filterCondition:ge({},e,{belongStates:r,costs:l,unitTypes:s})},t,{toggleCheckList:(e,a)=>{t.setCondition(se(n,e,a))}})}return ge({},n,{searchByDeckBelongState:!1,searchByDeckCost:!1,searchByDeckUnitType:!1},t,{toggleCheckList:(e,a)=>{t.setCondition(se(n,e,a))}})},{areMergedPropsEqual:()=>!1})(class extends l.a.PureComponent{render(){const e=this.props,t=e.filterContents,a=e.filterCondition,n=e.searchByDeckBelongState,r=e.searchByDeckCost,c=e.searchByDeckUnitType,s=e.setCondition,i=e.toggleCheckList;return l.a.createElement("div",null,l.a.createElement("section",{className:"filter-section"},l.a.createElement("h2",{className:"title"},"勢力"),l.a.createElement(oe,{itemName:"belongStates",items:t.belongStates,checkedItems:a.belongStates,onClickItem:i,square:!0,disabled:n})),l.a.createElement("section",{className:"filter-section"},l.a.createElement("h2",{className:"title"},"コスト"),l.a.createElement(oe,{itemName:"costs",items:t.costs,checkedItems:a.costs,onClickItem:i,square:!0,disabled:r})),l.a.createElement("section",{className:"filter-section"},l.a.createElement("h2",{className:"title"},"兵種"),l.a.createElement(oe,{itemName:"unitTypes",items:t.unitTypes,checkedItems:a.unitTypes,onClickItem:i,square:!0,disabled:c})),l.a.createElement("section",{className:"filter-section"},l.a.createElement("h2",{className:"title"},"武力"),l.a.createElement("div",{className:"title-button"},l.a.createElement(ue,{itemName:"useCostRatioForce",setCondition:s,isOn:a.useCostRatioForce,labelOff:"通常",labelOn:"コスト比",width:180})),l.a.createElement("div",{className:M()("normal-force",{active:!a.useCostRatioForce})},l.a.createElement("div",{className:"range"},l.a.createElement(pe,{itemName:"forceMin",setCondition:s,value:a.forceMin,max:10,min:1}),"-",l.a.createElement(pe,{itemName:"forceMax",setCondition:s,value:a.forceMax,max:10,min:1}))),l.a.createElement("div",{className:M()("cost-ratio-force",{active:a.useCostRatioForce})},l.a.createElement("div",{className:"range"},l.a.createElement(pe,{itemName:"costRatioForceMin",setCondition:s,value:a.costRatioForceMin,max:5,min:-5}),"以上"),l.a.createElement(be,{costRatioBaseForces:a.costRatioBaseForces,setCondition:s}))),l.a.createElement("section",{className:"filter-section"},l.a.createElement("h2",{className:"title"},"知力"),l.a.createElement("div",{className:"range"},l.a.createElement(pe,{itemName:"intelligenceMin",setCondition:s,value:a.intelligenceMin,max:10,min:1}),"-",l.a.createElement(pe,{itemName:"intelligenceMax",setCondition:s,value:a.intelligenceMax,max:10,min:1}))),l.a.createElement("section",{className:"filter-section"},l.a.createElement("h2",{className:"title"},"征圧力"),l.a.createElement("div",{className:"range"},l.a.createElement(pe,{itemName:"conquestMin",setCondition:s,value:a.conquestMin,max:4,min:0}),"-",l.a.createElement(pe,{itemName:"conquestMax",setCondition:s,value:a.conquestMax,max:4,min:0}))),l.a.createElement("section",{className:"filter-section"},l.a.createElement("h2",{className:"title"},"特技"),l.a.createElement("div",{className:"title-button"},l.a.createElement(ue,{itemName:"skillsAnd",setCondition:s,isOn:a.skillsAnd,labelOff:"OR",labelOn:"AND"})),l.a.createElement(me,{itemName:"skills",items:t.skills,checkedItems:a.skills,onClickItem:i,square:!0})))}});a(130);const ve=[{id:"1",name:"あり"},{id:"0",name:"なし"}];function ye(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ce=Object(o.b)(e=>e.datalistReducer,e=>({setCondition:ae(e)}),(e,t)=>(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){ye(e,t,a[t])})}return e})({},e,t,{toggleCheckList:(a,n)=>{t.setCondition(se(e,a,n))}}),{areMergedPropsEqual:()=>!1})(class extends l.a.PureComponent{render(){const e=this.props,t=e.filterContents,a=e.filterCondition,n=e.setCondition,r=e.toggleCheckList,c=[];return t.versions.forEach((e,t)=>{c.push(l.a.createElement(oe,{key:t+1,itemName:"versions",items:e,checkedItems:a.versions,onClickItem:r}))}),l.a.createElement("div",null,l.a.createElement("section",{className:"filter-section"},l.a.createElement("h2",{className:"title"},"登場弾"),l.a.createElement("div",{className:"title-button"},l.a.createElement(ue,{itemName:"enableDetailVersion",setCondition:n,isOn:a.enableDetailVersion,labelOff:"メジャーVer",labelOn:"詳細Ver",width:220})),l.a.createElement("div",{className:M()("major-version",{active:!a.enableDetailVersion})},l.a.createElement(oe,{itemName:"majorVersions",items:t.majorVersions,checkedItems:a.majorVersions,onClickItem:r})),l.a.createElement("div",{className:M()("detail-version",{active:a.enableDetailVersion})},c)),l.a.createElement("section",{className:"filter-section"},l.a.createElement("h2",{className:"title"},"将器主効果候補"),l.a.createElement("div",{className:"title-button"},l.a.createElement(ue,{itemName:"genMainsAnd",setCondition:n,isOn:a.genMainsAnd,labelOff:"OR",labelOn:"AND"})),l.a.createElement(oe,{itemName:"genMains",items:t.genMains,checkedItems:a.genMains,onClickItem:r})),l.a.createElement("section",{className:"filter-section"},l.a.createElement("h2",{className:"title"},"レアリティ"),l.a.createElement(oe,{itemName:"rarities",items:t.rarities,checkedItems:a.rarities,onClickItem:r,square:!0})),l.a.createElement("section",{className:"filter-section"},l.a.createElement("h2",{className:"title"},"官職"),l.a.createElement(oe,{itemName:"generalTypes",items:t.generalTypes,checkedItems:a.generalTypes,onClickItem:r})),l.a.createElement("section",{className:"filter-section"},l.a.createElement("h2",{className:"title"},"カード種別"),l.a.createElement(oe,{itemName:"varTypes",items:t.varTypes,checkedItems:a.varTypes,onClickItem:r})),l.a.createElement("section",{className:"filter-section"},l.a.createElement("h2",{className:"title"},"ぽけっと武将"),l.a.createElement(oe,{itemName:"pockets",items:ve,checkedItems:a.pockets,onClickItem:r})))}});a(131);const ke=500;function Ne(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Oe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Se=Object(o.b)(e=>e.dialogReducer,e=>Object(d.a)({closeDialog:j.closeDialog},e),(e,t)=>{const a=e.actionRed,n=e.actionBlue,r=e.actionCancel;return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){Ne(e,t,a[t])})}return e}({},Oe(e,["actionRed","actionBlue","actionCancel"]),{actionRed:()=>{a(),t.closeDialog()},actionBlue:()=>{n(),t.closeDialog()},actionCancel:()=>{r&&r(),t.closeDialog()}})},{areMergedPropsEqual:()=>!1})(class extends l.a.PureComponent{constructor(){super(...arguments),this.state={poison:!1},this.actionWithAnimation=((e,t)=>{this.state.buttonAnimation||(this.props.animation?(this.setState({buttonAnimation:e}),setTimeout(()=>{this.setState({buttonAnimation:void 0}),t()},ke)):"BLUE"===e?(this.setState({poison:!0}),setTimeout(()=>{t(),this.setState({poison:!1})},ke)):t())}),this.handleRedClick=(e=>{e.stopPropagation(),this.actionWithAnimation("RED",this.props.actionRed)}),this.handleBlueClick=(e=>{e.stopPropagation(),this.actionWithAnimation("BLUE",this.props.actionBlue)}),this.handleCancelClick=(e=>{e.stopPropagation(),this.state.buttonAnimation||this.props.cancelable&&this.props.actionCancel()})}render(){const e=this.props,t=e.show,a=e.title,n=e.message,r=e.logoUrl,c=e.redText,s=e.blueText,i=e.cancelable,o=e.animation,d=this.state,m=d.buttonAnimation,u=d.poison;let p="",h=!1,b=!1;"RED"===m?(p="緋略",h=!0):"BLUE"===m&&(p="蒼略",b=!0);const g={};return t||(g.display="none"),l.a.createElement("div",{className:"dialog-container",style:g},l.a.createElement("div",{className:"dialog-base"},l.a.createElement("div",{className:M()("dialog-background",{poison:u}),onClick:this.handleCancelClick}),l.a.createElement("div",{className:"dialog"},l.a.createElement("div",{className:"dialog-inner"},l.a.createElement("div",{className:"dialog-title"},a),l.a.createElement("div",{className:"dialog-body"},l.a.createElement("div",{className:M()("dialog-logo",{show:null!=r})},l.a.createElement("img",{src:r})),l.a.createElement("div",{className:"dialog-message"},n)),l.a.createElement("div",{className:"dialog-actions"},l.a.createElement("div",{className:M()("dialog-action-button","dialog-action-red",{text:o}),onClick:this.handleRedClick},c),l.a.createElement("div",{className:M()("dialog-action-button","dialog-action-blue",{text:o}),onClick:this.handleBlueClick},s)),l.a.createElement("div",{className:M()("dialog-close",{cancelable:i}),onClick:this.handleCancelClick},"x"))),l.a.createElement("div",{className:M()("action-animation",{red:h,blue:b,show:h||b})},p)))}});function Ae(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){De(e,t,a[t])})}return e}function De(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=[],n=!0,r=!1,c=void 0;try{for(var l,s=e[Symbol.iterator]();!(n=(l=s.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const je=function(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return`第${e}弾${t=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?"-EX":a>0?`-${a}`:""}`};class we{constructor(e,t,a){this.id=e,this.raw=t,Object.assign(this,a)}get code(){return this.raw.code}get name(){return this.personal?this.personal.name:""}get version(){return je(this.majorVersion,this.addVersion,this.isEx)}get versionValue(){const e=this.isEx?"-EX":`-${this.addVersion}`;return`${this.majorVersion}${e}`}get hasPocket(){return""!==this.raw.pocket_code}get thumbUrl(){return`https://3594t.net/img/card_small/${this.code}.jpg`}}const xe=(e,t)=>`${t}`,Me=e=>e.key,Te=(e,t,a)=>e.map((e,n)=>a(e,t(e,n))),Ie=(e,t)=>Object.entries(e).map(e=>{let a=Pe(e,2),n=a[0],r=a[1];return t(r,`${n}`)}),Re=(e,t)=>{let a=e.code,n=e.name,r=e.name_short,c=e.short_name;return{id:t,code:a,name:n,nameShort:r||c}},_e={name:""},Fe=(e,t)=>{const a=e.find(e=>e.id===t);return a||_e},Be=e=>e.filter(e=>null!=e);var Le=e=>{const t=Te(e.STATE,xe,(e,t)=>{return Ae({},Re(e,t),{color:`rgb(${e.red}, ${e.green}, ${e.blue})`,thinColor:`rgba(${e.red}, ${e.green}, ${e.blue}, 0.2)`})}),a=Ie(e.COST,Re),n=Te(e.UNIT_TYPE,Me,(e,t)=>{return Ae({},Re(e,t),{nameShort:e.name[0]})}),r=Te(e.SKILL,Me,Re),c=Te(e.GEN_MAIN,Me,Re),l=Ie(e.RARITY,Re),s=Te(e.GENERAL_TYPE,Me,(e,t)=>{const a=Re(e,t);return""===e.name?Ae({},a,{name:"なし(女性)"}):a}),i=Te(e.VER_TYPE,xe,Re).map(e=>"Ex"===e.name?Ae({},e,{name:"EX"}):e),o=Te(e.STRAT,Me,(e,t)=>Ae({id:t},e)),d={},m=Te(e.GENERAL,xe,(i,m)=>{const u=parseInt(i.major_version),p=parseInt(i.add_version),h="2"===i.ver_type;return d[u]||(d[u]=[]),h||d[u].includes(p)||d[u].push(p),new we(m,i,{majorVersion:u,addVersion:p,isEx:h,force:parseInt(i.buryoku),intelligence:parseInt(i.chiryoku),conquest:parseInt(i.seiatsu),cost:Fe(a,i.cost),genMains:Be([i.gen_main0,i.gen_main1,i.gen_main2].filter(e=>""!==e).map(e=>c.find(t=>t.id===e))),generalType:Fe(s,i.general_type),personal:e.PERSONAL[parseInt(i.personal)],rarity:Fe(l,i.rarity),skills:Be([i.skill0,i.skill1,i.skill2].filter(e=>""!==e&&"0"!==e).map(e=>r.find(t=>t.id===e))),state:Fe(t,i.state),unitType:Fe(n,i.unit_type),strategy:o.find(e=>e.id===i.strat)})}),u=Object.keys(d).map(e=>parseInt(e)),p=(e,t)=>e-t;return u.sort(p),u.forEach(e=>{d[e].sort(p)}),{filterContents:{belongStates:t,costs:a,unitTypes:n,skills:r,genMains:c,rarities:l,generalTypes:s,varTypes:i,versions:Object.entries(d).map(e=>{let t=Pe(e,2),a=t[0],n=t[1];const r=Te(n,e=>`${a}-${e}`,(e,t)=>({id:t,name:je(a,e)}));return r.push({id:`${a}-EX`,name:je(a,0,!0)}),r}),majorVersions:Te(u,e=>`${e}`,(e,t)=>({id:t,name:je(e)}))},generals:m,strategies:o}};const Ge=(async()=>await(async()=>{const e=await fetch("https://gist.githubusercontent.com/boushi-bird/9fbed1f50fadcd04ea619355b5fa7a0c/raw/base.json");return await e.json()})())();function Ve(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function qe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){$e(e,t,a[t])})}return e}function $e(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ue=Object(o.b)(e=>qe({},e.windowReducer,{openedAnyModal:e.windowReducer.openedFilter||!e.windowReducer.ready,loading:!e.windowReducer.ready,activeIndex:e.deckReducer.activeIndex,aprilFool:e.datalistReducer.aprilFool}),e=>{const t=Object(d.a)({setBaseData:k.setBaseData,beReady:b.beReady,showDialog:j.showDialog,enableAprilFool:k.enableAprilFool},e);return qe({fetchBaseData:async()=>{const e=await(async()=>{const e=await Ge;return Le(e)})();t.setBaseData(e),t.showDialog({title:"滅国の毒牙",message:"怨嗟の声と絶望の涙を搾り取れ！",logoUrl:"https://3594t.net/img/avatar/505bdbbe30651a76015eae14e79b329b.png",redText:"反計可能！",actionRed:()=>{t.beReady()},blueText:"毒を受ける",actionBlue:()=>{t.enableAprilFool(),t.beReady()},cancelable:!1,animation:!1})}},Object(d.a)(qe({clearActiveCard:A.clearActiveCard,resetConditions:k.resetConditions,disableAprilFool:k.disableAprilFool},b),e))},(e,t)=>{const a=e.activeIndex,n=Ve(e,["activeIndex"]);return qe({},n,t,{clearActiveCard:()=>{void 0!==a&&t.clearActiveCard()},closeSideMenu:()=>{n.openedSideMenu&&t.closeSideMenu()}})},{areMergedPropsEqual:()=>!1})(class extends l.a.PureComponent{constructor(){super(...arguments),this.handleAppClick=(()=>{this.props.clearActiveCard(),this.props.closeSideMenu()}),this.handleSideMenuButtonClick=(()=>{this.props.openSideMenu()})}componentDidMount(){this.props.fetchBaseData()}render(){const e=this.props,t=e.ready,a=e.loading,n=e.resetConditions,r=e.openedSideMenu,c=e.openFilter,s=e.closeFilter,i=e.closeAllModal,o=e.changeActiveFilterTab,d=e.openedFilter,m=e.openedAnyModal,u=e.activeFilter,p=e.aprilFool,b=e.disableAprilFool,g={display:"none"};return p&&(g.display="block",g.position="fixed",g.top="40px",g.left="80px",g.fontSize="20px"),l.a.createElement("div",{className:M()(["app-container",{modal:m,ready:t}]),onClick:this.handleAppClick},l.a.createElement("div",{className:M()("side-menu",{open:r})},l.a.createElement("div",{className:"side-menu-header"}),l.a.createElement(L,null),"©SEGA"),l.a.createElement("div",{className:"app-main"},l.a.createElement("div",{className:"app-deck-block"},l.a.createElement("div",{className:"app-header"},l.a.createElement("button",{className:M()("side-menu-button",{show:!r}),onClick:this.handleSideMenuButtonClick},l.a.createElement(T.a,{icon:I.faBars})),l.a.createElement("div",{className:"app-header-title"},"三国志大戦デッキシミュレーター")),l.a.createElement("div",{className:"deck-boad-container"},l.a.createElement(X,null)),l.a.createElement("div",{className:"simple-filter-container"},l.a.createElement(de,null),l.a.createElement("button",{className:"open-filter",onClick:c},"絞込")),l.a.createElement(Z,null)),l.a.createElement("div",{className:M()(["card-filter-container",{open:d}])},l.a.createElement("h1",{className:"card-filter-title"},"絞り込みメニュー"),l.a.createElement("div",{className:"card-filter-buttons"},l.a.createElement(_,{tabs:h,activeTab:u,onTabChanged:o}),l.a.createElement(F,{resetConditions:n,closeFilter:s})),l.a.createElement("div",{className:M()(["card-filter-content",{active:"BASIC"===u}])},l.a.createElement(Ee,null)),l.a.createElement("div",{className:M()(["card-filter-content",{active:"DETAIL"===u}])},l.a.createElement(Ce,null)))),l.a.createElement("button",{style:g,onClick:b},"浄化する"),l.a.createElement("div",{className:"modal-background",onClick:i}),l.a.createElement("div",{className:M()("loading-item",{loading:a})}),l.a.createElement(Se,null))}});const Ke={datalistReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_CONDITIONS":return E({},e,{filterCondition:y,effectiveFilterCondition:y,currentPage:C.currentPage});case"APPLY_CONDITION":return E({},e,{effectiveFilterCondition:Object(f.a)(e.filterCondition),currentPage:C.currentPage});case"SET_CONDITION":return E({},e,{filterCondition:E({},e.filterCondition,t.payload.condition)});case"SET_BASE_DATA":{const a=t.payload.baseData,n=a.generals,r=a.filterContents;return E({},e,{filterCondition:y,effectiveFilterCondition:y,currentPage:C.currentPage,filterContents:r,generals:n})}case"RESET_PAGE":return E({},e,{currentPage:C.currentPage});case"INCREMENT_PAGE":case"DECREMENT_PAGE":{const a=t.payload.page;return E({},e,{currentPage:e.currentPage+a})}case"CHANGE_APRIL_FOOL":return E({},e,{aprilFool:t.payload.aprilFool});default:return e}},deckReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DECK_GENERAL":{const a=t.payload;return N({},e,{activeIndex:void 0,enableSearch:!1,deckCards:[...e.deckCards,N({},a)]})}case"CHANGE_DECK_GENERAL":{const a=t.payload,n=a.index,r=a.card,c=[...e.deckCards];return c[n]=N({},r),N({},e,{activeIndex:void 0,enableSearch:!1,deckCards:c})}case"ADD_DECK_DUMMY":{const a=t.payload,n=a.cost,r=a.belongState,c=a.unitType;return N({},e,{activeIndex:void 0,enableSearch:!1,deckCards:[...e.deckCards,{cost:n,belongState:r,unitType:c}]})}case"SET_DECK_VALUE":{const a=t.payload,n=a.index,r=a.deckCard,c=[...e.deckCards];return c[n]=N({},c[n],r),N({},e,{deckCards:c})}case"REMOVE_DECK":{const a=t.payload,n=e.deckCards.filter((e,t)=>t!==a);return N({},e,{activeIndex:void 0,enableSearch:!1,deckCards:n})}case"CLEAR_DECK":return N({},e,{activeIndex:void 0,enableSearch:!1,deckCards:[]});case"SET_ACTIVE_CARD":return N({},e,{activeIndex:t.payload,enableSearch:!1});case"SEARCH_BY_DECK":return N({},e,{activeIndex:t.payload,enableSearch:!0});case"CLEAR_ACTIVE_CARD":return N({},e,{activeIndex:void 0,enableSearch:!1});case"SELECT_MAIN_GEN":{const a=t.payload,n=a.index,r=a.genMain,c=[...e.deckCards],l=c[n];return null==l?e:(c[n]=N({},l,{genMain:r}),N({},e,{activeIndex:n,deckCards:c}))}default:return e}},dialogReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_DIALOG":{const e=t.payload,a=e.cancelable,n=e.animation;return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),n.forEach(function(t){D(e,t,a[t])})}return e}({},P(e,["cancelable","animation"]),{show:!0,cancelable:null==a||a,animation:null==n||n})}case"CLOSE_DIALOG":return w;default:return e}},windowReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BE_READY":return u({},e,{ready:!0});case"CHANGE_SIDEMENU_VISIBLE":return u({},e,{openedSideMenu:t.payload.openedSideMenu});case"CHANGE_FILTER_VISIBLE":return u({},e,{openedFilter:t.payload.openedFilter});case"CLOSE_ALL_MODAL":return u({},e,{openedFilter:!1});case"CHANGE_ACTIVE_FILTER":return u({},e,{activeFilter:t.payload.activeFilter});default:return e}}};var He=Object(d.c)(Object(d.b)(Ke));r.a.load({custom:{families:["Noto Sans Japanese:n4,n7"],urls:["https://fonts.googleapis.com/earlyaccess/notosansjapanese.css"]}}),i.a.render(l.a.createElement(o.a,{store:He},l.a.createElement(Ue,null)),document.getElementById("app"))},76:function(e,t,a){},97:function(e,t,a){}});