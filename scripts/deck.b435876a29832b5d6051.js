!function(e){function t(t){for(var n,r,l=t[0],i=t[1],o=t[2],m=0,u=[];m<l.length;m++)r=l[m],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&u.push(s[r][0]),s[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(d&&d(t);u.length;)u.shift()();return c.push.apply(c,o||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,l=1;l<a.length;l++){var i=a[l];0!==s[i]&&(n=!1)}n&&(c.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},s={0:0},c=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var d=i;c.push([190,1]),a()}({109:function(e,t,a){},136:function(e,t,a){},140:function(e,t,a){},141:function(e,t,a){},142:function(e,t,a){},155:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},190:function(e,t,a){"use strict";a.r(t);a(109);var n=a(97),s=a.n(n),c=a(0),r=a.n(c),l=a(34),i=a.n(l),o=a(5),d=a(35),m=a(21),u=a(7),h=a(24),p=a.n(h),g=a(3);const E={BASIC:"基本",DETAIL:"詳細",STRAT:"計略"},C={beReady:Object(g.createAction)("BE_READY")(),openSideMenu:Object(g.createAction)("CHANGE_SIDEMENU_VISIBLE",()=>({openedSideMenu:!0}))(),closeSideMenu:Object(g.createAction)("CHANGE_SIDEMENU_VISIBLE",()=>({openedSideMenu:!1}))(),openFilter:Object(g.createAction)("CHANGE_FILTER_VISIBLE",()=>({openedFilter:!0}))(),closeFilter:Object(g.createAction)("CHANGE_FILTER_VISIBLE",()=>({openedFilter:!1}))(),openDeckConfig:Object(g.createAction)("CHANGE_DECK_CONFIG_VISIBLE",()=>({openedDeckConfig:!0}))(),closeDeckConfig:Object(g.createAction)("CHANGE_DECK_CONFIG_VISIBLE",()=>({openedDeckConfig:!1}))(),openUpdateInfo:Object(g.createAction)("CHANGE_UPDATE_INFO_VISIBLE",()=>({openedUpdateInfo:!0}))(),closeUpdateInfo:Object(g.createAction)("CHANGE_UPDATE_INFO_VISIBLE",()=>({openedUpdateInfo:!1}))(),enableNotice:Object(g.createAction)("CHANGE_SHOW_NOTICE",()=>({showNotice:!0}))(),disableNotice:Object(g.createAction)("CHANGE_SHOW_NOTICE",()=>({showNotice:!1}))(),closeAllModal:Object(g.createAction)("CLOSE_ALL_MODAL")(),changeActiveFilterTab:Object(g.createAction)("CHANGE_ACTIVE_FILTER",e=>({activeFilter:e}))(),storeInstallPromptEvent:Object(g.createAction)("STORE_INSTALL_PROMPT_EVENT",e=>({event:e}))()},f={ready:!1,openedSideMenu:!1,openedFilter:!1,openedDeckConfig:!1,openedUpdateInfo:!1,showNotice:!1,activeFilter:"BASIC",installPromptEvent:null};var N=a(108);const b={basic:{belongStates:[],costs:[],unitTypes:[],forceMin:1,forceMax:10,useCostRatioForce:!1,costRatioForceMin:-4,costRatioForceMax:5,costRatioBaseForces:{10:3,15:6,20:8,25:9,30:10},intelligenceMin:1,intelligenceMax:10,conquestMin:0,conquestMax:4,skills:[],skillsAnd:!1,searchText:""},detail:{genMains:[],genMainsAnd:!1,rarities:[],generalTypes:[],varTypes:[],majorVersions:[],versions:[],enableDetailVersion:!1,pockets:[]},strategies:{showStrategyExplanation:!1,moraleMin:1,moraleMax:12,strategyCategories:[],strategyRanges:[],strategyTimes:[],strategySearchName:"",strategySearchExplanation:""}},v={filterCondition:b,effectiveFilterCondition:b,filterContents:{belongStates:[],costs:[],unitTypes:[],skills:[],genMains:[],rarities:[],generalTypes:[],varTypes:[],versions:[],majorVersions:[],strategyCategories:[],strategyRanges:[],strategyTimes:[]},generals:[],strategies:[],currentPage:1,pageLimit:50},k={resetConditions:Object(g.createAction)("RESET_CONDITIONS")(),applyCondition:Object(g.createAction)("APPLY_CONDITION")(),setBasicCondition:Object(g.createAction)("SET_BASIC_CONDITION",e=>({condition:e}))(),setDetailCondition:Object(g.createAction)("SET_DETAIL_CONDITION",e=>({condition:e}))(),setStrategiesCondition:Object(g.createAction)("SET_STRATEGIES_CONDITION",e=>({condition:e}))(),setShowStrategyExplanation:Object(g.createAction)("SET_SHOW_STRATEGY_EXPLANATION",e=>e)(),setBaseData:Object(g.createAction)("SET_BASE_DATA",e=>({baseData:e}))(),incrementPage:Object(g.createAction)("INCREMENT_PAGE",()=>({page:1}))(),resetPage:Object(g.createAction)("RESET_PAGE")(),decrementPage:Object(g.createAction)("DECREMENT_PAGE",()=>({page:-1}))()};const y={searchCondition:void 0,deckConstraints:{limitCost:80,sameCard:"personal"}},S={setActiveCard:Object(g.createAction)("SET_ACTIVE_CARD",e=>e)(),searchByDeck:Object(g.createAction)("SEARCH_BY_DECK",(e,t)=>({index:e,condition:t}))(),clearActiveCard:Object(g.createAction)("CLEAR_ACTIVE_CARD")(),setDeckConstraints:Object(g.createAction)("SET_DECK_CONSTRAINTS",e=>({condition:e}))()};a(6),a(136);var O=a(1),A=a.n(O),I=a(9),T=a(107),D=a(47);a(140);class x extends r.a.PureComponent{constructor(){super(...arguments),this.handleTabClick=e=>{const t=e.currentTarget.dataset.tab;t&&this.props.onTabChanged(t)}}render(){const{tabs:e,activeTab:t}=this.props,a=[];return Object.entries(e).forEach(([e,n])=>{const s=t===e,c="tab-button-".concat(e.toLowerCase()),l=A()([c,{active:s}]);a.push(r.a.createElement("button",{key:e,"data-tab":e,className:l,onClick:this.handleTabClick},n))}),r.a.createElement("div",{className:"card-filter-tabs"},a)}}a(141);var w=r.a.memo(({resetConditions:e,closeFilter:t})=>r.a.createElement("div",{className:"card-filter-actions"},r.a.createElement("button",{className:"action-buton-reset",onClick:e},"リセット"),r.a.createElement("button",{className:"action-buton-ok",onClick:t},"OK"))),R=(a(142),a(101));class _ extends r.a.PureComponent{constructor(){super(...arguments),this.handleInstallPrompt=e=>{this.props.pwaInstallEnabled?this.props.installPrompt():e.stopPropagation()},this.handleOpenUpdateInfo=()=>{this.props.openUpdateInfo()}}render(){const{pwaInstallEnabled:e,showNotice:t}=this.props;return r.a.createElement("ul",{className:"side-menu-list"},r.a.createElement("li",{className:"side-menu-item"},r.a.createElement("a",{href:"./about.html",target:"_blank",rel:"noopener noreferrer"},"このツールについて",r.a.createElement(I.a,{className:"external-link-icon",icon:R.faExternalLinkAlt}))),r.a.createElement("li",{className:"side-menu-item"},r.a.createElement("a",{onClick:this.handleOpenUpdateInfo},"更新情報",r.a.createElement(I.a,{icon:D.faExclamationCircle,className:A()("notice",{show:t})}))),r.a.createElement("li",{className:"side-menu-item pwa-install"},r.a.createElement("a",{onClick:this.handleInstallPrompt,className:A()({disabled:!e})},"インストールする")))}}var M=Object(o.b)(e=>({showNotice:e.windowReducer.showNotice,installPromptEvent:e.windowReducer.installPromptEvent}),e=>Object(u.a)({openUpdateInfo:C.openUpdateInfo,storeInstallPromptEvent:C.storeInstallPromptEvent},e),(e,t)=>({...{showNotice:e.showNotice,pwaInstallEnabled:!!e.installPromptEvent},...{openUpdateInfo:t.openUpdateInfo,installPrompt:async()=>{e.installPromptEvent&&(await e.installPromptEvent.prompt(),t.storeInstallPromptEvent(null))}}}),{areMergedPropsEqual:()=>!1})(_);a(63);const P={showDialog:Object(g.createAction)("SHOW_DIALOG",e=>e)(),closeDialog:Object(g.createAction)("CLOSE_DIALOG")()},V={show:!1,title:"",message:"",logoUrl:void 0,redText:"",blueText:"",cancelable:!0,animation:!0,actionRed:()=>{},actionBlue:()=>{},actionCancel:void 0};const j={datalistReducer:function(e=v,t){switch(t.type){case"RESET_CONDITIONS":return{...e,filterCondition:b,effectiveFilterCondition:b,currentPage:v.currentPage};case"APPLY_CONDITION":return{...e,effectiveFilterCondition:Object(N.a)(e.filterCondition),currentPage:v.currentPage};case"SET_BASIC_CONDITION":return{...e,filterCondition:{...e.filterCondition,basic:{...e.filterCondition.basic,...t.payload.condition}}};case"SET_DETAIL_CONDITION":return{...e,filterCondition:{...e.filterCondition,detail:{...e.filterCondition.detail,...t.payload.condition}}};case"SET_STRATEGIES_CONDITION":return{...e,filterCondition:{...e.filterCondition,strategies:{...e.filterCondition.strategies,...t.payload.condition}}};case"SET_SHOW_STRATEGY_EXPLANATION":return{...e,filterCondition:{...e.filterCondition,strategies:{...e.filterCondition.strategies,showStrategyExplanation:t.payload}}};case"SET_BASE_DATA":{const a=t.payload.baseData,{generals:n,strategies:s,filterContents:c}=a;return{...e,filterCondition:b,effectiveFilterCondition:b,currentPage:v.currentPage,filterContents:c,generals:n,strategies:s}}case"RESET_PAGE":return{...e,currentPage:v.currentPage};case"INCREMENT_PAGE":case"DECREMENT_PAGE":{const a=t.payload.page;return{...e,currentPage:e.currentPage+a}}default:return e}},deckReducer:function(e=y,t){switch(t.type){case"SET_ACTIVE_CARD":{const a=t.payload;return{...e,activeIndex:a,searchCondition:void 0}}case"SEARCH_BY_DECK":{const{index:a,condition:n}=t.payload;return{...e,activeIndex:a,searchCondition:n}}case"CLEAR_ACTIVE_CARD":return{...e,activeIndex:void 0,searchCondition:void 0};case"SET_DECK_CONSTRAINTS":return{...e,deckConstraints:{...e.deckConstraints,...t.payload.condition}};default:return e}},dialogReducer:function(e=V,t){switch(t.type){case"SHOW_DIALOG":{const{cancelable:e,animation:a,...n}=t.payload;return{...n,show:!0,cancelable:null==e||e,animation:null==a||a}}case"CLOSE_DIALOG":return V;default:return e}},windowReducer:function(e=f,t){switch(t.type){case"BE_READY":return{...e,ready:!0};case"CHANGE_SIDEMENU_VISIBLE":const{payload:{openedSideMenu:a}}=t;return{...e,openedSideMenu:a};case"CHANGE_FILTER_VISIBLE":const{payload:{openedFilter:n}}=t;return{...e,openedFilter:n};case"CHANGE_DECK_CONFIG_VISIBLE":const{payload:{openedDeckConfig:s}}=t;return{...e,openedDeckConfig:s};case"CHANGE_UPDATE_INFO_VISIBLE":const{payload:{openedUpdateInfo:c}}=t;return{...e,openedUpdateInfo:c};case"CLOSE_ALL_MODAL":return{...e,openedFilter:!1,openedDeckConfig:!1,openedUpdateInfo:!1};case"CHANGE_ACTIVE_FILTER":const{payload:{activeFilter:r}}=t;return{...e,activeFilter:r};case"CHANGE_SHOW_NOTICE":const{payload:{showNotice:l}}=t;return{...e,showNotice:l};case"STORE_INSTALL_PROMPT_EVENT":const{payload:{event:i}}=t;return{...e,installPromptEvent:i};default:return e}}};var B=Object(u.c)(Object(u.b)(j));class L extends class{constructor(e,t){this.props=e,this.generals=t,this.push=e=>{const t=new URLSearchParams(window.location.search);this.toQuery(e)?t.set("deck",this.toQuery(e)):t.delete("deck");const a="?".concat(t);"?"!==a?this.props.history.push(a):this.props.history.push("")},this.toQuery=e=>e.map(this.toQueryDeckCard).filter(e=>e).join("|"),this.toQueryDeckCard=e=>{const t=this.content;if("general"in e){const a=this.generals.find(t=>t.id===e.general);if(!a)return"";const n=t.genMains.find(t=>t.id===e.genMain);return[e.pocket?a.pocketCode:a.code,n?n.code:""].join("_")}const a=t.belongStates.find(t=>t.id===e.belongState),n=a?a.nameShort:"",s=t.unitTypes.find(t=>t.id===e.unitType),c=s?s.name[0]:"";return["","",e.cost,n,c].join("_")},this.parseDeckCards=()=>{const e=new URLSearchParams(this.props.location.search).get("deck");return e?e.split("|").map(this.parseDeckCard):[]},this.parseDeckCard=e=>{const[t,a,n,s,c]=e.split("_"),r=this.parseDeckCardGeneral({code:t,genMainCode:a});return r||this.parseDeckCardDummy({cost:n,belongStateNameShort:s,unitTypeName:c})},this.parseDeckCardGeneral=({code:e,genMainCode:t})=>{if(!e)return null;const a=this.generals.find(t=>t.code===e||t.pocketCode===e);if(!a)return null;const n=a.code!==e,s=this.content.genMains.find(e=>e.code===t);let c=void 0;return s&&a.genMains.includes(s)&&(c=s.id),{general:a.id,genMain:c,pocket:n}},this.parseDeckCardDummy=({cost:e,belongStateNameShort:t,unitTypeName:a})=>{const n=this.content.belongStates.find(e=>e.nameShort===t),s=this.content.unitTypes.find(e=>e.name[0]===a);return{cost:e&&this.content.costs.findIndex(t=>t.code===e)?e:"10",belongState:n?n.id:void 0,unitType:s?s.id:void 0}},this.values=this.parseDeckCards()}get content(){return B.getState().datalistReducer.filterContents}get deckCards(){return this.values}}{constructor(){super(...arguments),this.addDeckGeneral=e=>{const t=[...this.deckCards,{...e}];this.push(t)},this.changeDeckGeneral=(e,t)=>{const a=[...this.deckCards];a[e]={...t},this.push(a)},this.addDeckDummy=e=>{const t=[...this.deckCards,{...e}];this.push(t)},this.setDeckDummyValue=(e,t)=>{const a=[...this.deckCards],n=a[e];!n||"general"in n||(a[e]={...n,...t},this.push(a))},this.removeDeck=e=>{const t=this.deckCards.filter((t,a)=>a!==e);this.push(t)},this.clearDeck=()=>{this.push([])},this.selectMainGen=(e,t)=>{const a=[...this.deckCards],n=a[e];n&&"general"in n&&(a[e]={...n,genMain:t},this.push(a))}}}a(155);var G=a(37),F=a(103),U=(a(156),a(48)),q=a(49);class H extends r.a.PureComponent{constructor(){super(...arguments),this.handleSelectMainGen=e=>{const{index:t,onSelectMainGen:a}=this.props;let n=e.currentTarget.value;null!=n&&""!==n||(n=void 0),a(t,n)},this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:a}=this.props;a(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:a}=this.props;a(t)},this.handleSearch=e=>{e.stopPropagation();const{index:t,onToggleSearch:a,general:n}=this.props;a(t,{cost:n.raw.cost,belongState:n.raw.state,unitType:n.raw.unit_type})}}render(){const{general:e,genMain:t,active:a,search:n,pocket:s}=this.props,c={backgroundColor:e.state.thinColor},l=e.state.color,i={backgroundColor:l},o=[l,"".concat(l," 30px"),"transparent 92px","transparent"],d={background:"linear-gradient(-30deg, ".concat(o.join(","),")")},m=[];e.skills.forEach(e=>{m.push(r.a.createElement("span",{className:"skill",key:e.id},e.nameShort))}),0===m.length&&m.push(r.a.createElement("span",{className:"no-skill",key:0},"特技なし"));const u=[];e.genMains.forEach((e,t)=>{u.push(r.a.createElement("option",{value:e.id,key:t},e.nameShort))});const h=null!=t?t:"";return r.a.createElement("div",{className:A()("deck-card",{active:a}),style:c,onClick:this.handleActive},r.a.createElement("div",{className:"deck-card-inner-top"},r.a.createElement("img",{className:"general-thumb",src:e.thumbUrl(s)}),r.a.createElement("div",{className:"shadow",style:d}),r.a.createElement("span",{className:"state",style:i},e.state.nameShort),r.a.createElement("span",{className:"version",style:i},e.version),r.a.createElement("span",{className:"cost","data-label":"コスト"},e.cost.name),r.a.createElement("span",{className:"unit","data-label":"兵種"},e.unitType.nameShort),r.a.createElement("span",{className:"name"},r.a.createElement("span",{className:"rarity"},e.rarity.name),e.name)),r.a.createElement("div",{className:"deck-card-inner-bottom"},r.a.createElement("span",{className:"force","data-label":"武"},e.force),r.a.createElement("span",{className:"intelligence","data-label":"知"},e.intelligence),r.a.createElement("span",{className:"conquest","data-label":"制圧"},e.conquest),r.a.createElement("span",{className:"skills"},m),r.a.createElement("span",{className:"gen-mains","data-label":"主将器"},r.a.createElement("select",{className:"gen-mains-select",value:h,onChange:this.handleSelectMainGen},r.a.createElement("option",{value:""}),u))),r.a.createElement("div",{className:"tool-box"},r.a.createElement("button",{className:"remove",onClick:this.handleRemove},r.a.createElement(I.a,{icon:U.faMinusCircle})),r.a.createElement("button",{className:A()("search",{enable:n}),onClick:this.handleSearch},r.a.createElement(I.a,{icon:q.faSearch}))))}}a(157);class W extends r.a.PureComponent{constructor(){super(...arguments),this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:a}=this.props;a(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:a}=this.props;a(t)},this.handleSearch=e=>{e.stopPropagation();const{index:t,onToggleSearch:a,deckCard:n}=this.props;a(t,n)},this.handleChangeDeckValue=e=>{const{index:t,setDeckValue:a}=this.props,n=e.currentTarget.name;let s=e.currentTarget.value;""===s&&(s=void 0),a(t,{[n]:s})}}render(){const{deckCard:e,active:t,search:a,belongStates:n,costs:s,unitTypes:c}=this.props,l={},i={},o=e.belongState?n.find(t=>t.id===e.belongState):void 0,d=e.cost?s.find(t=>t.id===e.cost):void 0,m=e.unitType?c.find(t=>t.id===e.unitType):void 0;let u="",h="",p=!1;o&&(l.backgroundColor=o.thinColor,i.backgroundColor=o.color,u=o.id,h=o.nameShort||"",p=!0);let g="";d&&(g=d.name);const E={};let C="",f="";m?(C=m.id,f=m.nameShort||""):E.display="none";const N=[];n.forEach((e,t)=>{N.push(r.a.createElement("option",{value:e.id,key:t},e.name))});const b=[];s.forEach((e,t)=>{b.push(r.a.createElement("option",{value:e.id,key:t},e.name))});const v=[];return c.forEach((e,t)=>{v.push(r.a.createElement("option",{value:e.id,key:t},e.nameShort||e.name))}),r.a.createElement("div",{className:A()("deck-dummy-card",{"has-state":p,active:t}),style:l,onClick:this.handleActive},r.a.createElement("div",{className:"deck-card-inner-top",style:i},r.a.createElement("span",{className:"state"},h),r.a.createElement("span",{className:"cost","data-label":"コスト"},g),r.a.createElement("span",{className:"unit",style:E,"data-label":"兵種"},f),r.a.createElement("div",{className:"edit"},r.a.createElement("span",{className:"select-item-container","data-label":"勢力"},r.a.createElement("select",{className:"select-item",name:"belongState",value:u,onChange:this.handleChangeDeckValue},r.a.createElement("option",{value:""}),N)),r.a.createElement("span",{className:"select-item-container","data-label":"コスト"},r.a.createElement("select",{className:"select-item",name:"cost",value:e.cost,onChange:this.handleChangeDeckValue},b)),r.a.createElement("span",{className:"select-item-container","data-label":"兵種"},r.a.createElement("select",{className:"select-item",name:"unitType",value:C,onChange:this.handleChangeDeckValue},r.a.createElement("option",{value:""}),v)))),r.a.createElement("div",{className:"deck-card-inner-bottom"},r.a.createElement("div",{className:"tool-box"},r.a.createElement("button",{className:"remove",onClick:this.handleRemove},r.a.createElement(I.a,{icon:U.faMinusCircle})),r.a.createElement("button",{className:A()("search",{enable:a}),onClick:this.handleSearch},r.a.createElement(I.a,{icon:q.faSearch})))))}}const Y=Object(o.b)(e=>({generals:e.datalistReducer.generals,belongStates:e.datalistReducer.filterContents.belongStates,costs:e.datalistReducer.filterContents.costs,unitTypes:e.datalistReducer.filterContents.unitTypes}),null,(e,t,a)=>{const{generals:n,...s}=e;return{...s,...{setDeckValue:new L(a,n).setDeckDummyValue},...a}})(W);var K=Object(m.e)(Y);class Q extends r.a.Component{render(){const{deckCards:e,activeIndex:t,enabledAddDeck:a,enableSearch:n,totalForce:s,totalIntelligence:c,intelligenceByMainGen:l,totalConquest:i,conquestByMainGen:o,conquestRank:d,totalCost:m,limitCost:u,maxMorale:h,maxMoraleByMainGen:p,tolalMoraleByCharm:g,tolalMoraleByMainGen:E,hasDummy:C,hasStateDummy:f,addDeckDummy:N,clearDeck:b,openDeckConfig:v,selectMainGen:k,setActiveCard:y,removeDeck:S,toggleSearch:O}=this.props,T=[];e.forEach((e,a)=>{const s=t===a;if("general"in e){const{general:t,genMain:c,pocket:l}=e;T.push(r.a.createElement(H,{key:a,index:a,active:s,search:s&&n,genMain:c,general:t,pocket:l,onSelectMainGen:k,onActive:y,onRemoveDeck:S,onToggleSearch:O}))}else T.push(r.a.createElement(K,{key:a,index:a,active:s,search:s&&n,deckCard:e,onActive:y,onRemoveDeck:S,onToggleSearch:O}))});let D=m-u,x="残り",w=!1,R=!1;D>0?(x="コストオーバー",w=!0):D<0&&(D*=-1,R=!0);const _=(g+E)/100,M=g/100,P=E/100;return r.a.createElement("div",{className:"deck-board"},r.a.createElement("div",{className:"deck-card-list"},T,r.a.createElement("div",{className:"deck-actions"},r.a.createElement("div",{className:A()("add-new-deck-card","button",{disabled:!a}),onClick:N},"追加",r.a.createElement(I.a,{icon:G.faPlusCircle})),r.a.createElement("div",{className:"deck-clear button",onClick:b},"クリア"),r.a.createElement("div",{className:"open-deck-config button",onClick:v},r.a.createElement(I.a,{icon:F.faCog})))),r.a.createElement("div",{className:"deck-total"},r.a.createElement("div",{className:"total","data-label":"総武力"},r.a.createElement("span",{className:A()("force",{dummy:C})},s)),r.a.createElement("div",{className:"total","data-label":"総知力"},r.a.createElement("span",{className:A()("has-gen-main",{active:l>0})},"将器込み"),r.a.createElement("span",{className:A()("intelligence",{dummy:C})},c,r.a.createElement("span",{className:A()("breakdown",{active:l>0})},"(",c-l,r.a.createElement("span",{className:"addition-by-main-gen"},"+",l),")"))),r.a.createElement("div",{className:"total","data-label":"総征圧力"},r.a.createElement("span",{className:A()("has-gen-main",{active:o>0})},"将器込み"),r.a.createElement("span",{className:A()("conquest-rank",{dummy:C})},d),r.a.createElement("span",{className:A()("conquest",{dummy:C})},i,r.a.createElement("span",{className:A()("breakdown",{active:o>0})},"(",i-o,r.a.createElement("span",{className:"addition-by-main-gen"},"+",o),")"))),r.a.createElement("div",{className:"total total-cost","data-label":"総コスト"},r.a.createElement("span",{className:"cost"},(m/10).toFixed(1)),r.a.createElement("span",{className:A()("cost-remain",{over:w,under:R})},"(",x," ",(D/10).toFixed(1),")")),r.a.createElement("div",{className:"total","data-label":"最大士気"},r.a.createElement("span",{className:A()("has-gen-main",{active:p>0})},"将器込み"),r.a.createElement("span",{className:A()("max-morale",{dummy:f})},h,r.a.createElement("span",{className:A()("breakdown",{active:p>0})},"(",h-p,r.a.createElement("span",{className:"addition-by-main-gen"},"+",p),")"))),r.a.createElement("div",{className:"total","data-label":"開幕士気"},r.a.createElement("span",{className:A()("has-gen-main",{active:P>0})},"将器込み"),r.a.createElement("span",{className:"start-morale"},_,r.a.createElement("span",{className:A()("breakdown",{active:P>0})},"(",M,r.a.createElement("span",{className:"addition-by-main-gen"},"+",P),")")))))}}var X=function(e,t){return e.length-(null!=t?1:0)<8};const J={areOwnPropsEqual:(e,t)=>{const a=new URLSearchParams(e.location.search),n=new URLSearchParams(t.location.search);return a.get("deck")===n.get("deck")},areMergedPropsEqual:()=>!1},z=Object(o.b)(e=>({enableSearch:null!=e.deckReducer.searchCondition,activeIndex:e.deckReducer.activeIndex,generals:e.datalistReducer.generals,limitCost:e.deckReducer.deckConstraints.limitCost}),e=>Object(u.a)({openDeckConfig:C.openDeckConfig,setActiveCard:S.setActiveCard,clearActiveCard:S.clearActiveCard,searchByDeck:S.searchByDeck,resetPage:k.resetPage,showDialog:P.showDialog},e),(e,t,a)=>{const{enableSearch:n,activeIndex:s,generals:c,limitCost:r}=e,{clearActiveCard:l,searchByDeck:i,resetPage:o,showDialog:d,...m}=t,u=new L(a,c),h=X(u.deckCards);let p=0,g=0,E=0,C=0,f=!1,N=!1;const b=[],v=new Set,k=new Map,y=new Map;u.deckCards.forEach(e=>{let t;if("general"in e){const a=null!=e.general?c.find(t=>t.id===e.general):void 0;if(!a)return;p+=a.force,g+=a.intelligence,E+=a.conquest,t=a.raw.cost,v.add(a.raw.state);const n=e.genMain;if(null!=n){const e=a.genMains.find(e=>e.id===n);if(e){const t=k.get(e.name)||0;k.set(e.name,t+1)}}a.skills.forEach(e=>{const t=y.get(e.name)||0;y.set(e.name,t+1)}),b.push({general:a,genMain:n,pocket:e.pocket})}else f=!0,t=e.cost,e.belongState?v.add(e.belongState):N=!0,b.push(e);C+=parseInt(t)});const S=v.size+(N?1:0);let O;1===S?O=12:2===S?O=9:(N=!1,O=6);const A=40*(y.get("魅力")||0);let I;I=E>=11?"S":E>=9?"A":E>=7?"B":"C";let T=2*(k.get("同盟者")||0);O+T>=12?(T=12-O,O=12):O+=T;const D=40*(k.get("士気上昇")||0),x=3*(k.get("知力上昇")||0);g+=x;const w=1*(k.get("征圧力上昇")||0);return E+=w,{...{deckCards:b,activeIndex:s,enabledAddDeck:h,enableSearch:n,totalForce:p,totalIntelligence:g,intelligenceByMainGen:x,totalConquest:E,conquestByMainGen:w,conquestRank:I,totalCost:C,limitCost:r,maxMorale:O,maxMoraleByMainGen:T,tolalMoraleByCharm:A,tolalMoraleByMainGen:D,hasDummy:f,hasStateDummy:N},...{...m,addDeckDummy:()=>{if(!h)return;let e,t,a="10";const{costs:n,belongStates:s,unitTypes:c}=B.getState().datalistReducer.filterCondition.basic;n.length>=1&&(a=[...n].sort()[0]),1===s.length&&(e=s[0]),1===c.length&&(t=c[0]),l(),u.addDeckDummy({cost:a,belongState:e,unitType:t})},selectMainGen:(e,t)=>{l(),u.selectMainGen(e,t)},removeDeck:e=>{l(),u.removeDeck(e)},clearDeck:()=>{b.length>0&&d({title:"デッキクリア",message:"デッキをクリアします。",redText:"クリア",actionRed:()=>{l(),u.clearDeck()},blueText:"キャンセル",actionBlue:()=>{}})},toggleSearch:(e,t)=>{o(),s===e&&n?m.setActiveCard(e):i(e,t)}}}},J)(Q);var $=Object(m.e)(z);a(159),a(160);class Z extends r.a.PureComponent{constructor(){super(...arguments),this.handleAddDeckClick=e=>{const{general:t,onAddDeck:a}=this.props,n=e.currentTarget.dataset.genMain;a({general:t.id,genMain:n,pocket:!1})}}render(){const{general:e,show:t,enabledAddDeck:a,showStrategyExplanation:n}=this.props,s={backgroundColor:e.state.thinColor},c={backgroundColor:e.state.color};null==t||t||(s.display="none");const l=[];e.skills.forEach(e=>{l.push(r.a.createElement("span",{className:"skill",key:e.id},e.nameShort))}),0===l.length&&l.push(r.a.createElement("span",{className:"no-skill",key:0},"特技なし"));const i=e.strategy.name,o=e.strategy.morale,d=e.strategy.explanation,m=[];d.split("\n").forEach((e,t)=>{m.push(r.a.createElement("span",{key:t},e))});const u=[];return e.genMains.forEach((e,t)=>{u.push(r.a.createElement("button",{className:"gen-main",key:t,disabled:!a,"data-gen-main":e.id,onClick:this.handleAddDeckClick},e.nameShort,r.a.createElement(I.a,{icon:G.faPlusCircle})))}),r.a.createElement("div",{className:"general-card",style:s},r.a.createElement("span",{className:"state",style:c},e.state.nameShort),r.a.createElement("span",{className:"version"},e.version),r.a.createElement("span",{className:"rarity"},e.rarity.name),r.a.createElement("span",{className:"name"},e.name),r.a.createElement("span",{className:"image"},r.a.createElement(p.a,{height:64,once:!0,scroll:!1,resize:!1,placeholder:r.a.createElement("div",{className:"no-image general-thumb"})},r.a.createElement("img",{className:"general-thumb",src:e.thumbUrl(!1)}))),r.a.createElement("span",{className:"cost","data-label":"コスト"},e.cost.name),r.a.createElement("span",{className:"unit","data-label":"兵種"},e.unitType.nameShort),r.a.createElement("span",{className:"force","data-label":"武"},e.force),r.a.createElement("span",{className:"intelligence","data-label":"知"},e.intelligence),r.a.createElement("span",{className:"conquest","data-label":"制圧"},e.conquest),r.a.createElement("span",{className:"skills"},l),r.a.createElement("span",{className:A()("strategy",{show:!n}),"data-label":"計略名",title:d},i),r.a.createElement("span",{className:A()("strategy-explanation",{show:n})},m),r.a.createElement("span",{className:"strategy-morale","data-label1":"必要","data-label2":"士気"},o),r.a.createElement("span",{className:"gen-mains","data-label":"主将器"},u),r.a.createElement("span",{className:"buttons"},r.a.createElement("button",{className:"add-deck",disabled:!a,onClick:this.handleAddDeckClick},r.a.createElement(I.a,{icon:G.faPlusCircle}))))}}class ee extends r.a.PureComponent{constructor(){super(...arguments),this.scrollArea=r.a.createRef(),this.handleOnAddDeck=e=>{this.props.addDeckGeneral(e)},this.handleOnPagePrev=e=>{e.stopPropagation(),this.props.onPagePrev()},this.handleOnPageNext=e=>{e.stopPropagation(),this.props.onPageNext()},this.handleOnScroll=()=>{Object(h.forceCheck)()}}componentDidUpdate(e){const t=this.props.searchedGeneralIds,a=e.searchedGeneralIds,n=t.length===a.length&&t.every(e=>a.includes(e)),s=this.scrollArea.current;!n&&s&&(s.scrollTop=0),Object(h.forceCheck)()}render(){const{generals:e,searchedGeneralIds:t,searchedAll:a,searchedOffset:n,searchedLimit:s,hasPrev:c,hasNext:l,showStrategyExplanation:i,enabledAddDeckGeneral:o}=this.props,d=[],m=t.length;e.forEach(e=>{const a=t.includes(e.id),n=o(e);d.push(r.a.createElement(Z,{key:e.id,general:e,onAddDeck:this.handleOnAddDeck,show:a,enabledAddDeck:n,showStrategyExplanation:i}))}),0===m&&d.push(r.a.createElement("div",{key:-1,className:"no-generals"},"該当なし"));const u=a>0?n+1:0;let h=n+s;return h>a&&(h=a),r.a.createElement("div",{className:"cardlist-container",onScroll:this.handleOnScroll},r.a.createElement("div",{className:"cardlist-paging"},r.a.createElement("button",{className:A()("paging-button","prev",{active:c}),onClick:this.handleOnPagePrev},"< 前"),r.a.createElement("div",{className:"pageing-label"},"全",a,"件 ",u," - ",h,"件"),r.a.createElement("button",{className:A()("paging-button","next",{active:l}),onClick:this.handleOnPageNext},"次 >")),r.a.createElement("div",{className:"cardlist-main",ref:this.scrollArea},d))}}a(66);var te=a(50),ae=a(52);function ne(e,t){if(null==e)return!1;return t.split(/\s+/g).filter(e=>e.length>0).every(t=>e.includes(t))}var se=(e,t)=>{const{moraleMin:a,moraleMax:n,strategyCategories:s,strategyRanges:c,strategyTimes:r,strategySearchName:l,strategySearchExplanation:i}=t;return!(a>e.morale)&&(!(n<e.morale)&&(!(s.length>0&&!s.includes(e.stratCategory))&&(!(c.length>0&&!c.includes(e.stratRange))&&(!(r.length>0&&!r.includes(e.stratTime))&&(!(l.length>0&&!ne(e.name,l)&&(o=e.nameRuby,d=l,null==o||!d.split(/\s+/g).filter(e=>e.length>0).map(e=>Object(te.a)(Object(ae.a)(e),!0).replace(/[ﾞﾟ]/g,"")).every(e=>o.includes(e))))&&!(i.length>0&&!ne(e.explanation,i)))))));var o,d};var ce=(e,t)=>{const{belongStates:a,costs:n,unitTypes:s,forceMin:c,forceMax:r,useCostRatioForce:l,costRatioForceMin:i,costRatioForceMax:o,costRatioBaseForces:d,intelligenceMin:m,intelligenceMax:u,conquestMin:h,conquestMax:p,skills:g,skillsAnd:E,searchText:C}=t.basic,{raw:f}=e;if(a.length>0&&!a.includes(f.state))return!1;if(n.length>0&&!n.includes(f.cost))return!1;if(s.length>0&&!s.includes(f.unit_type))return!1;if(l){const t=d[e.raw.cost];if(null==t)return!1;const a=e.force-t;if(i>a)return!1;if(o<a)return!1}else{if(c>e.force)return!1;if(r<e.force)return!1}if(m>e.intelligence)return!1;if(u<e.intelligence)return!1;if(h>e.conquest)return!1;if(p<e.conquest)return!1;if(g.length>0){const t=t=>"0"===t?0===e.skills.length:e.skills.map(e=>e.id).includes(t);if(E){if(!g.every(t))return!1}else if(!g.some(t))return!1}const{genMains:N,genMainsAnd:b,rarities:v,generalTypes:k,varTypes:y,versions:S,majorVersions:O,enableDetailVersion:A,pockets:I}=t.detail;if(v.length>0&&!v.includes(f.rarity))return!1;if(A){if(S.length>0&&!S.includes(e.versionValue))return!1}else if(O.length>0&&!O.includes(f.major_version))return!1;if(N.length>0){const t=t=>e.genMains.map(e=>e.id).includes(t);if(b){if(!N.every(t))return!1}else if(!N.some(t))return!1}if(k.length>0&&!k.includes(f.general_type))return!1;if(y.length>0&&!y.includes(f.ver_type))return!1;if(1===I.length&&"1"===I[0]!=(""!==f.pocket_code))return!1;if(C.length>0){if(null==e.personal)return!1;if(!function(e,t){return null!=e&&t.split(/\s+/g).filter(e=>e.length>0).some(t=>e.includes(t))}(e.personal.name,C)&&!function(e,t){return null!=e&&t.split(/\s+/g).filter(e=>e.length>0).map(e=>Object(te.a)(Object(ae.a)(e),!0).replace(/[ﾞﾟ]/g,"")).some(t=>e.includes(t))}(e.personal.name_ruby,C))return!1}return!0};const re={areOwnPropsEqual:(e,t)=>{const a=new URLSearchParams(e.location.search),n=new URLSearchParams(t.location.search);return a.get("deck")===n.get("deck")},areMergedPropsEqual:(e,t)=>{return e.activeIndex===t.activeIndex&&(e.sameCard===t.sameCard&&(e.enabledAddDeck===t.enabledAddDeck&&(e.showStrategyExplanation===t.showStrategyExplanation&&(e.searchedAll===t.searchedAll&&(e.searchedOffset===t.searchedOffset&&(a=e.searchedGeneralIds,n=t.searchedGeneralIds,!(a.length!==n.length||!a.every(e=>n.includes(e)))&&!!((e,t,a)=>e.length===t.length&&e.every(e=>t.some(t=>a(e,t))))(e.deckPersonals,t.deckPersonals,(e,t)=>e.personal===t.personal&&e.strat===t.strat)))))));var a,n}},le=Object(o.b)(e=>({generals:e.datalistReducer.generals,strategies:e.datalistReducer.strategies,currentPage:e.datalistReducer.currentPage,pageLimit:e.datalistReducer.pageLimit,filterCondition:e.datalistReducer.effectiveFilterCondition,activeIndex:e.deckReducer.activeIndex,deckSearchCondition:e.deckReducer.searchCondition,sameCard:e.deckReducer.deckConstraints.sameCard}),e=>Object(u.a)({clearActiveCard:S.clearActiveCard,decrementPage:k.decrementPage,incrementPage:k.incrementPage},e),(e,t,a)=>{const{generals:n,strategies:s,currentPage:c,pageLimit:r,filterCondition:l,activeIndex:i,deckSearchCondition:o,sameCard:d}=e,m=new L(a,n),u=[],h=m.deckCards;h.forEach((e,t)=>{i!==t&&"general"in e&&u.push(e.general)});const p=n.filter(e=>u.includes(e.id)).map(e=>{const{personal:t,strat:a}=e.raw;return{personal:t,strat:a}});let g=l;o&&(g={...g,basic:{...g.basic}},null!=o.belongState&&(g.basic.belongStates=[o.belongState]),g.basic.costs=[o.cost],null!=o.unitType&&(g.basic.unitTypes=[o.unitType]));const E=s.filter(e=>se(e,g.strategies));let C=[];if(E.length>0){const e=E.length!==s.length?E.map(e=>e.id):void 0;C=n.filter(t=>!(e&&!e.includes(t.strategy.id))&&ce(t,g)).map(e=>e.id)}const f=C.length,N=(c-1)*r,b=N>0,v=N+r<f;C=C.slice(N,N+r);const k=X(h,i);let y;return y=k?"personal-strategy"===d?e=>k&&!p.some(t=>t.personal===e.raw.personal&&t.strat===e.raw.strat):e=>k&&!p.some(t=>t.personal===e.raw.personal):()=>!1,{...{generals:n,searchedGeneralIds:C,searchedAll:f,searchedOffset:N,searchedLimit:r,hasPrev:b,hasNext:v,showStrategyExplanation:g.strategies.showStrategyExplanation},...{addDeckGeneral:e=>{k&&(t.clearActiveCard(),null!=i?m.changeDeckGeneral(i,e):m.addDeckGeneral(e))},onPagePrev:t.decrementPage,onPageNext:t.incrementPage,enabledAddDeckGeneral:y},...{activeIndex:i,sameCard:d,deckPersonals:p,enabledAddDeck:k}}},re)(ee);var ie=Object(m.e)(le);let oe;function de(e){return t=>{e(k.setBasicCondition(t)),clearTimeout(oe),oe=setTimeout(()=>{e(k.applyCondition())},500)}}function me(e){return t=>{e(k.setDetailCondition(t)),clearTimeout(oe),oe=setTimeout(()=>{e(k.applyCondition())},500)}}function ue(e){return t=>{e(k.setStrategiesCondition(t)),clearTimeout(oe),oe=setTimeout(()=>{e(k.applyCondition())},500)}}const he=({filterContents:e,filterCondition:t,value:a,checked:n})=>{let s=t.filter(e=>!e.startsWith("".concat(a,"-")));if(!n){const t=[].concat(...e).filter(e=>e.id.startsWith("".concat(a,"-")));s=s.concat(t.map(e=>e.id))}return s},pe=(e,t,a,n,s)=>{let c=[...t];const r=n.split("-")[0];if(s)a.some(e=>e.startsWith("".concat(r,"-")))||(c=c.filter(e=>e!==r));else if(!c.includes(r)){[].concat(...e).filter(e=>e.id.startsWith("".concat(r,"-"))).every(e=>a.includes(e.id))&&c.push(r)}return c};function ge(e,t){const a=t.includes(e);let n;return n=a?t.filter(t=>t!==e):[...t,e],{checked:a,targetValue:n}}function Ee(e,t,a){const n=e[t];if(!(n instanceof Array))return console.warn("".concat(t," is not array.")),{};const{targetValue:s}=ge(a,n);return{[t]:s}}a(171),a(172);const Ce=["button","filter-item"];class fe extends r.a.PureComponent{constructor(e){super(e),this.handleClickItem=e=>{const t=e.currentTarget.value,{itemName:a,onClickItem:n}=this.props;n(a,t)},this.buttonClasses=e.addtionalClasses?[...Ce,...e.addtionalClasses]:Ce,this.square=this.props.square||!1}createLabel(e){return e.nameShort||e.name}createButton(e,t,a,n,s){return r.a.createElement("button",{key:e,value:e,style:a,className:s,disabled:n,onClick:this.handleClickItem},t)}render(){const{checkedItems:e,items:t,show:a,disabled:n}=this.props,s=this.square,c=[],l=null!=n&&n;t.forEach(t=>{const a=t.id,n=this.createLabel(t),r={};t.color&&(r.backgroundColor=t.color);const i=e.includes(a);c.push(this.createButton(a,n,r,l,A()(this.buttonClasses,{checked:i,square:s})))});const i={};return null==a||a||(i.display="none"),r.a.createElement("div",{className:"button-list",style:i},c)}}class Ne extends r.a.Component{render(){const{filterContents:e,filterCondition:t,searchByDeck:a,toggleCheckList:n}=this.props;return r.a.createElement("section",{className:"simple-filter-section"},r.a.createElement("div",{className:"simple-filter-state"},r.a.createElement("h2",{className:"title-inline"},"勢力"),r.a.createElement(fe,{itemName:"belongStates",items:e,checkedItems:t,onClickItem:n,square:!0,disabled:a})))}}var be=Object(o.b)(e=>{const{searchCondition:t}=e.deckReducer,a=t?t.belongState:void 0;return{belongStates:e.datalistReducer.filterContents.belongStates,basicFilterCondition:e.datalistReducer.filterCondition.basic,deckCardBelongState:a}},e=>({setCondition:de(e)}),(e,t)=>{const{deckCardBelongState:a,belongStates:n,basicFilterCondition:s}=e;let c=!1,r=s.belongStates;return null!=a&&(c=!0,r=[a]),{...{filterContents:n,filterCondition:r,searchByDeck:c},...{toggleCheckList:(e,a)=>{t.setCondition(Ee(s,e,a))}}}},{areMergedPropsEqual:()=>!1})(Ne);a(173),a(174);class ve extends fe{createButton(e,t,a,n,s){return"0"!==e?super.createButton(e,t,a,n,s):super.createButton(e,"無",a,n,A()(s,"no-skill"))}}a(175);class ke extends r.a.PureComponent{constructor(){super(...arguments),this.handleOnChange=()=>{const{isOn:e,itemName:t,onChangeValue:a}=this.props;a(t,!e)}}render(){const{isOn:e,labelOff:t,labelOn:a,width:n}=this.props,s={};return null!=n&&(s.width=n),A()("switch-button",{active:e}),r.a.createElement("div",{style:s,className:"switch-item",onClick:this.handleOnChange},r.a.createElement("div",{className:A()("switch-button",{active:!e})},r.a.createElement("button",{className:"switch-button-child"},t)),r.a.createElement("div",{className:A()("switch-button",{active:e})},r.a.createElement("button",{className:"switch-button-child"},a)))}}a(176);class ye extends r.a.PureComponent{constructor(){super(...arguments),this.handleOnChange=e=>{const t=parseFloat(e.currentTarget.value),{itemName:a,onChangeValue:n}=this.props;n(a,t)}}render(){const{min:e,max:t,value:a,className:n,displayText:s,step:c=1}=this.props,l=e<0,i=[];for(let a=e;a<=t;a+=c){const e=s?s(a):"".concat(a),t=l&&a>0?"+":"";i.push(r.a.createElement("option",{key:a,value:a},t,e))}return r.a.createElement("select",{value:a,className:A()("number-select",n),onChange:this.handleOnChange},i)}}a(177);class Se extends r.a.PureComponent{constructor(){super(...arguments),this.handleOnChangeValue=(e,t)=>{const{setCondition:a,costRatioBaseForces:n}=this.props;a({costRatioBaseForces:{...n,[e]:t}})}}render(){const{costRatioBaseForces:e}=this.props;return r.a.createElement("div",{className:"cost-ratio-base-force"},r.a.createElement("span",{className:"title-inline"},"基準武力"),r.a.createElement("label",null,"1.0",r.a.createElement(ye,{itemName:"10",onChangeValue:this.handleOnChangeValue,value:e[10],max:5,min:1})),r.a.createElement("label",null,"1.5",r.a.createElement(ye,{itemName:"15",onChangeValue:this.handleOnChangeValue,value:e[15],max:7,min:2})),r.a.createElement("label",null,"2.0",r.a.createElement(ye,{itemName:"20",onChangeValue:this.handleOnChangeValue,value:e[20],max:9,min:5})),r.a.createElement("label",null,"2.5",r.a.createElement(ye,{itemName:"25",onChangeValue:this.handleOnChangeValue,value:e[25],max:10,min:7})),r.a.createElement("label",null,"3.0",r.a.createElement(ye,{itemName:"30",onChangeValue:this.handleOnChangeValue,value:e[30],max:10,min:8})))}}a(178);class Oe extends r.a.PureComponent{constructor(){super(...arguments),this.handleOnChange=e=>{const t=e.currentTarget.value,{itemName:a,onChangeValue:n}=this.props;n(a,t)}}render(){const{value:e,className:t}=this.props;return r.a.createElement("input",{type:"text",value:e,className:A()("search-textbox",t),onChange:this.handleOnChange})}}class Ae extends r.a.PureComponent{constructor(){super(...arguments),this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{filterContents:e,filterCondition:t,searchByDeckBelongState:a,searchByDeckCost:n,searchByDeckUnitType:s,setCondition:c,toggleCheckList:l}=this.props;return r.a.createElement("div",null,r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"勢力"),r.a.createElement(fe,{itemName:"belongStates",items:e.belongStates,checkedItems:t.belongStates,onClickItem:l,square:!0,disabled:a})),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"コスト"),r.a.createElement(fe,{itemName:"costs",items:e.costs,checkedItems:t.costs,onClickItem:l,square:!0,disabled:n})),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"兵種"),r.a.createElement(fe,{itemName:"unitTypes",items:e.unitTypes,checkedItems:t.unitTypes,onClickItem:l,square:!0,disabled:s})),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"武力"),r.a.createElement("div",{className:"title-button"},r.a.createElement(ke,{itemName:"useCostRatioForce",onChangeValue:this.handleOnChangeValue,isOn:t.useCostRatioForce,labelOff:"通常",labelOn:"コスト比",width:180})),r.a.createElement("div",{className:A()("normal-force",{active:!t.useCostRatioForce})},r.a.createElement("div",{className:"range"},r.a.createElement(ye,{itemName:"forceMin",onChangeValue:this.handleOnChangeValue,value:t.forceMin,max:10,min:1}),"-",r.a.createElement(ye,{itemName:"forceMax",onChangeValue:this.handleOnChangeValue,value:t.forceMax,max:10,min:1}))),r.a.createElement("div",{className:A()("cost-ratio-force",{active:t.useCostRatioForce})},r.a.createElement("div",{className:"range"},r.a.createElement(ye,{itemName:"costRatioForceMin",onChangeValue:this.handleOnChangeValue,value:t.costRatioForceMin,max:5,min:-5}),"以上"),r.a.createElement(Se,{costRatioBaseForces:t.costRatioBaseForces,setCondition:c}))),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"知力"),r.a.createElement("div",{className:"range"},r.a.createElement(ye,{itemName:"intelligenceMin",onChangeValue:this.handleOnChangeValue,value:t.intelligenceMin,max:10,min:1}),"-",r.a.createElement(ye,{itemName:"intelligenceMax",onChangeValue:this.handleOnChangeValue,value:t.intelligenceMax,max:10,min:1}))),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"征圧力"),r.a.createElement("div",{className:"range"},r.a.createElement(ye,{itemName:"conquestMin",onChangeValue:this.handleOnChangeValue,value:t.conquestMin,max:4,min:0}),"-",r.a.createElement(ye,{itemName:"conquestMax",onChangeValue:this.handleOnChangeValue,value:t.conquestMax,max:4,min:0}))),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"特技"),r.a.createElement("div",{className:"title-button"},r.a.createElement(ke,{itemName:"skillsAnd",onChangeValue:this.handleOnChangeValue,isOn:t.skillsAnd,labelOff:"OR",labelOn:"AND"})),r.a.createElement(ve,{itemName:"skills",items:e.skills,checkedItems:t.skills,onClickItem:l,square:!0})),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"武将名検索"),r.a.createElement(Oe,{itemName:"searchText",value:t.searchText,onChangeValue:this.handleOnChangeValue}),r.a.createElement("div",null,"スペース区切りでOR検索 読み仮名(ひらがな、カタカナ)対応")))}}var Ie=Object(o.b)(e=>{const{searchCondition:t}=e.deckReducer;return{filterCondition:e.datalistReducer.filterCondition.basic,filterContents:e.datalistReducer.filterContents,deckSearchCondition:t}},e=>({setCondition:de(e)}),(e,t)=>{const{deckSearchCondition:a,filterCondition:n,filterContents:s}=e;let c;if(a){let e,t=!1;null!=a.belongState?(e=[a.belongState],t=!0):e=n.belongStates;const r=[a.cost];let l,i=!1;null!=a.unitType?(l=[a.unitType],i=!0):l=n.unitTypes,c={filterContents:s,searchByDeckBelongState:t,searchByDeckCost:!0,searchByDeckUnitType:i,filterCondition:{...n,belongStates:e,costs:r,unitTypes:l}}}else c={filterContents:s,filterCondition:n,searchByDeckBelongState:!1,searchByDeckCost:!1,searchByDeckUnitType:!1};const r={...t,toggleCheckList:(e,a)=>{t.setCondition(Ee(n,e,a))}};return{...c,...r}},{areMergedPropsEqual:()=>!1})(Ae);a(179);const Te=[{id:"1",name:"あり"},{id:"0",name:"なし"}];class De extends r.a.PureComponent{constructor(){super(...arguments),this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{filterContents:e,filterCondition:t,toggleCheckList:a}=this.props,n=[];return e.versions.forEach((e,s)=>{n.push(r.a.createElement(fe,{key:s+1,itemName:"versions",items:e,checkedItems:t.versions,onClickItem:a}))}),r.a.createElement("div",null,r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"登場弾"),r.a.createElement("div",{className:"title-button"},r.a.createElement(ke,{itemName:"enableDetailVersion",onChangeValue:this.handleOnChangeValue,isOn:t.enableDetailVersion,labelOff:"メジャーVer",labelOn:"詳細Ver",width:220})),r.a.createElement("div",{className:A()("major-version",{active:!t.enableDetailVersion})},r.a.createElement(fe,{itemName:"majorVersions",items:e.majorVersions,checkedItems:t.majorVersions,onClickItem:a})),r.a.createElement("div",{className:A()("detail-version",{active:t.enableDetailVersion})},n)),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"将器主効果候補"),r.a.createElement("div",{className:"title-button"},r.a.createElement(ke,{itemName:"genMainsAnd",onChangeValue:this.handleOnChangeValue,isOn:t.genMainsAnd,labelOff:"OR",labelOn:"AND"})),r.a.createElement(fe,{itemName:"genMains",items:e.genMains,checkedItems:t.genMains,onClickItem:a})),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"レアリティ"),r.a.createElement(fe,{itemName:"rarities",items:e.rarities,checkedItems:t.rarities,onClickItem:a,square:!0})),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"官職"),r.a.createElement(fe,{itemName:"generalTypes",items:e.generalTypes,checkedItems:t.generalTypes,onClickItem:a})),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"カード種別"),r.a.createElement(fe,{itemName:"varTypes",items:e.varTypes,checkedItems:t.varTypes,onClickItem:a})),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"ぽけっと武将"),r.a.createElement(fe,{itemName:"pockets",items:Te,checkedItems:t.pockets,onClickItem:a})))}}var xe=Object(o.b)(e=>({filterCondition:e.datalistReducer.filterCondition.detail,filterContents:e.datalistReducer.filterContents}),e=>({setCondition:me(e)}),(e,t)=>({...e,...t,toggleCheckList:(a,n)=>{t.setCondition(function(e,t,a){const n=e.filterCondition[t];if(!(n instanceof Array))return console.warn("".concat(t," is not array.")),{};const{checked:s,targetValue:c}=ge(a,n),r={[t]:c};switch(t){case"majorVersions":return{...r,versions:he({filterContents:e.filterContents.versions,filterCondition:e.filterCondition.versions,value:a,checked:s})};case"versions":return{...r,majorVersions:pe(e.filterContents.majorVersions,e.filterCondition.majorVersions,c,a,s)};default:return r}}(e,a,n))}}),{areMergedPropsEqual:()=>!1})(De);a(180),a(181);class we extends fe{createButton(e,t,a,n,s){if("string"!=typeof t||!t.includes("】"))return super.createButton(e,t,a,n,A()(s,"strategy-category-button"));const c=[],l=t.split("】");return l.forEach((e,t)=>{t===l.length-1?c.push(r.a.createElement("span",{className:"main-name",key:t},e)):c.push(r.a.createElement("span",{className:"sub-name",key:t},e+"】"))}),super.createButton(e,c,a,n,A()(s,"multiline-label","strategy-category-button"))}}a(182);class Re extends fe{createLabel(e){if(null==e.code)return"";const t="https://3594t.net/img/strat_range/".concat(e.code,".png");return r.a.createElement("img",{className:"range-image",src:t})}createButton(e,t,a,n,s){return super.createButton(e,t,a,n,A()(s,"strategy-range-button"))}}class _e extends r.a.PureComponent{constructor(){super(...arguments),this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{filterContents:e,filterCondition:t,toggleCheckList:a}=this.props;return r.a.createElement("div",null,r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"計略表示切り替え"),r.a.createElement(ke,{itemName:"showStrategyExplanation",onChangeValue:this.handleOnChangeValue,isOn:t.showStrategyExplanation,labelOff:"計略名",labelOn:"計略説明",width:200})),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"計略名検索"),r.a.createElement(Oe,{itemName:"strategySearchName",value:t.strategySearchName,onChangeValue:this.handleOnChangeValue}),r.a.createElement("div",null,"スペース区切りでAND検索 読み仮名(ひらがな、カタカナ)対応")),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"計略説明検索"),r.a.createElement(Oe,{itemName:"strategySearchExplanation",value:t.strategySearchExplanation,onChangeValue:this.handleOnChangeValue}),r.a.createElement("div",null,"スペース区切りでAND検索")),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"計略必要士気"),r.a.createElement("div",{className:"range"},r.a.createElement(ye,{itemName:"moraleMin",onChangeValue:this.handleOnChangeValue,value:t.moraleMin,max:12,min:1}),"-",r.a.createElement(ye,{itemName:"moraleMax",onChangeValue:this.handleOnChangeValue,value:t.moraleMax,max:12,min:1}))),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"計略カテゴリー"),r.a.createElement(we,{itemName:"strategyCategories",items:e.strategyCategories,checkedItems:t.strategyCategories,onClickItem:a})),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"計略効果時間"),r.a.createElement(fe,{itemName:"strategyTimes",items:e.strategyTimes,checkedItems:t.strategyTimes,onClickItem:a})),r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"計略範囲"),r.a.createElement(Re,{itemName:"strategyRanges",items:e.strategyRanges,checkedItems:t.strategyRanges,onClickItem:a})))}}var Me=Object(o.b)(e=>({filterCondition:e.datalistReducer.filterCondition.strategies,filterContents:e.datalistReducer.filterContents}),e=>({setCondition:ue(e),...Object(u.a)({setShowStrategyExplanation:k.setShowStrategyExplanation},e)}),(e,t)=>({...e,...t,toggleCheckList:(a,n)=>{t.setCondition(function(e,t,a){const n=e[t];if(!(n instanceof Array))return console.warn("".concat(t," is not array.")),{};const{targetValue:s}=ge(a,n);return{[t]:s}}(e.filterCondition,a,n))}}),{areMergedPropsEqual:()=>!1})(_e),Pe=(a(183),a(184),a(106));class Ve extends r.a.PureComponent{constructor(){super(...arguments),this.handleOnClick=()=>{const{itemName:e,value:t,onClick:a}=this.props;a&&a(e,t)}}render(){const{checked:e,children:t}=this.props;return r.a.createElement("div",{className:"radio-button",onClick:this.handleOnClick},r.a.createElement("span",{className:"radio-check"},r.a.createElement(I.a,{className:A()({checked:e}),icon:Pe.faCircle})),t)}}class je extends r.a.PureComponent{constructor(){super(...arguments),this.handleOnChangeDeckConstraints=(e,t)=>{this.props.setDeckConstraints({[e]:t})}}costDisplayText(e){return"".concat(e/10)}render(){const{show:e,limitCost:t,sameCard:a,closeDeckConfig:n}=this.props,s={};return e||(s.display="none"),r.a.createElement("div",{className:"deck-config",style:s},r.a.createElement("div",{className:"deck-config-inner"},r.a.createElement("div",{className:"deck-config-title"},"デッキ設定"),r.a.createElement("div",{className:"deck-config-buttons"},r.a.createElement("button",{className:"action-buton-ok",onClick:n},"OK")),r.a.createElement("div",{className:"deck-config-body"},r.a.createElement("section",{className:"filter-section"},r.a.createElement("h2",{className:"title"},"コスト 上限"),r.a.createElement(ye,{itemName:"limitCost",onChangeValue:this.handleOnChangeDeckConstraints,value:t,max:250,min:10,step:5,displayText:this.costDisplayText})),r.a.createElement("section",{className:"filter-section same-card-constraint"},r.a.createElement("h2",{className:"title"},"同名武将 制限"),r.a.createElement(Ve,{itemName:"sameCard",value:"personal",checked:"personal"===a,onClick:this.handleOnChangeDeckConstraints},"同名武将不可(通常ルール)"),r.a.createElement(Ve,{itemName:"sameCard",value:"personal-strategy",checked:"personal-strategy"===a,onClick:this.handleOnChangeDeckConstraints},"同名武将かつ同計略不可")))))}}var Be=Object(o.b)(e=>({show:e.windowReducer.openedDeckConfig,...e.deckReducer.deckConstraints}),e=>Object(u.a)({closeDeckConfig:C.closeDeckConfig,setDeckConstraints:S.setDeckConstraints},e))(je);a(185);let Le=void 0;class Ge extends r.a.PureComponent{render(){const{show:e,closeUpdateInfo:t}=this.props,a={};return e?Le="./updateinfo.html":a.display="none",r.a.createElement("div",{className:"update-info",style:a},r.a.createElement("div",{className:"update-info-inner"},r.a.createElement("div",{className:"update-info-title"},"更新情報")),r.a.createElement("div",{className:"update-info-buttons"},r.a.createElement("button",{className:"action-buton-ok",onClick:t},"OK")),r.a.createElement("div",{className:"update-info-body"},r.a.createElement("iframe",{className:"update-info-iframe",src:Le})))}}var Fe=Object(o.b)(e=>({show:e.windowReducer.openedUpdateInfo}),e=>Object(u.a)({closeUpdateInfo:C.closeUpdateInfo},e))(Ge);a(186);class Ue extends r.a.PureComponent{constructor(){super(...arguments),this.state={},this.actionWithAnimation=(e,t)=>{this.state.buttonAnimation||(this.props.animation?(this.setState({buttonAnimation:e}),setTimeout(()=>{this.setState({buttonAnimation:void 0}),t()},500)):t())},this.handleRedClick=e=>{e.stopPropagation(),this.actionWithAnimation("RED",this.props.actionRed)},this.handleBlueClick=e=>{e.stopPropagation(),this.actionWithAnimation("BLUE",this.props.actionBlue)},this.handleCancelClick=e=>{e.stopPropagation(),this.state.buttonAnimation||this.props.cancelable&&this.props.actionCancel()}}render(){const{show:e,title:t,message:a,logoUrl:n,redText:s,blueText:c,cancelable:l,animation:i}=this.props,{buttonAnimation:o}=this.state;let d="",m=!1,u=!1;"RED"===o?(d="緋略",m=!0):"BLUE"===o&&(d="蒼略",u=!0);const h={};return e||(h.display="none"),r.a.createElement("div",{className:"dialog-container",style:h},r.a.createElement("div",{className:"dialog-base"},r.a.createElement("div",{className:"dialog-background",onClick:this.handleCancelClick}),r.a.createElement("div",{className:"dialog"},r.a.createElement("div",{className:"dialog-inner"},r.a.createElement("div",{className:"dialog-title"},t),r.a.createElement("div",{className:"dialog-body"},r.a.createElement("div",{className:A()("dialog-logo",{show:null!=n})},r.a.createElement("img",{src:n})),r.a.createElement("div",{className:"dialog-message"},a)),r.a.createElement("div",{className:"dialog-actions"},r.a.createElement("div",{className:A()("dialog-action-button","dialog-action-red",{text:i}),onClick:this.handleRedClick},s),r.a.createElement("div",{className:A()("dialog-action-button","dialog-action-blue",{text:i}),onClick:this.handleBlueClick},c)),r.a.createElement("div",{className:A()("dialog-close",{cancelable:l}),onClick:this.handleCancelClick},"x"))),r.a.createElement("div",{className:A()("action-animation",{red:m,blue:u,show:m||u})},d)))}}var qe=Object(o.b)(e=>e.dialogReducer,e=>Object(u.a)({closeDialog:P.closeDialog},e),(e,t)=>{const{actionRed:a,actionBlue:n,actionCancel:s,...c}=e;return{...c,...{actionRed:()=>{a(),t.closeDialog()},actionBlue:()=>{n(),t.closeDialog()},actionCancel:()=>{s&&s(),t.closeDialog()}}}},{areMergedPropsEqual:()=>!1})(Ue);class He extends r.a.PureComponent{constructor(){super(...arguments),this.handleAppClick=()=>{this.props.clearActiveCard(),this.props.closeSideMenu()},this.handleSideMenuButtonClick=()=>{this.props.openSideMenu()}}componentDidMount(){this.props.appDidLoaded(),this.unregisterHistoryListen=this.props.history.listen(()=>{this.props.clearActiveCard()})}componentWillUnmount(){this.unregisterHistoryListen&&this.unregisterHistoryListen()}render(){const{ready:e,loading:t,resetConditions:a,openedSideMenu:n,openFilter:s,showNotice:c,closeFilter:l,closeAllModal:i,changeActiveFilterTab:o,openedFilter:d,openedAnyModal:m,openedAnyModalSmall:u,activeFilter:h}=this.props;return r.a.createElement("div",{className:A()(["app-container",{modal:m,"modal-small":u,ready:e}]),onClick:this.handleAppClick},r.a.createElement("div",{className:A()("side-menu",{open:n})},r.a.createElement("div",{className:"side-menu-header"}),r.a.createElement(M,null),"©SEGA"),r.a.createElement("div",{className:"app-main"},r.a.createElement("div",{className:"app-deck-block"},r.a.createElement("div",{className:"app-header"},r.a.createElement("button",{className:A()("side-menu-button",{show:!n}),onClick:this.handleSideMenuButtonClick},r.a.createElement(I.a,{icon:T.faBars}),r.a.createElement(I.a,{icon:D.faExclamationCircle,className:A()("notice",{show:c})})),r.a.createElement("div",{className:"app-header-title"},"三国志大戦デッキシミュレーター")),r.a.createElement("div",{className:"deck-boad-container"},r.a.createElement($,null)),r.a.createElement("div",{className:"simple-filter-container"},r.a.createElement(be,null),r.a.createElement("button",{className:"open-filter",onClick:s},"絞込")),r.a.createElement(ie,null)),r.a.createElement("div",{className:A()(["card-filter-container",{open:d}])},r.a.createElement("h1",{className:"card-filter-title"},"絞り込みメニュー"),r.a.createElement("div",{className:"card-filter-buttons"},r.a.createElement(x,{tabs:E,activeTab:h,onTabChanged:o}),r.a.createElement(w,{resetConditions:a,closeFilter:l})),r.a.createElement("div",{className:A()(["card-filter-content",{active:"BASIC"===h}])},r.a.createElement(Ie,null)),r.a.createElement("div",{className:A()(["card-filter-content",{active:"DETAIL"===h}])},r.a.createElement(xe,null)),r.a.createElement("div",{className:A()(["card-filter-content",{active:"STRAT"===h}])},r.a.createElement(Me,null)))),r.a.createElement("div",{className:"modal-background",onClick:i}),r.a.createElement(Be,null),r.a.createElement(Fe,null),r.a.createElement("div",{className:A()("loading-item",{loading:t})}),r.a.createElement(qe,null))}}a(187);let We=null;function Ye(){return"localStorage"in window&&function(e){try{const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==e.length}}(window.localStorage)}async function Ke(e,t){const a=t+".md5",n=await async function(e){const t=await fetch(e+".md5");return t.ok?(await t.text()).trim():null}(e);if(!n)return localStorage.removeItem(a),localStorage.removeItem(t),null;const s=localStorage.getItem(a);let c=!1;if(s&&s===n){const e=localStorage.getItem(t);if(e)return JSON.parse(e);c=!0,localStorage.removeItem(a)}const r=await fetch(e),l=await r.json();return c||(localStorage.setItem(t,JSON.stringify(l)),localStorage.setItem(a,n)),l}var Qe=async function(e,t){if(null!=We?We:(We=Ye(),We)){const a=await Ke(e,t);if(a)return a}return(await fetch(e)).json()};const Xe=(e,t=0,a=!1)=>{let n;return n=a?"-EX":t>0?"-".concat(t):"","第".concat(e,"弾").concat(n)};class Je{constructor(e,t,a){this.id=e,this.raw=t,Object.assign(this,a)}get code(){return this.raw.code}get pocketCode(){return this.raw.pocket_code}get name(){return this.personal?this.personal.name:""}get version(){return Xe(this.majorVersion,this.addVersion,this.isEx)}get versionValue(){const e=this.isEx?"-EX":"-".concat(this.addVersion);return"".concat(this.majorVersion).concat(e)}get hasPocket(){return""!==this.raw.pocket_code}thumbUrl(e){const t=e?this.pocketCode:this.code;return"https://3594t.net/img/card_small/".concat(t,".jpg")}}const ze=(e,t)=>"".concat(t),$e=e=>e.key,Ze=(e,t,a)=>e.map((e,n)=>a(e,t(e,n))),et=(e,t)=>Object.entries(e).map(([e,a])=>t(a,"".concat(e))),tt=({code:e,name:t,name_short:a,short_name:n},s)=>({id:s,code:e,name:t,nameShort:a||n}),at={name:""},nt={id:"",code:"",explanation:"",rawExplanation:"",morale:1,name:"",nameRuby:"",stratCategory:"",stratRange:"",stratTime:""},st=(e,t)=>{const a=e.find(e=>e.id===t);return a||at},ct=e=>e.filter(e=>null!=e);var rt=e=>{const t=Ze(e.STATE,ze,(e,t)=>({...tt(e,t),color:"rgb(".concat(e.red,", ").concat(e.green,", ").concat(e.blue,")"),thinColor:"rgba(".concat(e.red,", ").concat(e.green,", ").concat(e.blue,", 0.2)")})),a=et(e.COST,tt),n=Ze(e.UNIT_TYPE,$e,(e,t)=>({...tt(e,t),nameShort:e.name[0]})),s=Ze(e.SKILL,$e,tt),c=Ze(e.GEN_MAIN,$e,tt),r=et(e.RARITY,tt),l=Ze(e.GENERAL_TYPE,$e,(e,t)=>{const a=tt(e,t);return""===e.name?{...a,name:"なし(女性)"}:a}),i=Ze(e.VER_TYPE,ze,tt).map(e=>"Ex"===e.name?{...e,name:"EX"}:e),o=Ze(e.STRAT,$e,(e,t)=>{const{morale:a,explanation:n,name_ruby:s,strat_category:c,strat_range:r,strat_time:l,...i}=e;return{id:t,...i,explanation:(o=n,o.replace(/\<br\s*\/?\>/gi,"\n").replace(/\<img.+?alt=\"(.*?)\".*?\/\>/gi," $1 ")),rawExplanation:n,morale:parseInt(a),nameRuby:s,stratCategory:c,stratRange:r,stratTime:l};var o}),d={},m=Ze(e.GENERAL,ze,(i,m)=>{const u=parseInt(i.major_version),h=parseInt(i.add_version),p="2"===i.ver_type;return d[u]||(d[u]=[]),p||d[u].includes(h)||d[u].push(h),new Je(m,i,{majorVersion:u,addVersion:h,isEx:p,force:parseInt(i.buryoku),intelligence:parseInt(i.chiryoku),conquest:parseInt(i.seiatsu),cost:st(a,i.cost),genMains:ct([i.gen_main0,i.gen_main1,i.gen_main2].filter(e=>""!==e).map(e=>c.find(t=>t.id===e))),generalType:st(l,i.general_type),personal:e.PERSONAL[parseInt(i.personal)],rarity:st(r,i.rarity),skills:ct([i.skill0,i.skill1,i.skill2].filter(e=>""!==e&&"0"!==e).map(e=>s.find(t=>t.id===e))),state:st(t,i.state),unitType:st(n,i.unit_type),strategy:o.find(e=>e.id===i.strat)||nt})}),u=Object.keys(d).map(e=>parseInt(e)),h=(e,t)=>e-t;u.sort(h),u.forEach(e=>{d[e].sort(h)});const p=Ze(e.STRAT_CATEGORY,$e,tt),g=Ze(e.STRAT_RANGE,ze,(e,t)=>({id:t,code:e.code,name:""})),E=Ze(e.STRAT_TIME,ze,tt);return{filterContents:{belongStates:t,costs:a,unitTypes:n,skills:s,genMains:c,rarities:r,generalTypes:l,varTypes:i,versions:Object.entries(d).map(([e,t])=>{const a=Ze(t,t=>"".concat(e,"-").concat(t),(t,a)=>({id:a,name:Xe(e,t)}));return a.push({id:"".concat(e,"-EX"),name:Xe(e,0,!0)}),a}),majorVersions:Ze(u,e=>"".concat(e),(e,t)=>({id:t,name:Xe(e)})),strategyCategories:p,strategyRanges:g,strategyTimes:E},generals:m,strategies:o}};const lt=(async()=>await(async()=>await Qe("/data/base.json","3594t-deck/data/base.json"))())();var it=Object(o.b)(e=>({...e.windowReducer,openedAnyModal:e.windowReducer.openedDeckConfig||e.windowReducer.openedUpdateInfo||!e.windowReducer.ready,openedAnyModalSmall:e.windowReducer.openedFilter||!e.windowReducer.ready,loading:!e.windowReducer.ready,activeIndex:e.deckReducer.activeIndex}),e=>{const t=Object(u.a)({setBaseData:k.setBaseData,beReady:C.beReady},e);return{appDidLoaded:async()=>{const e=await(async()=>{const e=await lt;return rt(e)})();t.setBaseData(e),t.beReady(),Object(h.forceCheck)()},...Object(u.a)({clearActiveCard:S.clearActiveCard,resetConditions:k.resetConditions,...C},e)}},(e,t,a)=>{const{activeIndex:n,...s}=e;return{...s,...t,...a,clearActiveCard:()=>{void 0!==n&&t.clearActiveCard()},closeSideMenu:()=>{s.openedSideMenu&&t.closeSideMenu()}}},{areMergedPropsEqual:()=>!1})(He);s.a.load({custom:{families:["Noto Sans Japanese:n4,n7"],urls:["https://fonts.googleapis.com/earlyaccess/notosansjapanese.css"]}}),"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").catch(e=>{console.error(e)}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),B.dispatch(C.storeInstallPromptEvent(e))});const ot=e=>{e?B.dispatch(C.enableNotice()):B.dispatch(C.disableNotice())};ot(window.__noticeEnabled),window.addEventListener("__receiveNoticeChanged",e=>{e.preventDefault(),ot(window.__noticeEnabled)}),i.a.render(r.a.createElement(o.a,{store:B},r.a.createElement(d.a,null,r.a.createElement(m.a,{component:it}))),document.getElementById("app"));const dt=document.getElementById("about");dt&&dt.parentNode&&dt.parentNode.removeChild(dt)}});