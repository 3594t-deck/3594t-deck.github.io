!function(e){function t(t){for(var n,s,i=t[0],o=t[1],l=t[2],m=0,u=[];m<i.length;m++)s=i[m],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&u.push(r[s][0]),r[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(d&&d(t);u.length;)u.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,i=1;i<a.length;i++){var o=a[i];0!==r[o]&&(n=!1)}n&&(c.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},r={0:0},c=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=o;c.push([187,1]),a()}({100:function(e,t,a){},148:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){},154:function(e,t,a){},159:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},166:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},180:function(e,t,a){},181:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){"use strict";a.r(t);a(100);var n=a(88),r=a.n(n),c=a(0),s=a.n(c),i=a(33),o=a.n(i),l=a(4),d=(a(36),a(5)),m=a(22),u=a.n(m),p=a(2);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach(function(t){b(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const f={BASIC:"基本",DETAIL:"詳細",STRAT:"計略"},E={beReady:Object(p.createAction)("BE_READY"),openSideMenu:Object(p.createAction)("CHANGE_SIDEMENU_VISIBLE",e=>()=>e({openedSideMenu:!0})),closeSideMenu:Object(p.createAction)("CHANGE_SIDEMENU_VISIBLE",e=>()=>e({openedSideMenu:!1})),openFilter:Object(p.createAction)("CHANGE_FILTER_VISIBLE",e=>()=>e({openedFilter:!0})),closeFilter:Object(p.createAction)("CHANGE_FILTER_VISIBLE",e=>()=>e({openedFilter:!1})),openDeckConfig:Object(p.createAction)("CHANGE_DECK_CONFIG_VISIBLE",e=>()=>e({openedDeckConfig:!0})),closeDeckConfig:Object(p.createAction)("CHANGE_DECK_CONFIG_VISIBLE",e=>()=>e({openedDeckConfig:!1})),closeAllModal:Object(p.createAction)("CLOSE_ALL_MODAL"),changeActiveFilterTab:Object(p.createAction)("CHANGE_ACTIVE_FILTER",e=>t=>e({activeFilter:t}))},y={ready:!1,openedSideMenu:!1,openedFilter:!1,openedDeckConfig:!1,activeFilter:"BASIC"};var C=a(99);function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(a,!0).forEach(function(t){k(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function k(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const N={basic:{belongStates:[],costs:[],unitTypes:[],forceMin:1,forceMax:10,useCostRatioForce:!1,costRatioForceMin:-4,costRatioForceMax:5,costRatioBaseForces:{10:3,15:6,20:8,25:9,30:10},intelligenceMin:1,intelligenceMax:10,conquestMin:0,conquestMax:4,skills:[],skillsAnd:!1,searchText:""},detail:{genMains:[],genMainsAnd:!1,rarities:[],generalTypes:[],varTypes:[],majorVersions:[],versions:[],enableDetailVersion:!1,pockets:[]},strategies:{showStrategyExplanation:!1,moraleMin:1,moraleMax:12,strategyCategories:[],strategyRanges:[],strategyTimes:[],strategySearchName:"",strategySearchExplanation:""}},D={filterCondition:N,effectiveFilterCondition:N,filterContents:{belongStates:[],costs:[],unitTypes:[],skills:[],genMains:[],rarities:[],generalTypes:[],varTypes:[],versions:[],majorVersions:[],strategyCategories:[],strategyRanges:[],strategyTimes:[]},deckConstraints:{limitCost:80,sameCard:"personal"},generals:[],strategies:[],currentPage:1,pageLimit:50},S={resetConditions:Object(p.createAction)("RESET_CONDITIONS"),applyCondition:Object(p.createAction)("APPLY_CONDITION"),setBasicCondition:Object(p.createAction)("SET_BASIC_CONDITION",e=>t=>e({condition:t})),setDetailCondition:Object(p.createAction)("SET_DETAIL_CONDITION",e=>t=>e({condition:t})),setStrategiesCondition:Object(p.createAction)("SET_STRATEGIES_CONDITION",e=>t=>e({condition:t})),setDeckConstraints:Object(p.createAction)("SET_DECK_CONSTRAINTS",e=>t=>e({condition:t})),setShowStrategyExplanation:Object(p.createAction)("SET_SHOW_STRATEGY_EXPLANATION",e=>t=>e(t)),setBaseData:Object(p.createAction)("SET_BASE_DATA",e=>t=>e({baseData:t})),incrementPage:Object(p.createAction)("INCREMENT_PAGE",e=>()=>e({page:1})),resetPage:Object(p.createAction)("RESET_PAGE"),decrementPage:Object(p.createAction)("DECREMENT_PAGE",e=>()=>e({page:-1}))};a(7);function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(a,!0).forEach(function(t){w(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const A={deckCards:[],enableSearch:!1},T={addDeckGeneral:Object(p.createAction)("ADD_DECK_GENERAL",e=>t=>e(t)),changeDeckGeneral:Object(p.createAction)("CHANGE_DECK_GENERAL",e=>(t,a)=>e({index:t,card:a})),addDeckDummy:Object(p.createAction)("ADD_DECK_DUMMY",e=>t=>e(t)),setDeckValue:Object(p.createAction)("SET_DECK_VALUE",e=>(t,a)=>e({index:t,deckCard:a})),setDecks:Object(p.createAction)("SET_DECK_LIST",e=>t=>e(t)),removeDeck:Object(p.createAction)("REMOVE_DECK",e=>t=>e(t)),clearDeck:Object(p.createAction)("CLEAR_DECK"),setActiveCard:Object(p.createAction)("SET_ACTIVE_CARD",e=>t=>e(t)),searchByDeck:Object(p.createAction)("SEARCH_BY_DECK",e=>t=>e(t)),clearActiveCard:Object(p.createAction)("CLEAR_ACTIVE_CARD"),selectMainGen:Object(p.createAction)("SELECT_MAIN_GEN",e=>(t,a)=>e({index:t,genMain:a}))};a(148);var x=a(1),I=a.n(x),R=a(8),_=a(93);a(152);class M extends s.a.PureComponent{constructor(){super(...arguments),this.handleTabClick=e=>{const t=e.currentTarget.dataset.tab;t&&this.props.onTabChanged(t)}}render(){const{tabs:e,activeTab:t}=this.props,a=[];return Object.entries(e).forEach(e=>{let[n,r]=e;const c=t===n,i="tab-button-".concat(n.toLowerCase()),o=I()([i,{active:c}]);a.push(s.a.createElement("button",{key:n,"data-tab":n,className:o,onClick:this.handleTabClick},r))}),s.a.createElement("div",{className:"card-filter-tabs"},a)}}a(153);var B=s.a.memo(e=>{let{resetConditions:t,closeFilter:a}=e;return s.a.createElement("div",{className:"card-filter-actions"},s.a.createElement("button",{className:"action-buton-reset",onClick:t},"リセット"),s.a.createElement("button",{className:"action-buton-ok",onClick:a},"OK"))}),L=(a(154),a(94));var G=Object(l.b)(()=>({}),()=>({}))(class extends s.a.PureComponent{render(){return s.a.createElement("ul",{className:"side-menu-list"},s.a.createElement("li",{className:"side-menu-item"},s.a.createElement("a",{href:"./about.html",target:"_blank",rel:"noopener"},"このツールについて",s.a.createElement(R.a,{className:"external-link-icon",icon:L.faExternalLinkAlt}))))}});a(82);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function q(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const K={showDialog:Object(p.createAction)("SHOW_DIALOG",e=>t=>e(t)),closeDialog:Object(p.createAction)("CLOSE_DIALOG")},U={show:!1,title:"",message:"",logoUrl:void 0,redText:"",blueText:"",cancelable:!0,animation:!0,actionRed:()=>{},actionBlue:()=>{},actionCancel:void 0};a(156),a(159);var H=a(34),Y=a(95),W=(a(83),a(162),a(43)),X=a(44);class J extends s.a.PureComponent{constructor(){super(...arguments),this.handleSelectMainGen=e=>{const{index:t,onSelectMainGen:a}=this.props;let n=e.currentTarget.value;null!=n&&""!==n||(n=void 0),a(t,n)},this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:a}=this.props;a(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:a}=this.props;a(t)},this.handleSearch=e=>{e.stopPropagation();const{index:t,onToggleSearch:a}=this.props;a(t)}}render(){const{general:e,genMain:t,active:a,search:n,pocket:r}=this.props,c={backgroundColor:e.state.thinColor},i=e.state.color,o={backgroundColor:i},l=[i,"".concat(i," 30px"),"transparent 92px","transparent"],d={background:"linear-gradient(-30deg, ".concat(l.join(","),")")},m=[];e.skills.forEach(e=>{m.push(s.a.createElement("span",{className:"skill",key:e.id},e.nameShort))}),0===m.length&&m.push(s.a.createElement("span",{className:"no-skill",key:0},"特技なし"));const u=[];e.genMains.forEach((e,t)=>{u.push(s.a.createElement("option",{value:e.id,key:t},e.nameShort))});const p=null!=t?t:"";return s.a.createElement("div",{className:I()("deck-card",{active:a}),style:c,onClick:this.handleActive},s.a.createElement("div",{className:"deck-card-inner-top"},s.a.createElement("img",{className:"general-thumb",src:e.thumbUrl(r)}),s.a.createElement("div",{className:"shadow",style:d}),s.a.createElement("span",{className:"state",style:o},e.state.nameShort),s.a.createElement("span",{className:"version",style:o},e.version),s.a.createElement("span",{className:"cost","data-label":"コスト"},e.cost.name),s.a.createElement("span",{className:"unit","data-label":"兵種"},e.unitType.nameShort),s.a.createElement("span",{className:"name"},s.a.createElement("span",{className:"rarity"},e.rarity.name),e.name)),s.a.createElement("div",{className:"deck-card-inner-bottom"},s.a.createElement("span",{className:"force","data-label":"武"},e.force),s.a.createElement("span",{className:"intelligence","data-label":"知"},e.intelligence),s.a.createElement("span",{className:"conquest","data-label":"制圧"},e.conquest),s.a.createElement("span",{className:"skills"},m),s.a.createElement("span",{className:"gen-mains","data-label":"主将器"},s.a.createElement("select",{className:"gen-mains-select",value:p,onChange:this.handleSelectMainGen},s.a.createElement("option",{value:""}),u))),s.a.createElement("div",{className:"tool-box"},s.a.createElement("button",{className:"remove",onClick:this.handleRemove},s.a.createElement(R.a,{icon:W.faMinusCircle})),s.a.createElement("button",{className:I()("search",{enable:n}),onClick:this.handleSearch},s.a.createElement(R.a,{icon:X.faSearch}))))}}a(163);var z=Object(l.b)(e=>({belongStates:e.datalistReducer.filterContents.belongStates,costs:e.datalistReducer.filterContents.costs,unitTypes:e.datalistReducer.filterContents.unitTypes}),e=>Object(d.a)({setDeckValue:T.setDeckValue,removeDeck:T.removeDeck,searchByDeck:T.searchByDeck,resetPage:S.resetPage},e))(class extends s.a.PureComponent{constructor(){super(...arguments),this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:a}=this.props;a(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:a}=this.props;a(t)},this.handleSearch=e=>{e.stopPropagation();const{index:t,onToggleSearch:a}=this.props;a(t)},this.handleChangeDeckValue=e=>{const{index:t,setDeckValue:a}=this.props,n=e.currentTarget.name;let r=e.currentTarget.value;""===r&&(r=void 0),a(t,{[n]:r})}}render(){const{deckCard:e,active:t,search:a,belongStates:n,costs:r,unitTypes:c}=this.props,i={},o={},l=e.belongState?n.find(t=>t.id===e.belongState):void 0,d=e.cost?r.find(t=>t.id===e.cost):void 0,m=e.unitType?c.find(t=>t.id===e.unitType):void 0;let u="",p="",g=!1;l&&(i.backgroundColor=l.thinColor,o.backgroundColor=l.color,u=l.id,p=l.nameShort||"",g=!0);let h="";d&&(h=d.name);const b={};let f="",E="";m?(f=m.id,E=m.nameShort||""):b.display="none";const y=[];n.forEach((e,t)=>{y.push(s.a.createElement("option",{value:e.id,key:t},e.name))});const C=[];r.forEach((e,t)=>{C.push(s.a.createElement("option",{value:e.id,key:t},e.name))});const v=[];return c.forEach((e,t)=>{v.push(s.a.createElement("option",{value:e.id,key:t},e.nameShort||e.name))}),s.a.createElement("div",{className:I()("deck-dummy-card",{"has-state":g,active:t}),style:i,onClick:this.handleActive},s.a.createElement("div",{className:"deck-card-inner-top",style:o},s.a.createElement("span",{className:"state"},p),s.a.createElement("span",{className:"cost","data-label":"コスト"},h),s.a.createElement("span",{className:"unit",style:b,"data-label":"兵種"},E),s.a.createElement("div",{className:"edit"},s.a.createElement("span",{className:"select-item-container","data-label":"勢力"},s.a.createElement("select",{className:"select-item",name:"belongState",value:u,onChange:this.handleChangeDeckValue},s.a.createElement("option",{value:""}),y)),s.a.createElement("span",{className:"select-item-container","data-label":"コスト"},s.a.createElement("select",{className:"select-item",name:"cost",value:e.cost,onChange:this.handleChangeDeckValue},C)),s.a.createElement("span",{className:"select-item-container","data-label":"兵種"},s.a.createElement("select",{className:"select-item",name:"unitType",value:f,onChange:this.handleChangeDeckValue},s.a.createElement("option",{value:""}),v)))),s.a.createElement("div",{className:"deck-card-inner-bottom"},s.a.createElement("div",{className:"tool-box"},s.a.createElement("button",{className:"remove",onClick:this.handleRemove},s.a.createElement(R.a,{icon:W.faMinusCircle})),s.a.createElement("button",{className:I()("search",{enable:a}),onClick:this.handleSearch},s.a.createElement(R.a,{icon:X.faSearch})))))}});var $=function(e,t){return e.length-(null!=t?1:0)<8};function Q(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach(function(t){te(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function te(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ae=Object(l.b)(e=>({deckState:e.deckReducer,generals:e.datalistReducer.generals,belongStates:e.datalistReducer.filterCondition.basic.belongStates,costs:e.datalistReducer.filterCondition.basic.costs,unitTypes:e.datalistReducer.filterCondition.basic.unitTypes,limitCost:e.datalistReducer.deckConstraints.limitCost}),e=>{const t=Object(d.a)({clearDeck:T.clearDeck,showDialog:K.showDialog,openDeckConfig:E.openDeckConfig},e);return ee({clearDeck:()=>{t.showDialog({title:"デッキクリア",message:"デッキをクリアします。",redText:"クリア",actionRed:()=>{t.clearDeck()},blueText:"キャンセル",actionBlue:()=>{}})},openDeckConfig:t.openDeckConfig},Object(d.a)({selectMainGen:T.selectMainGen,setActiveCard:T.setActiveCard,removeDeck:T.removeDeck,rawAddDeckDummy:T.addDeckDummy,searchByDeck:T.searchByDeck,resetPage:S.resetPage},e))},(e,t)=>{const{deckState:a,generals:n,costs:r,belongStates:c,unitTypes:s,limitCost:i}=e,{activeIndex:o,enableSearch:l}=a,{rawAddDeckDummy:d,resetPage:m,searchByDeck:u,clearDeck:p}=t,g=Q(t,["rawAddDeckDummy","resetPage","searchByDeck","clearDeck"]),h=$(a.deckCards);let b=0,f=0,E=0,y=0,C=!1,v=!1;const O=[],k=new Set,N=new Map,D=new Map;a.deckCards.forEach(e=>{const t=null!=e.general?n.find(t=>t.id===e.general):void 0;let a;if(t){b+=t.force,f+=t.intelligence,E+=t.conquest,a=t.raw.cost,k.add(t.raw.state);const n=e.genMain;if(null!=n){const e=t.genMains.find(e=>e.id===n);if(e){const t=N.get(e.name)||0;N.set(e.name,t+1)}}t.skills.forEach(e=>{const t=D.get(e.name)||0;D.set(e.name,t+1)}),O.push({general:t,genMain:n,pocket:e.pocket})}else C=!0,a=e.cost,e.belongState?k.add(e.belongState):v=!0,O.push(e);y+=parseInt(a)});const S=k.size+(v?1:0);let j;1===S?j=12:2===S?j=9:(v=!1,j=6);const P=40*(D.get("魅力")||0);let w;w=E>=11?"S":E>=9?"A":E>=7?"B":"C";let A=2*(N.get("同盟者")||0);j+A>=12?(A=12-j,j=12):j+=A;const T=40*(N.get("士気上昇")||0),x=3*(N.get("知力上昇")||0);f+=x;const I=1*(N.get("征圧力上昇")||0);return ee({deckCards:O,activeIndex:o,enabledAddDeck:h,enableSearch:l,generals:n,totalForce:b,totalIntelligence:f,intelligenceByMainGen:x,totalConquest:E+=I,conquestByMainGen:I,conquestRank:w,totalCost:y,limitCost:i,maxMorale:j,maxMoraleByMainGen:A,tolalMoraleByCharm:P,tolalMoraleByMainGen:T,hasDummy:C,hasStateDummy:v},g,{addDeckDummy:()=>{if(!h)return;let e,t,a="10";r.length>=1&&(a=[...r].sort()[0]),1===c.length&&(e=c[0]),1===s.length&&(t=s[0]),d({cost:a,belongState:e,unitType:t})},clearDeck:()=>{O.length>0&&p()},toggleSearch:e=>{m(),o===e&&l?g.setActiveCard(e):u(e)}})},{areMergedPropsEqual:()=>!1})(class extends s.a.Component{constructor(){super(...arguments),this.onBeforeUnload=e=>{this.props.deckCards.length>0&&(e.preventDefault(),e.returnValue=!0)}}componentDidMount(){window.addEventListener("beforeunload",this.onBeforeUnload)}componentWillUnmount(){window.removeEventListener("beforeunload",this.onBeforeUnload)}render(){const{deckCards:e,activeIndex:t,enabledAddDeck:a,enableSearch:n,totalForce:r,totalIntelligence:c,intelligenceByMainGen:i,totalConquest:o,conquestByMainGen:l,conquestRank:d,totalCost:m,limitCost:u,maxMorale:p,maxMoraleByMainGen:g,tolalMoraleByCharm:h,tolalMoraleByMainGen:b,hasDummy:f,hasStateDummy:E,addDeckDummy:y,clearDeck:C,openDeckConfig:v,selectMainGen:O,setActiveCard:k,removeDeck:N,toggleSearch:D}=this.props,S=[];e.forEach((e,a)=>{const r=t===a;if("cost"in e)S.push(s.a.createElement(z,{key:a,index:a,active:r,search:r&&n,deckCard:e,onActive:k,onRemoveDeck:N,onToggleSearch:D}));else{const{general:t,genMain:c,pocket:i}=e;S.push(s.a.createElement(J,{key:a,index:a,active:r,search:r&&n,genMain:c,general:t,pocket:i,onSelectMainGen:O,onActive:k,onRemoveDeck:N,onToggleSearch:D}))}});let j=m-u,P="残り",w=!1,A=!1;j>0?(P="コストオーバー",w=!0):j<0&&(j*=-1,A=!0);const T=(h+b)/100,x=h/100,_=b/100;return s.a.createElement("div",{className:"deck-board"},s.a.createElement("div",{className:"deck-card-list"},S,s.a.createElement("div",{className:"deck-actions"},s.a.createElement("div",{className:I()("add-new-deck-card","button",{disabled:!a}),onClick:y},"追加",s.a.createElement(R.a,{icon:H.faPlusCircle})),s.a.createElement("div",{className:"deck-clear button",onClick:C},"クリア"),s.a.createElement("div",{className:"open-deck-config button",onClick:v},s.a.createElement(R.a,{icon:Y.faCog})))),s.a.createElement("div",{className:"deck-total"},s.a.createElement("div",{className:"total","data-label":"総武力"},s.a.createElement("span",{className:I()("force",{dummy:f})},r)),s.a.createElement("div",{className:"total","data-label":"総知力"},s.a.createElement("span",{className:I()("has-gen-main",{active:i>0})},"将器込み"),s.a.createElement("span",{className:I()("intelligence",{dummy:f})},c,s.a.createElement("span",{className:I()("breakdown",{active:i>0})},"(",c-i,s.a.createElement("span",{className:"addition-by-main-gen"},"+",i),")"))),s.a.createElement("div",{className:"total","data-label":"総征圧力"},s.a.createElement("span",{className:I()("has-gen-main",{active:l>0})},"将器込み"),s.a.createElement("span",{className:I()("conquest-rank",{dummy:f})},d),s.a.createElement("span",{className:I()("conquest",{dummy:f})},o,s.a.createElement("span",{className:I()("breakdown",{active:l>0})},"(",o-l,s.a.createElement("span",{className:"addition-by-main-gen"},"+",l),")"))),s.a.createElement("div",{className:"total total-cost","data-label":"総コスト"},s.a.createElement("span",{className:"cost"},(m/10).toFixed(1)),s.a.createElement("span",{className:I()("cost-remain",{over:w,under:A})},"(",P," ",(j/10).toFixed(1),")")),s.a.createElement("div",{className:"total","data-label":"最大士気"},s.a.createElement("span",{className:I()("has-gen-main",{active:g>0})},"将器込み"),s.a.createElement("span",{className:I()("max-morale",{dummy:E})},p,s.a.createElement("span",{className:I()("breakdown",{active:g>0})},"(",p-g,s.a.createElement("span",{className:"addition-by-main-gen"},"+",g),")"))),s.a.createElement("div",{className:"total","data-label":"開幕士気"},s.a.createElement("span",{className:I()("has-gen-main",{active:_>0})},"将器込み"),s.a.createElement("span",{className:"start-morale"},T,s.a.createElement("span",{className:I()("breakdown",{active:_>0})},"(",x,s.a.createElement("span",{className:"addition-by-main-gen"},"+",_),")")))))}});a(20),a(164),a(32),a(166);class ne extends s.a.PureComponent{constructor(){super(...arguments),this.handleAddDeckClick=e=>{const{general:t,onAddDeck:a}=this.props,n=e.currentTarget.dataset.genMain;a({general:t.id,belongState:t.raw.state,cost:t.raw.cost,unitType:t.raw.unit_type,genMain:n,pocket:!1})}}render(){const{general:e,show:t,enabledAddDeck:a,showStrategyExplanation:n}=this.props,r={backgroundColor:e.state.thinColor},c={backgroundColor:e.state.color};null==t||t||(r.display="none");const i=[];e.skills.forEach(e=>{i.push(s.a.createElement("span",{className:"skill",key:e.id},e.nameShort))}),0===i.length&&i.push(s.a.createElement("span",{className:"no-skill",key:0},"特技なし"));const o=e.strategy.name,l=e.strategy.morale,d=e.strategy.explanation,m=[];d.split("\n").forEach((e,t)=>{m.push(s.a.createElement("span",{key:t},e))});const p=[];return e.genMains.forEach((e,t)=>{p.push(s.a.createElement("button",{className:"gen-main",key:t,disabled:!a,"data-gen-main":e.id,onClick:this.handleAddDeckClick},e.nameShort,s.a.createElement(R.a,{icon:H.faPlusCircle})))}),s.a.createElement("div",{className:"general-card",style:r},s.a.createElement("span",{className:"state",style:c},e.state.nameShort),s.a.createElement("span",{className:"version"},e.version),s.a.createElement("span",{className:"rarity"},e.rarity.name),s.a.createElement("span",{className:"name"},e.name),s.a.createElement("span",{className:"image"},s.a.createElement(u.a,{height:64,once:!0,scroll:!1,resize:!1,placeholder:s.a.createElement("div",{className:"no-image general-thumb"})},s.a.createElement("img",{className:"general-thumb",src:e.thumbUrl(!1)}))),s.a.createElement("span",{className:"cost","data-label":"コスト"},e.cost.name),s.a.createElement("span",{className:"unit","data-label":"兵種"},e.unitType.nameShort),s.a.createElement("span",{className:"force","data-label":"武"},e.force),s.a.createElement("span",{className:"intelligence","data-label":"知"},e.intelligence),s.a.createElement("span",{className:"conquest","data-label":"制圧"},e.conquest),s.a.createElement("span",{className:"skills"},i),s.a.createElement("span",{className:I()("strategy",{show:!n}),"data-label":"計略名",title:d},o),s.a.createElement("span",{className:I()("strategy-explanation",{show:n})},m),s.a.createElement("span",{className:"strategy-morale","data-label1":"必要","data-label2":"士気"},l),s.a.createElement("span",{className:"gen-mains","data-label":"主将器"},p),s.a.createElement("span",{className:"buttons"},s.a.createElement("button",{className:"add-deck",disabled:!a,onClick:this.handleAddDeckClick},s.a.createElement(R.a,{icon:H.faPlusCircle}))))}}a(61);var re=a(45),ce=a(47);function se(e,t){if(null==e)return!1;return t.split(/\s+/g).filter(e=>e.length>0).every(t=>e.includes(t))}var ie=(e,t)=>{const{moraleMin:a,moraleMax:n,strategyCategories:r,strategyRanges:c,strategyTimes:s,strategySearchName:i,strategySearchExplanation:o}=t;return!(a>e.morale)&&(!(n<e.morale)&&(!(r.length>0&&!r.includes(e.stratCategory))&&(!(c.length>0&&!c.includes(e.stratRange))&&(!(s.length>0&&!s.includes(e.stratTime))&&(!(i.length>0&&!se(e.name,i)&&!function(e,t){return null!=e&&t.split(/\s+/g).filter(e=>e.length>0).map(e=>Object(re.a)(Object(ce.a)(e),!0).replace(/[ﾞﾟ]/g,"")).every(t=>e.includes(t))}(e.nameRuby,i))&&!(o.length>0&&!se(e.explanation,o)))))))};var oe=(e,t)=>{const{belongStates:a,costs:n,unitTypes:r,forceMin:c,forceMax:s,useCostRatioForce:i,costRatioForceMin:o,costRatioForceMax:l,costRatioBaseForces:d,intelligenceMin:m,intelligenceMax:u,conquestMin:p,conquestMax:g,skills:h,skillsAnd:b,searchText:f}=t.basic,{raw:E}=e;if(a.length>0&&!a.includes(E.state))return!1;if(n.length>0&&!n.includes(E.cost))return!1;if(r.length>0&&!r.includes(E.unit_type))return!1;if(i){const t=d[e.raw.cost];if(null==t)return!1;const a=e.force-t;if(o>a)return!1;if(l<a)return!1}else{if(c>e.force)return!1;if(s<e.force)return!1}if(m>e.intelligence)return!1;if(u<e.intelligence)return!1;if(p>e.conquest)return!1;if(g<e.conquest)return!1;if(h.length>0){const t=t=>"0"===t?0===e.skills.length:e.skills.map(e=>e.id).includes(t);if(b){if(!h.every(t))return!1}else if(!h.some(t))return!1}const{genMains:y,genMainsAnd:C,rarities:v,generalTypes:O,varTypes:k,versions:N,majorVersions:D,enableDetailVersion:S,pockets:j}=t.detail;if(v.length>0&&!v.includes(E.rarity))return!1;if(S){if(N.length>0&&!N.includes(e.versionValue))return!1}else if(D.length>0&&!D.includes(E.major_version))return!1;if(y.length>0){const t=t=>e.genMains.map(e=>e.id).includes(t);if(C){if(!y.every(t))return!1}else if(!y.some(t))return!1}if(O.length>0&&!O.includes(E.general_type))return!1;if(k.length>0&&!k.includes(E.ver_type))return!1;if(1===j.length&&"1"===j[0]!=(""!==E.pocket_code))return!1;if(f.length>0){if(null==e.personal)return!1;if(!function(e,t){return null!=e&&t.split(/\s+/g).filter(e=>e.length>0).some(t=>e.includes(t))}(e.personal.name,f)&&!function(e,t){return null!=e&&t.split(/\s+/g).filter(e=>e.length>0).map(e=>Object(re.a)(Object(ce.a)(e),!0).replace(/[ﾞﾟ]/g,"")).some(t=>e.includes(t))}(e.personal.name_ruby,f))return!1}return!0};function le(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?le(a,!0).forEach(function(t){me(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):le(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function me(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ue=Object(l.b)(e=>({generals:e.datalistReducer.generals,strategies:e.datalistReducer.strategies,currentPage:e.datalistReducer.currentPage,pageLimit:e.datalistReducer.pageLimit,filterCondition:e.datalistReducer.effectiveFilterCondition,deckCards:e.deckReducer.deckCards,activeIndex:e.deckReducer.activeIndex,enableDeckSearch:e.deckReducer.enableSearch,sameCard:e.datalistReducer.deckConstraints.sameCard}),e=>Object(d.a)({changeDeckGeneral:T.changeDeckGeneral,addDeckGeneral:T.addDeckGeneral,decrementPage:S.decrementPage,incrementPage:S.incrementPage},e),(e,t)=>{const{generals:a,strategies:n,currentPage:r,pageLimit:c,filterCondition:s,deckCards:i,activeIndex:o,enableDeckSearch:l,sameCard:d}=e,m=[];i.forEach((e,t)=>{if(o===t)return;const a=e.general;a&&m.push(a)});const u=a.filter(e=>m.includes(e.id)).map(e=>{const{personal:t,strat:a}=e.raw;return{personal:t,strat:a}}),p=null!=o&&l?i[o]:void 0;let g=s;p&&(g=de({},g,{basic:de({},g.basic)}),null!=p.belongState&&(g.basic.belongStates=[p.belongState]),g.basic.costs=[p.cost],null!=p.unitType&&(g.basic.unitTypes=[p.unitType]));const h=n.filter(e=>ie(e,g.strategies));let b=[];if(h.length>0){const e=h.length!==n.length?h.map(e=>e.id):void 0;b=a.filter(t=>!(e&&!e.includes(t.strategy.id))&&oe(t,g)).map(e=>e.id)}const f=b.length,E=(r-1)*c,y=E>0,C=E+c<f;b=b.slice(E,E+c);const v=$(i,o);let O;return O=v?"personal-strategy"===d?e=>v&&!u.some(t=>t.personal===e.raw.personal&&t.strat===e.raw.strat):e=>v&&!u.some(t=>t.personal===e.raw.personal):()=>!1,{activeIndex:o,sameCard:d,generals:a,searchedGeneralIds:b,deckPersonals:u,searchedAll:f,searchedOffset:E,searchedLimit:c,hasPrev:y,hasNext:C,enabledAddDeck:v,showStrategyExplanation:g.strategies.showStrategyExplanation,addDeckGeneral:e=>{v&&(null!=o?t.changeDeckGeneral(o,e):t.addDeckGeneral(e))},onPagePrev:t.decrementPage,onPageNext:t.incrementPage,enabledAddDeckGeneral:O}},{areMergedPropsEqual:(e,t)=>e.activeIndex===t.activeIndex&&(e.sameCard===t.sameCard&&(e.enabledAddDeck===t.enabledAddDeck&&(e.showStrategyExplanation===t.showStrategyExplanation&&(e.searchedAll===t.searchedAll&&(e.searchedOffset===t.searchedOffset&&(!!((e,t)=>e.length===t.length&&e.every(e=>t.includes(e)))(e.searchedGeneralIds,t.searchedGeneralIds)&&!!((e,t,a)=>e.length===t.length&&e.every(e=>t.some(t=>a(e,t))))(e.deckPersonals,t.deckPersonals,(e,t)=>e.personal===t.personal&&e.strat===t.strat)))))))})(class extends s.a.PureComponent{constructor(){super(...arguments),this.scrollArea=s.a.createRef(),this.handleOnAddDeck=e=>{this.props.addDeckGeneral(e)},this.handleOnPagePrev=e=>{e.stopPropagation(),this.props.onPagePrev()},this.handleOnPageNext=e=>{e.stopPropagation(),this.props.onPageNext()},this.handleOnScroll=()=>{Object(m.forceCheck)()}}componentDidUpdate(e){const t=this.props.searchedGeneralIds,a=e.searchedGeneralIds,n=t.length===a.length&&t.every(e=>a.includes(e)),r=this.scrollArea.current;!n&&r&&(r.scrollTop=0),Object(m.forceCheck)()}render(){const{generals:e,searchedGeneralIds:t,searchedAll:a,searchedOffset:n,searchedLimit:r,hasPrev:c,hasNext:i,showStrategyExplanation:o,enabledAddDeckGeneral:l}=this.props,d=[],m=t.length;e.forEach(e=>{const a=t.includes(e.id),n=l(e);d.push(s.a.createElement(ne,{key:e.id,general:e,onAddDeck:this.handleOnAddDeck,show:a,enabledAddDeck:n,showStrategyExplanation:o}))}),0===m&&d.push(s.a.createElement("div",{key:-1,className:"no-generals"},"該当なし"));const u=a>0?n+1:0;let p=n+r;return p>a&&(p=a),s.a.createElement("div",{className:"cardlist-container",onScroll:this.handleOnScroll},s.a.createElement("div",{className:"cardlist-paging"},s.a.createElement("button",{className:I()("paging-button","prev",{active:c}),onClick:this.handleOnPagePrev},"< 前"),s.a.createElement("div",{className:"pageing-label"},"全",a,"件 ",u," - ",p,"件"),s.a.createElement("button",{className:I()("paging-button","next",{active:i}),onClick:this.handleOnPageNext},"次 >")),s.a.createElement("div",{className:"cardlist-main",ref:this.scrollArea},d))}});let pe;const ge=500;function he(e){return t=>{e(S.setBasicCondition(t)),clearTimeout(pe),pe=setTimeout(()=>{e(S.applyCondition())},ge)}}function be(e){return t=>{e(S.setDetailCondition(t)),clearTimeout(pe),pe=setTimeout(()=>{e(S.applyCondition())},ge)}}function fe(e){return t=>{e(S.setStrategiesCondition(t)),clearTimeout(pe),pe=setTimeout(()=>{e(S.applyCondition())},ge)}}a(171);function Ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ee(a,!0).forEach(function(t){Ce(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ee(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Ce(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ve=e=>{let{filterContents:t,filterCondition:a,value:n,checked:r}=e,c=a.filter(e=>!e.startsWith("".concat(n,"-")));if(!r){const e=[].concat(...t).filter(e=>e.id.startsWith("".concat(n,"-")));c=c.concat(e.map(e=>e.id))}return c},Oe=(e,t,a,n,r)=>{let c=[...t];const s=n.split("-")[0];if(r)a.some(e=>e.startsWith("".concat(s,"-")))||(c=c.filter(e=>e!==s));else if(!c.includes(s)){[].concat(...e).filter(e=>e.id.startsWith("".concat(s,"-"))).every(e=>a.includes(e.id))&&c.push(s)}return c};function ke(e,t){const a=t.includes(e);let n;return{checked:a,targetValue:n=a?t.filter(t=>t!==e):[...t,e]}}function Ne(e,t,a){const n=e[t];if(!(n instanceof Array))return console.warn("".concat(t," is not array.")),{};const{targetValue:r}=ke(a,n);return{[t]:r}}a(172),a(173);const De=["button","filter-item"];class Se extends s.a.PureComponent{constructor(e){super(e),this.handleClickItem=e=>{const t=e.currentTarget.value,{itemName:a,onClickItem:n}=this.props;n(a,t)},this.buttonClasses=e.addtionalClasses?[...De,...e.addtionalClasses]:De,this.square=this.props.square||!1}createLabel(e){return e.nameShort||e.name}createButton(e,t,a,n,r){return s.a.createElement("button",{key:e,value:e,style:a,className:r,disabled:n,onClick:this.handleClickItem},t)}render(){const{checkedItems:e,items:t,show:a,disabled:n}=this.props,r=this.square,c=[],i=null!=n&&n;t.forEach(t=>{const a=t.id,n=this.createLabel(t),s={};t.color&&(s.backgroundColor=t.color);const o=e.includes(a);c.push(this.createButton(a,n,s,i,I()(this.buttonClasses,{checked:o,square:r})))});const o={};return null==a||a||(o.display="none"),s.a.createElement("div",{className:"button-list",style:o},c)}}var je=Object(l.b)(e=>{const{activeIndex:t,enableSearch:a,deckCards:n}=e.deckReducer,r=null!=t&&a?n[t]:void 0,c=null!=r?r.belongState:void 0;return{belongStates:e.datalistReducer.filterContents.belongStates,basicFilterCondition:e.datalistReducer.filterCondition.basic,deckCardBelongState:c}},e=>({setCondition:he(e)}),(e,t)=>{const{deckCardBelongState:a,belongStates:n,basicFilterCondition:r}=e;let c=!1,s=r.belongStates;return null!=a&&(c=!0,s=[a]),{filterContents:n,filterCondition:s,searchByDeck:c,toggleCheckList:(e,a)=>{t.setCondition(Ne(r,e,a))}}},{areMergedPropsEqual:()=>!1})(class extends s.a.Component{render(){const{filterContents:e,filterCondition:t,searchByDeck:a,toggleCheckList:n}=this.props;return s.a.createElement("section",{className:"simple-filter-section"},s.a.createElement("div",{className:"simple-filter-state"},s.a.createElement("h2",{className:"title-inline"},"勢力"),s.a.createElement(Se,{itemName:"belongStates",items:e,checkedItems:t,onClickItem:n,square:!0,disabled:a})))}});a(174),a(175);class Pe extends Se{createButton(e,t,a,n,r){return"0"!==e?super.createButton(e,t,a,n,r):super.createButton(e,"無",a,n,I()(r,"no-skill"))}}a(176);class we extends s.a.PureComponent{constructor(){super(...arguments),this.handleClickItem=()=>{const{isOn:e,itemName:t,setCondition:a}=this.props;a({[t]:!e})}}render(){const{isOn:e,labelOff:t,labelOn:a,width:n}=this.props,r={};return null!=n&&(r.width=n),I()("switch-button",{active:e}),s.a.createElement("div",{style:r,className:"switch-item",onClick:this.handleClickItem},s.a.createElement("div",{className:I()("switch-button",{active:!e})},s.a.createElement("button",{className:"switch-button-child"},t)),s.a.createElement("div",{className:I()("switch-button",{active:e})},s.a.createElement("button",{className:"switch-button-child"},a)))}}a(177);class Ae extends s.a.PureComponent{constructor(){super(...arguments),this.handleChange=e=>{const t=parseFloat(e.currentTarget.value),{itemName:a,itemKey:n,setCondition:r}=this.props;r(null!=n?{[a]:{[n]:t}}:{[a]:t})}}render(){const{min:e,max:t,value:a,className:n,displayText:r,step:c=1}=this.props,i=e<0,o=[];for(let a=e;a<=t;a+=c){const e=r?r(a):"".concat(a),t=i&&a>0?"+":"";o.push(s.a.createElement("option",{key:a,value:a},t,e))}return s.a.createElement("select",{value:a,className:I()("number-select",n),onChange:this.handleChange},o)}}a(178);function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function xe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ie extends s.a.PureComponent{constructor(){super(...arguments),this.handleSetCondition=e=>{const{setCondition:t,costRatioBaseForces:a}=this.props;e.costRatioBaseForces&&(e.costRatioBaseForces=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(a,!0).forEach(function(t){xe(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},a,{},e.costRatioBaseForces)),t(e)}}render(){const{costRatioBaseForces:e}=this.props;return s.a.createElement("div",{className:"cost-ratio-base-force"},s.a.createElement("span",{className:"title-inline"},"基準武力"),s.a.createElement("label",null,"1.0",s.a.createElement(Ae,{itemName:"costRatioBaseForces",itemKey:"10",setCondition:this.handleSetCondition,value:e[10],max:5,min:1})),s.a.createElement("label",null,"1.5",s.a.createElement(Ae,{itemName:"costRatioBaseForces",itemKey:"15",setCondition:this.handleSetCondition,value:e[15],max:7,min:2})),s.a.createElement("label",null,"2.0",s.a.createElement(Ae,{itemName:"costRatioBaseForces",itemKey:"20",setCondition:this.handleSetCondition,value:e[20],max:9,min:5})),s.a.createElement("label",null,"2.5",s.a.createElement(Ae,{itemName:"costRatioBaseForces",itemKey:"25",setCondition:this.handleSetCondition,value:e[25],max:10,min:7})),s.a.createElement("label",null,"3.0",s.a.createElement(Ae,{itemName:"costRatioBaseForces",itemKey:"30",setCondition:this.handleSetCondition,value:e[30],max:10,min:8})))}}a(179);class Re extends s.a.PureComponent{constructor(){super(...arguments),this.handleChange=e=>{const t=e.currentTarget.value,{itemName:a,setCondition:n}=this.props;n({[a]:t})}}render(){const{value:e,className:t}=this.props;return s.a.createElement("input",{type:"text",value:e,className:I()("search-textbox",t),onChange:this.handleChange})}}function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(a,!0).forEach(function(t){Be(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Be(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Le=Object(l.b)(e=>{const{activeIndex:t,enableSearch:a,deckCards:n}=e.deckReducer,r=null!=t&&a?n[t]:void 0;return{filterCondition:e.datalistReducer.filterCondition.basic,filterContents:e.datalistReducer.filterContents,deckCard:r}},e=>({setCondition:he(e)}),(e,t)=>{const{deckCard:a,filterCondition:n,filterContents:r}=e;if(a){let e,c=!1;null!=a.belongState?(e=[a.belongState],c=!0):e=n.belongStates;const s=[a.cost];let i,o=!1;return null!=a.unitType?(i=[a.unitType],o=!0):i=n.unitTypes,Me({filterContents:r,searchByDeckBelongState:c,searchByDeckCost:!0,searchByDeckUnitType:o,filterCondition:Me({},n,{belongStates:e,costs:s,unitTypes:i})},t,{toggleCheckList:(e,a)=>{t.setCondition(Ne(n,e,a))}})}return Me({filterContents:r,filterCondition:n,searchByDeckBelongState:!1,searchByDeckCost:!1,searchByDeckUnitType:!1},t,{toggleCheckList:(e,a)=>{t.setCondition(Ne(n,e,a))}})},{areMergedPropsEqual:()=>!1})(class extends s.a.PureComponent{render(){const{filterContents:e,filterCondition:t,searchByDeckBelongState:a,searchByDeckCost:n,searchByDeckUnitType:r,setCondition:c,toggleCheckList:i}=this.props;return s.a.createElement("div",null,s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"勢力"),s.a.createElement(Se,{itemName:"belongStates",items:e.belongStates,checkedItems:t.belongStates,onClickItem:i,square:!0,disabled:a})),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"コスト"),s.a.createElement(Se,{itemName:"costs",items:e.costs,checkedItems:t.costs,onClickItem:i,square:!0,disabled:n})),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"兵種"),s.a.createElement(Se,{itemName:"unitTypes",items:e.unitTypes,checkedItems:t.unitTypes,onClickItem:i,square:!0,disabled:r})),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"武力"),s.a.createElement("div",{className:"title-button"},s.a.createElement(we,{itemName:"useCostRatioForce",setCondition:c,isOn:t.useCostRatioForce,labelOff:"通常",labelOn:"コスト比",width:180})),s.a.createElement("div",{className:I()("normal-force",{active:!t.useCostRatioForce})},s.a.createElement("div",{className:"range"},s.a.createElement(Ae,{itemName:"forceMin",setCondition:c,value:t.forceMin,max:10,min:1}),"-",s.a.createElement(Ae,{itemName:"forceMax",setCondition:c,value:t.forceMax,max:10,min:1}))),s.a.createElement("div",{className:I()("cost-ratio-force",{active:t.useCostRatioForce})},s.a.createElement("div",{className:"range"},s.a.createElement(Ae,{itemName:"costRatioForceMin",setCondition:c,value:t.costRatioForceMin,max:5,min:-5}),"以上"),s.a.createElement(Ie,{costRatioBaseForces:t.costRatioBaseForces,setCondition:c}))),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"知力"),s.a.createElement("div",{className:"range"},s.a.createElement(Ae,{itemName:"intelligenceMin",setCondition:c,value:t.intelligenceMin,max:10,min:1}),"-",s.a.createElement(Ae,{itemName:"intelligenceMax",setCondition:c,value:t.intelligenceMax,max:10,min:1}))),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"征圧力"),s.a.createElement("div",{className:"range"},s.a.createElement(Ae,{itemName:"conquestMin",setCondition:c,value:t.conquestMin,max:4,min:0}),"-",s.a.createElement(Ae,{itemName:"conquestMax",setCondition:c,value:t.conquestMax,max:4,min:0}))),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"特技"),s.a.createElement("div",{className:"title-button"},s.a.createElement(we,{itemName:"skillsAnd",setCondition:c,isOn:t.skillsAnd,labelOff:"OR",labelOn:"AND"})),s.a.createElement(Pe,{itemName:"skills",items:e.skills,checkedItems:t.skills,onClickItem:i,square:!0})),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"武将名検索"),s.a.createElement(Re,{itemName:"searchText",value:t.searchText,setCondition:c}),s.a.createElement("div",null,"スペース区切りでOR検索 読み仮名(ひらがな、カタカナ)対応")))}});a(180);const Ge=[{id:"1",name:"あり"},{id:"0",name:"なし"}];function Fe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ve(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var qe=Object(l.b)(e=>({filterCondition:e.datalistReducer.filterCondition.detail,filterContents:e.datalistReducer.filterContents}),e=>({setCondition:be(e)}),(e,t)=>(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Fe(a,!0).forEach(function(t){Ve(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Fe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e})({},e,{},t,{toggleCheckList:(a,n)=>{t.setCondition(function(e,t,a){const n=e.filterCondition[t];if(!(n instanceof Array))return console.warn("".concat(t," is not array.")),{};const{checked:r,targetValue:c}=ke(a,n),s={[t]:c};switch(t){case"majorVersions":return ye({},s,{versions:ve({filterContents:e.filterContents.versions,filterCondition:e.filterCondition.versions,value:a,checked:r})});case"versions":return ye({},s,{majorVersions:Oe(e.filterContents.majorVersions,e.filterCondition.majorVersions,c,a,r)});default:return s}}(e,a,n))}}),{areMergedPropsEqual:()=>!1})(class extends s.a.PureComponent{render(){const{filterContents:e,filterCondition:t,setCondition:a,toggleCheckList:n}=this.props,r=[];return e.versions.forEach((e,a)=>{r.push(s.a.createElement(Se,{key:a+1,itemName:"versions",items:e,checkedItems:t.versions,onClickItem:n}))}),s.a.createElement("div",null,s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"登場弾"),s.a.createElement("div",{className:"title-button"},s.a.createElement(we,{itemName:"enableDetailVersion",setCondition:a,isOn:t.enableDetailVersion,labelOff:"メジャーVer",labelOn:"詳細Ver",width:220})),s.a.createElement("div",{className:I()("major-version",{active:!t.enableDetailVersion})},s.a.createElement(Se,{itemName:"majorVersions",items:e.majorVersions,checkedItems:t.majorVersions,onClickItem:n})),s.a.createElement("div",{className:I()("detail-version",{active:t.enableDetailVersion})},r)),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"将器主効果候補"),s.a.createElement("div",{className:"title-button"},s.a.createElement(we,{itemName:"genMainsAnd",setCondition:a,isOn:t.genMainsAnd,labelOff:"OR",labelOn:"AND"})),s.a.createElement(Se,{itemName:"genMains",items:e.genMains,checkedItems:t.genMains,onClickItem:n})),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"レアリティ"),s.a.createElement(Se,{itemName:"rarities",items:e.rarities,checkedItems:t.rarities,onClickItem:n,square:!0})),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"官職"),s.a.createElement(Se,{itemName:"generalTypes",items:e.generalTypes,checkedItems:t.generalTypes,onClickItem:n})),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"カード種別"),s.a.createElement(Se,{itemName:"varTypes",items:e.varTypes,checkedItems:t.varTypes,onClickItem:n})),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"ぽけっと武将"),s.a.createElement(Se,{itemName:"pockets",items:Ge,checkedItems:t.pockets,onClickItem:n})))}});a(181),a(182);const Ke="】";class Ue extends Se{createButton(e,t,a,n,r){if("string"!=typeof t||!t.includes(Ke))return super.createButton(e,t,a,n,I()(r,"strategy-category-button"));const c=[],i=t.split(Ke);return i.forEach((e,t)=>{t===i.length-1?c.push(s.a.createElement("span",{className:"main-name",key:t},e)):c.push(s.a.createElement("span",{className:"sub-name",key:t},e+Ke))}),super.createButton(e,c,a,n,I()(r,"multiline-label","strategy-category-button"))}}a(183);class He extends Se{createLabel(e){if(null==e.code)return"";const t="https://3594t.net/img/strat_range/".concat(e.code,".png");return s.a.createElement("img",{className:"range-image",src:t})}createButton(e,t,a,n,r){return super.createButton(e,t,a,n,I()(r,"strategy-range-button"))}}function Ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ye(a,!0).forEach(function(t){Xe(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ye(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Xe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Je=Object(l.b)(e=>({filterCondition:e.datalistReducer.filterCondition.strategies,filterContents:e.datalistReducer.filterContents}),e=>We({setCondition:fe(e)},Object(d.a)({setShowStrategyExplanation:S.setShowStrategyExplanation},e)),(e,t)=>We({},e,{},t,{toggleCheckList:(a,n)=>{t.setCondition(function(e,t,a){const n=e[t];if(!(n instanceof Array))return console.warn("".concat(t," is not array.")),{};const{targetValue:r}=ke(a,n);return{[t]:r}}(e.filterCondition,a,n))}}),{areMergedPropsEqual:()=>!1})(class extends s.a.PureComponent{render(){const{filterContents:e,filterCondition:t,setCondition:a,toggleCheckList:n}=this.props;return s.a.createElement("div",null,s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"計略表示切り替え"),s.a.createElement(we,{itemName:"showStrategyExplanation",setCondition:a,isOn:t.showStrategyExplanation,labelOff:"計略名",labelOn:"計略説明",width:200})),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"計略名検索"),s.a.createElement(Re,{itemName:"strategySearchName",value:t.strategySearchName,setCondition:a}),s.a.createElement("div",null,"スペース区切りでAND検索 読み仮名(ひらがな、カタカナ)対応")),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"計略説明検索"),s.a.createElement(Re,{itemName:"strategySearchExplanation",value:t.strategySearchExplanation,setCondition:a}),s.a.createElement("div",null,"スペース区切りでAND検索")),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"計略必要士気"),s.a.createElement("div",{className:"range"},s.a.createElement(Ae,{itemName:"moraleMin",setCondition:a,value:t.moraleMin,max:12,min:1}),"-",s.a.createElement(Ae,{itemName:"moraleMax",setCondition:a,value:t.moraleMax,max:12,min:1}))),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"計略カテゴリー"),s.a.createElement(Ue,{itemName:"strategyCategories",items:e.strategyCategories,checkedItems:t.strategyCategories,onClickItem:n})),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"計略効果時間"),s.a.createElement(Se,{itemName:"strategyTimes",items:e.strategyTimes,checkedItems:t.strategyTimes,onClickItem:n})),s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"計略範囲"),s.a.createElement(He,{itemName:"strategyRanges",items:e.strategyRanges,checkedItems:t.strategyRanges,onClickItem:n})))}}),ze=(a(184),a(185),a(98));class $e extends s.a.PureComponent{constructor(){super(...arguments),this.handleOnClick=()=>{this.props.onClick&&this.props.onClick(this.props.value)}}render(){const{checked:e,children:t}=this.props;return s.a.createElement("div",{className:"radio-button",onClick:this.handleOnClick},s.a.createElement("span",{className:"radio-check"},s.a.createElement(R.a,{className:I()({checked:e}),icon:ze.faCircle})),t)}}function Qe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ze(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var et=Object(l.b)(e=>(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qe(a,!0).forEach(function(t){Ze(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qe(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e})({show:e.windowReducer.openedDeckConfig},e.datalistReducer.deckConstraints),e=>Object(d.a)({closeDeckConfig:E.closeDeckConfig,setDeckConstraints:S.setDeckConstraints},e))(class extends s.a.PureComponent{constructor(){super(...arguments),this.handleOnSetDeckConstraints=e=>{this.props.setDeckConstraints(e)},this.handleOnClickSameCard=e=>{this.props.setDeckConstraints({sameCard:e})}}costDisplayText(e){return"".concat(e/10)}render(){const{show:e,limitCost:t,sameCard:a,closeDeckConfig:n}=this.props,r={};return e||(r.display="none"),s.a.createElement("div",{className:"deck-config",style:r},s.a.createElement("div",{className:"deck-config-inner"},s.a.createElement("div",{className:"deck-config-title"},"デッキ設定"),s.a.createElement("div",{className:"deck-config-buttons"},s.a.createElement("button",{className:"action-buton-ok",onClick:n},"OK")),s.a.createElement("div",{className:"deck-config-body"},s.a.createElement("section",{className:"filter-section"},s.a.createElement("h2",{className:"title"},"コスト 上限"),s.a.createElement(Ae,{itemName:"limitCost",setCondition:this.handleOnSetDeckConstraints,value:t,max:250,min:10,step:5,displayText:this.costDisplayText})),s.a.createElement("section",{className:"filter-section same-card-constraint"},s.a.createElement("h2",{className:"title"},"同名武将 制限"),s.a.createElement($e,{value:"personal",checked:"personal"===a,onClick:this.handleOnClickSameCard},"同名武将不可(通常ルール)"),s.a.createElement($e,{value:"personal-strategy",checked:"personal-strategy"===a,onClick:this.handleOnClickSameCard},"同名武将かつ同計略不可")))))}});a(186);const tt=500;function at(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function nt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ct=Object(l.b)(e=>e.dialogReducer,e=>Object(d.a)({closeDialog:K.closeDialog},e),(e,t)=>{const{actionRed:a,actionBlue:n,actionCancel:r}=e;return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?at(a,!0).forEach(function(t){nt(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):at(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},rt(e,["actionRed","actionBlue","actionCancel"]),{actionRed:()=>{a(),t.closeDialog()},actionBlue:()=>{n(),t.closeDialog()},actionCancel:()=>{r&&r(),t.closeDialog()}})},{areMergedPropsEqual:()=>!1})(class extends s.a.PureComponent{constructor(){super(...arguments),this.state={},this.actionWithAnimation=(e,t)=>{this.state.buttonAnimation||(this.props.animation?(this.setState({buttonAnimation:e}),setTimeout(()=>{this.setState({buttonAnimation:void 0}),t()},tt)):t())},this.handleRedClick=e=>{e.stopPropagation(),this.actionWithAnimation("RED",this.props.actionRed)},this.handleBlueClick=e=>{e.stopPropagation(),this.actionWithAnimation("BLUE",this.props.actionBlue)},this.handleCancelClick=e=>{e.stopPropagation(),this.state.buttonAnimation||this.props.cancelable&&this.props.actionCancel()}}render(){const{show:e,title:t,message:a,logoUrl:n,redText:r,blueText:c,cancelable:i,animation:o}=this.props,{buttonAnimation:l}=this.state;let d="",m=!1,u=!1;"RED"===l?(d="緋略",m=!0):"BLUE"===l&&(d="蒼略",u=!0);const p={};return e||(p.display="none"),s.a.createElement("div",{className:"dialog-container",style:p},s.a.createElement("div",{className:"dialog-base"},s.a.createElement("div",{className:"dialog-background",onClick:this.handleCancelClick}),s.a.createElement("div",{className:"dialog"},s.a.createElement("div",{className:"dialog-inner"},s.a.createElement("div",{className:"dialog-title"},t),s.a.createElement("div",{className:"dialog-body"},s.a.createElement("div",{className:I()("dialog-logo",{show:null!=n})},s.a.createElement("img",{src:n})),s.a.createElement("div",{className:"dialog-message"},a)),s.a.createElement("div",{className:"dialog-actions"},s.a.createElement("div",{className:I()("dialog-action-button","dialog-action-red",{text:o}),onClick:this.handleRedClick},r),s.a.createElement("div",{className:I()("dialog-action-button","dialog-action-blue",{text:o}),onClick:this.handleBlueClick},c)),s.a.createElement("div",{className:I()("dialog-close",{cancelable:i}),onClick:this.handleCancelClick},"x"))),s.a.createElement("div",{className:I()("action-animation",{red:m,blue:u,show:m||u})},d)))}});function st(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function it(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ot(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?it(a,!0).forEach(function(t){lt(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):it(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function lt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const dt=function(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=n?"-EX":a>0?"-".concat(a):"","第".concat(e,"弾").concat(t)};class mt{constructor(e,t,a){this.id=e,this.raw=t,Object.assign(this,a)}get code(){return this.raw.code}get pocketCode(){return this.raw.pocket_code}get name(){return this.personal?this.personal.name:""}get version(){return dt(this.majorVersion,this.addVersion,this.isEx)}get versionValue(){const e=this.isEx?"-EX":"-".concat(this.addVersion);return"".concat(this.majorVersion).concat(e)}get hasPocket(){return""!==this.raw.pocket_code}thumbUrl(e){const t=e?this.pocketCode:this.code;return"https://3594t.net/img/card_small/".concat(t,".jpg")}}const ut=(e,t)=>"".concat(t),pt=e=>e.key,gt=(e,t,a)=>e.map((e,n)=>a(e,t(e,n))),ht=(e,t)=>Object.entries(e).map(e=>{let[a,n]=e;return t(n,"".concat(a))}),bt=(e,t)=>{let{code:a,name:n,name_short:r,short_name:c}=e;return{id:t,code:a,name:n,nameShort:r||c}},ft={name:""},Et={id:"",code:"",explanation:"",rawExplanation:"",morale:1,name:"",nameRuby:"",stratCategory:"",stratRange:"",stratTime:""},yt=(e,t)=>{const a=e.find(e=>e.id===t);return a||ft},Ct=e=>e.filter(e=>null!=e),vt=e=>e.replace(/\<br\s*\/?\>/gi,"\n").replace(/\<img.+?alt=\"(.*?)\".*?\/\>/gi," $1 ");var Ot=e=>{const t=gt(e.STATE,ut,(e,t)=>{return ot({},bt(e,t),{color:"rgb(".concat(e.red,", ").concat(e.green,", ").concat(e.blue,")"),thinColor:"rgba(".concat(e.red,", ").concat(e.green,", ").concat(e.blue,", 0.2)")})}),a=ht(e.COST,bt),n=gt(e.UNIT_TYPE,pt,(e,t)=>{return ot({},bt(e,t),{nameShort:e.name[0]})}),r=gt(e.SKILL,pt,bt),c=gt(e.GEN_MAIN,pt,bt),s=ht(e.RARITY,bt),i=gt(e.GENERAL_TYPE,pt,(e,t)=>{const a=bt(e,t);return""===e.name?ot({},a,{name:"なし(女性)"}):a}),o=gt(e.VER_TYPE,ut,bt).map(e=>"Ex"===e.name?ot({},e,{name:"EX"}):e),l=gt(e.STRAT,pt,(e,t)=>{const{morale:a,explanation:n,name_ruby:r,strat_category:c,strat_range:s,strat_time:i}=e;return ot({id:t},st(e,["morale","explanation","name_ruby","strat_category","strat_range","strat_time"]),{explanation:vt(n),rawExplanation:n,morale:parseInt(a),nameRuby:r,stratCategory:c,stratRange:s,stratTime:i})}),d={},m=gt(e.GENERAL,ut,(o,m)=>{const u=parseInt(o.major_version),p=parseInt(o.add_version),g="2"===o.ver_type;return d[u]||(d[u]=[]),g||d[u].includes(p)||d[u].push(p),new mt(m,o,{majorVersion:u,addVersion:p,isEx:g,force:parseInt(o.buryoku),intelligence:parseInt(o.chiryoku),conquest:parseInt(o.seiatsu),cost:yt(a,o.cost),genMains:Ct([o.gen_main0,o.gen_main1,o.gen_main2].filter(e=>""!==e).map(e=>c.find(t=>t.id===e))),generalType:yt(i,o.general_type),personal:e.PERSONAL[parseInt(o.personal)],rarity:yt(s,o.rarity),skills:Ct([o.skill0,o.skill1,o.skill2].filter(e=>""!==e&&"0"!==e).map(e=>r.find(t=>t.id===e))),state:yt(t,o.state),unitType:yt(n,o.unit_type),strategy:l.find(e=>e.id===o.strat)||Et})}),u=Object.keys(d).map(e=>parseInt(e)),p=(e,t)=>e-t;u.sort(p),u.forEach(e=>{d[e].sort(p)});const g=gt(e.STRAT_CATEGORY,pt,bt),h=gt(e.STRAT_RANGE,ut,(e,t)=>({id:t,code:e.code,name:""})),b=gt(e.STRAT_TIME,ut,bt);return{filterContents:{belongStates:t,costs:a,unitTypes:n,skills:r,genMains:c,rarities:s,generalTypes:i,varTypes:o,versions:Object.entries(d).map(e=>{let[t,a]=e;const n=gt(a,e=>"".concat(t,"-").concat(e),(e,a)=>({id:a,name:dt(t,e)}));return n.push({id:"".concat(t,"-EX"),name:dt(t,0,!0)}),n}),majorVersions:gt(u,e=>"".concat(e),(e,t)=>({id:t,name:dt(e)})),strategyCategories:g,strategyRanges:h,strategyTimes:b},generals:m,strategies:l}};const kt=(async()=>await(async()=>{const e=await fetch("https://gist.githubusercontent.com/boushi-bird/9fbed1f50fadcd04ea619355b5fa7a0c/raw/base.json");return await e.json()})())();function Nt(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function St(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Dt(a,!0).forEach(function(t){jt(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Dt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function jt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Pt=Object(l.b)(e=>St({},e.windowReducer,{openedAnyModal:e.windowReducer.openedDeckConfig||!e.windowReducer.ready,openedAnyModalSmall:e.windowReducer.openedFilter||!e.windowReducer.ready,loading:!e.windowReducer.ready,activeIndex:e.deckReducer.activeIndex}),e=>{const t=Object(d.a)({setBaseData:S.setBaseData,beReady:E.beReady},e);return St({appDidLoaded:async()=>{const e=await(async()=>{const e=await kt;return Ot(e)})();t.setBaseData(e),t.beReady(),Object(m.forceCheck)()}},Object(d.a)(St({clearActiveCard:T.clearActiveCard,resetConditions:S.resetConditions},E),e))},(e,t)=>{const{activeIndex:a}=e,n=Nt(e,["activeIndex"]);return St({},n,{},t,{clearActiveCard:()=>{void 0!==a&&t.clearActiveCard()},closeSideMenu:()=>{n.openedSideMenu&&t.closeSideMenu()}})},{areMergedPropsEqual:()=>!1})(class extends s.a.PureComponent{constructor(){super(...arguments),this.handleAppClick=()=>{this.props.clearActiveCard(),this.props.closeSideMenu()},this.handleSideMenuButtonClick=()=>{this.props.openSideMenu()}}componentDidMount(){this.props.appDidLoaded()}render(){const{ready:e,loading:t,resetConditions:a,openedSideMenu:n,openFilter:r,closeFilter:c,closeAllModal:i,changeActiveFilterTab:o,openedFilter:l,openedAnyModal:d,openedAnyModalSmall:m,activeFilter:u}=this.props;return s.a.createElement("div",{className:I()(["app-container",{modal:d,"modal-small":m,ready:e}]),onClick:this.handleAppClick},s.a.createElement("div",{className:I()("side-menu",{open:n})},s.a.createElement("div",{className:"side-menu-header"}),s.a.createElement(G,null),"©SEGA"),s.a.createElement("div",{className:"app-main"},s.a.createElement("div",{className:"app-deck-block"},s.a.createElement("div",{className:"app-header"},s.a.createElement("button",{className:I()("side-menu-button",{show:!n}),onClick:this.handleSideMenuButtonClick},s.a.createElement(R.a,{icon:_.faBars})),s.a.createElement("div",{className:"app-header-title"},"三国志大戦デッキシミュレーター")),s.a.createElement("div",{className:"deck-boad-container"},s.a.createElement(ae,null)),s.a.createElement("div",{className:"simple-filter-container"},s.a.createElement(je,null),s.a.createElement("button",{className:"open-filter",onClick:r},"絞込")),s.a.createElement(ue,null)),s.a.createElement("div",{className:I()(["card-filter-container",{open:l}])},s.a.createElement("h1",{className:"card-filter-title"},"絞り込みメニュー"),s.a.createElement("div",{className:"card-filter-buttons"},s.a.createElement(M,{tabs:f,activeTab:u,onTabChanged:o}),s.a.createElement(B,{resetConditions:a,closeFilter:c})),s.a.createElement("div",{className:I()(["card-filter-content",{active:"BASIC"===u}])},s.a.createElement(Le,null)),s.a.createElement("div",{className:I()(["card-filter-content",{active:"DETAIL"===u}])},s.a.createElement(qe,null)),s.a.createElement("div",{className:I()(["card-filter-content",{active:"STRAT"===u}])},s.a.createElement(Je,null)))),s.a.createElement("div",{className:"modal-background",onClick:i}),s.a.createElement(et,null),s.a.createElement("div",{className:I()("loading-item",{loading:t})}),s.a.createElement(ct,null))}});const wt={datalistReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_CONDITIONS":return O({},e,{filterCondition:N,effectiveFilterCondition:N,currentPage:D.currentPage});case"APPLY_CONDITION":return O({},e,{effectiveFilterCondition:Object(C.a)(e.filterCondition),currentPage:D.currentPage});case"SET_BASIC_CONDITION":return O({},e,{filterCondition:O({},e.filterCondition,{basic:O({},e.filterCondition.basic,{},t.payload.condition)})});case"SET_DETAIL_CONDITION":return O({},e,{filterCondition:O({},e.filterCondition,{detail:O({},e.filterCondition.detail,{},t.payload.condition)})});case"SET_STRATEGIES_CONDITION":return O({},e,{filterCondition:O({},e.filterCondition,{strategies:O({},e.filterCondition.strategies,{},t.payload.condition)})});case"SET_DECK_CONSTRAINTS":return O({},e,{deckConstraints:O({},e.deckConstraints,{},t.payload.condition)});case"SET_SHOW_STRATEGY_EXPLANATION":return O({},e,{filterCondition:O({},e.filterCondition,{strategies:O({},e.filterCondition.strategies,{showStrategyExplanation:t.payload})})});case"SET_BASE_DATA":{const a=t.payload.baseData,{generals:n,strategies:r,filterContents:c}=a;return O({},e,{filterCondition:N,effectiveFilterCondition:N,currentPage:D.currentPage,filterContents:c,generals:n,strategies:r})}case"RESET_PAGE":return O({},e,{currentPage:D.currentPage});case"INCREMENT_PAGE":case"DECREMENT_PAGE":{const a=t.payload.page;return O({},e,{currentPage:e.currentPage+a})}default:return e}},deckReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_DECK_GENERAL":{const a=t.payload;return P({},e,{activeIndex:void 0,enableSearch:!1,deckCards:[...e.deckCards,P({},a)]})}case"CHANGE_DECK_GENERAL":{const{index:a,card:n}=t.payload,r=[...e.deckCards];return r[a]=P({},n),P({},e,{activeIndex:void 0,enableSearch:!1,deckCards:r})}case"ADD_DECK_DUMMY":{const{cost:a,belongState:n,unitType:r}=t.payload;return P({},e,{activeIndex:void 0,enableSearch:!1,deckCards:[...e.deckCards,{cost:a,belongState:n,unitType:r,pocket:!1}]})}case"SET_DECK_VALUE":{const{index:a,deckCard:n}=t.payload,r=[...e.deckCards];return r[a]=P({},r[a],{},n),P({},e,{deckCards:r})}case"SET_DECK_LIST":return P({},e,{deckCards:t.payload});case"REMOVE_DECK":{const a=t.payload,n=e.deckCards.filter((e,t)=>t!==a);return P({},e,{activeIndex:void 0,enableSearch:!1,deckCards:n})}case"CLEAR_DECK":return P({},e,{activeIndex:void 0,enableSearch:!1,deckCards:[]});case"SET_ACTIVE_CARD":return P({},e,{activeIndex:t.payload,enableSearch:!1});case"SEARCH_BY_DECK":return P({},e,{activeIndex:t.payload,enableSearch:!0});case"CLEAR_ACTIVE_CARD":return P({},e,{activeIndex:void 0,enableSearch:!1});case"SELECT_MAIN_GEN":{const{index:a,genMain:n}=t.payload,r=[...e.deckCards],c=r[a];return null==c?e:(r[a]=P({},c,{genMain:n}),P({},e,{activeIndex:void 0,deckCards:r}))}default:return e}},dialogReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_DIALOG":{const e=t.payload,{cancelable:a,animation:n}=e;return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach(function(t){V(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},q(e,["cancelable","animation"]),{show:!0,cancelable:null==a||a,animation:null==n||n})}case"CLOSE_DIALOG":return U;default:return e}},windowReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BE_READY":return h({},e,{ready:!0});case"CHANGE_SIDEMENU_VISIBLE":const{payload:{openedSideMenu:a}}=t;return h({},e,{openedSideMenu:a});case"CHANGE_FILTER_VISIBLE":const{payload:{openedFilter:n}}=t;return h({},e,{openedFilter:n});case"CHANGE_DECK_CONFIG_VISIBLE":const{payload:{openedDeckConfig:r}}=t;return h({},e,{openedDeckConfig:r});case"CLOSE_ALL_MODAL":return h({},e,{openedFilter:!1,openedDeckConfig:!1});case"CHANGE_ACTIVE_FILTER":const{payload:{activeFilter:c}}=t;return h({},e,{activeFilter:c});default:return e}}};var At=Object(d.c)(Object(d.b)(wt));r.a.load({custom:{families:["Noto Sans Japanese:n4,n7"],urls:["https://fonts.googleapis.com/earlyaccess/notosansjapanese.css"]}}),o.a.render(s.a.createElement(l.a,{store:At},s.a.createElement(Pt,null)),document.getElementById("app"))}});