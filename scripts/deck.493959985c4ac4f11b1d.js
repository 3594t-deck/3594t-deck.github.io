!function(e){function t(t){for(var n,i,o=t[0],l=t[1],c=t[2],m=0,u=[];m<o.length;m++)i=o[m],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&u.push(s[i][0]),s[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(d&&d(t);u.length;)u.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},s={0:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var d=l;r.push([208,1]),a()}({113:function(e,t,a){},163:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},184:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},208:function(e,t,a){"use strict";a.r(t);a(113);var n=a(102),s=a.n(n),r=a(0),i=a.n(r),o=a(38),l=a.n(o),c=a(4),d=(a(19),a(2)),m=a(17),u=a.n(m),p=a(15);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const b={BASIC:"基本",DETAIL:"詳細",STRAT:"計略"},y=Object(p.b)({name:"window",initialState:{ready:!1,openedSideMenu:!1,openedFilter:!1,openedDeckConfig:!1,openedUpdateInfo:!1,showNotice:!1,activeFilter:"BASIC",detailGeneral:null,detailAssistGeneral:null,installPromptEvent:null},reducers:{beReady:e=>h(h({},e),{},{ready:!0}),changeSideMenuVisible(e,t){const{payload:{openedSideMenu:a}}=t;return h(h({},e),{},{openedSideMenu:a})},changeFilterVisible(e,t){const{payload:{openedFilter:a}}=t;return h(h({},e),{},{openedFilter:a})},changeDeckConfigVisible(e,t){const{payload:{openedDeckConfig:a}}=t;return h(h({},e),{},{openedDeckConfig:a})},changeUpdateInfoVisible(e,t){const{payload:{openedUpdateInfo:a}}=t;return h(h({},e),{},{openedUpdateInfo:a})},closeAllModal:e=>h(h({},e),{},{openedFilter:!1,openedDeckConfig:!1,openedUpdateInfo:!1,detailGeneral:null,detailAssistGeneral:null}),changeActiveFilterTab:(e,t)=>h(h({},e),{},{activeFilter:t.payload}),changeShowNotice(e,t){const{payload:{showNotice:a}}=t;return h(h({},e),{},{showNotice:a})},openGeneralDetail:(e,t)=>h(h({},e),{},{detailGeneral:t.payload}),openAssistGeneralDetail:(e,t)=>h(h({},e),{},{detailAssistGeneral:t.payload}),storeInstallPromptEvent:(e,t)=>h(h({},e),{},{installPromptEvent:t.payload})}}),v=y.actions;var C=a(112);const k={"連弩兵":"弩"};function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){w(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const N={searchMode:"general",basic:{belongStates:[],costs:[],unitTypes:[],forceMin:1,forceMax:11,useCostRatioForce:!1,costRatioForceMin:-4,costRatioForceMax:5,costRatioBaseForces:{10:3,15:6,20:8,25:9,30:10},intelligenceMin:1,intelligenceMax:11,conquestMin:0,conquestMax:4,skills:[],skillsAnd:!1,searchText:""},detail:{genMains:[],genMainsAnd:!1,rarities:[],generalTypes:[],varTypes:[],majorVersions:[],versions:[],enableDetailVersion:!1,pockets:[]},strategies:{showStrategyExplanation:!1,moraleMin:1,moraleMax:12,strategyCategories:[],strategyRanges:[],strategyTimes:[],strategySearchName:"",strategySearchExplanation:""}},j={filterCondition:N,effectiveFilterCondition:N,filterContents:{belongStates:[],costs:[],unitTypes:[],skills:[],genMains:[],rarities:[],generalTypes:[],varTypes:[],versions:[],majorVersions:[],strategyCategories:[],strategyRanges:[],strategyTimes:[],assistStrategyCategories:[]},generals:[],strategies:[],assistGenerals:[],currentPage:1,pageLimit:50},P=Object(p.b)({name:"datalist",initialState:j,reducers:{resetConditions:e=>O(O({},e),{},{filterCondition:N,effectiveFilterCondition:N,currentPage:j.currentPage}),applyCondition:e=>O(O({},e),{},{effectiveFilterCondition:Object(C.a)(e.filterCondition),currentPage:j.currentPage}),setSearchMode:(e,t)=>O(O({},e),{},{filterCondition:O(O({},e.filterCondition),{},{searchMode:t.payload})}),setBasicCondition:(e,t)=>O(O({},e),{},{filterCondition:O(O({},e.filterCondition),{},{basic:O(O({},e.filterCondition.basic),t.payload)})}),setDetailCondition:(e,t)=>O(O({},e),{},{filterCondition:O(O({},e.filterCondition),{},{detail:O(O({},e.filterCondition.detail),t.payload)})}),setStrategiesCondition:(e,t)=>O(O({},e),{},{filterCondition:O(O({},e.filterCondition),{},{strategies:O(O({},e.filterCondition.strategies),t.payload)})}),setShowStrategyExplanation:(e,t)=>O(O({},e),{},{filterCondition:O(O({},e.filterCondition),{},{strategies:O(O({},e.filterCondition.strategies),{},{showStrategyExplanation:t.payload})})}),setBaseData(e,t){const{generals:a,strategies:n,assistGenerals:s,filterContents:r}=t.payload;return O(O({},e),{},{filterCondition:N,effectiveFilterCondition:N,currentPage:j.currentPage,filterContents:r,generals:a,strategies:n,assistGenerals:s})},incrementPage:e=>O(O({},e),{},{currentPage:e.currentPage+1}),decrementPage:e=>O(O({},e),{},{currentPage:e.currentPage-1}),resetPage:e=>O(O({},e),{},{currentPage:j.currentPage})}}),D=P.actions;a(5);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(Object(a),!0).forEach((function(t){M(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let A=0;const I=["personal","personal-strategy-exclude-assist","personal-assist","personal-strategy"];const T={deckCards:[],assistDeckCards:[],activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckConstraints:{limitCost:80,sameCard:"personal",assistCardLimit:1,genMainAwakingLimit:3,genMainSpAwakingCount:3}},V=Object(p.b)({name:"deck",initialState:T,reducers:{addDeckGeneral(e,t){const a=x(x({},t.payload),{},{key:A++});return x(x({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:[...e.deckCards,x({},a)]})},changeDeckGeneral(e,t){const{index:a,card:n}=t.payload,s=[...e.deckCards];return s[a]=x(x({},n),{},{key:s[a].key}),x(x({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:s})},addDeckDummy(e,t){const{cost:a,belongState:n,unitType:s}=t.payload;return x(x({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:[...e.deckCards,{key:A++,cost:a,belongState:n,unitType:s,pocket:!1}]})},setDeckDummyValue(e,t){const{index:a,deckCard:n}=t.payload,s=[...e.deckCards],r=s[a];return!r||"general"in r?e:(s[a]=x(x({},r),n),x(x({},e),{},{deckCards:s}))},setDecks(e,t){const a=t.payload.map(e=>x(x({},e),{},{key:A++}));return x(x({},e),{},{deckCards:a})},removeDeck(e,t){const a=t.payload,n=e.deckCards.filter((e,t)=>t!==a);return x(x({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:n})},addDeckAssist(e,t){const a=t.payload;return x(x({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,assistDeckCards:[...e.assistDeckCards,x({},a)]})},changeDeckAssist(e,t){const{index:a,card:n}=t.payload,s=[...e.assistDeckCards];return s[a]=x({},n),x(x({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,assistDeckCards:s})},setAssists:(e,t)=>x(x({},e),{},{assistDeckCards:t.payload}),removeDeckAssist(e,t){const a=t.payload,n=e.assistDeckCards.filter((e,t)=>t!==a);return x(x({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,assistDeckCards:n})},sliceDeckAssist(e){const{assistDeckCards:t,deckConstraints:{assistCardLimit:a}}=e;if(t.length<=a)return x({},e);const n=t.slice(0,a);return x(x({},e),{},{assistDeckCards:n})},clearDeck:e=>x(x({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:[],assistDeckCards:[]}),setActiveCard:(e,t)=>x(x({},e),{},{activeIndex:t.payload,activeAssistIndex:null,searchCondition:void 0}),setActiveAssistCard:(e,t)=>x(x({},e),{},{activeIndex:null,activeAssistIndex:t.payload,searchCondition:void 0}),searchByDeck(e,t){const{index:a,condition:n}=t.payload;return x(x({},e),{},{activeIndex:a,activeAssistIndex:null,searchCondition:n})},clearActiveCard:e=>x(x({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0}),selectGenMain(e,t){const{index:a,genMain:n}=t.payload,s=[...e.deckCards],r=s[a];return null==r?e:(s[a]=x(x({},r),{},{genMain:n}),x(x({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:s}))},awakeGenMain(e,t){const{index:a,awake:n}=t.payload,s=[...e.deckCards],r=s[a];return null==r?e:(s[a]=x(x({},r),{},{genMainAwaking:n}),x(x({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:s}))},setDeckConstraints:(e,t)=>x(x({},e),{},{deckConstraints:x(x({},e.deckConstraints),t.payload)}),moveDeckIndex(e,{payload:{index:t,direction:a}}){const n="left"===a?t-1:t,s="right"===a?t+1:t;if(e.deckCards.length<2||n<0||s<0||n>=e.deckCards.length||s>=e.deckCards.length)return e;const r=[...e.deckCards];return r.splice(n,2,r[s],r[n]),x(x({},e),{},{deckCards:r,activeIndex:"left"===a?n:s})}}}),G=x(x({},V.actions),{},{changeDeckGeneral:(e,t)=>V.actions.changeDeckGeneral({index:e,card:t}),setDeckDummyValue:(e,t)=>V.actions.setDeckDummyValue({index:e,deckCard:t}),changeDeckAssist:(e,t)=>V.actions.changeDeckAssist({index:e,card:t}),searchByDeck:(e,t)=>V.actions.searchByDeck({index:e,condition:t}),selectGenMain:(e,t)=>V.actions.selectGenMain({index:e,genMain:t}),awakeGenMain:(e,t)=>V.actions.awakeGenMain({index:e,awake:t})});a(13),a(24);var R=a(106),L=a.n(R);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){F(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function F(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function q(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}const U={show:!1,title:"",message:"",logoUrl:void 0,redText:"",blueText:"",cancelable:!0,animation:!0,actionRed:()=>{},actionBlue:()=>{},actionCancel:void 0},W=Object(p.b)({name:"dialog",initialState:U,reducers:{showDialog(e,t){const a=t.payload,{cancelable:n,animation:s}=a;return _(_({},q(a,["cancelable","animation"])),{},{show:!0,cancelable:null==n||n,animation:null==s||s})},closeDialog:()=>U}}),Y=W.actions;var J=Object(p.a)({reducer:{datalist:P.reducer,deck:V.reducer,dialog:W.reducer,window:y.reducer}});const X=({generals:e,filterContents:t})=>a=>{const[n,s,r,i,o]=a.split("_"),[l,c]=s.split("*"),d=(({code:e,genMainCode:t,genMainAwaking:a},{generals:n,filterContents:s})=>{if(!e)return null;const r=n.find(t=>t.code===e||t.pocketCode===e);if(!r)return null;const i=r.code!==e,o=s.genMains.find(e=>e.code===t);let l=void 0;return o&&r.genMains.includes(o)&&(l=o.id),{general:r.id,genMain:l,genMainAwaking:a,pocket:i}})({code:n,genMainCode:l,genMainAwaking:""===c},{generals:e,filterContents:t});return d||(({cost:e,belongStateNameShort:t,unitTypeName:a},n)=>{const s=n.belongStates.find(e=>e.nameShort===t),r=n.unitTypes.find(e=>(k[e.name]||e.name[0])===a);return{cost:e&&n.costs.findIndex(t=>t.code===e)?e:"10",belongState:s?s.id:void 0,unitType:r?r.id:void 0}})({cost:r,belongStateNameShort:i,unitTypeName:o},t)},K=[],z=[],Q={action:G.setDecks,selector:e=>{const t=e.deck.deckCards;return 0===t.length?K:t},defaultValue:K,valueToString:e=>{const{datalist:t}=J.getState(),a=(({generals:e,filterContents:t})=>a=>{if("general"in a){const n=e.find(e=>e.id===a.general);if(!n)return"";const s=t.genMains.find(e=>e.id===a.genMain);return[a.pocket?n.pocketCode:n.code,(s?s.code:"")+(a.genMainAwaking?"*":"")].join("_")}const n=t.belongStates.find(e=>e.id===a.belongState),s=n?n.nameShort:"",r=t.unitTypes.find(e=>e.id===a.unitType),i=r?k[r.name]||r.name[0]:"";return["","",a.cost,s,i].join("_")})({generals:t.generals,filterContents:t.filterContents});return e.map(a).filter(e=>e).join("|")},stringToValue:e=>{if(!e)return K;const{datalist:t}=J.getState(),a=X({generals:t.generals,filterContents:t.filterContents});return e.split("|").map(a)}},H={action:G.setAssists,selector:e=>{const t=e.deck.assistDeckCards;return 0===t.length?z:t},defaultValue:z,valueToString:e=>{const{datalist:t}=J.getState(),a=(({assistGenerals:e})=>t=>{const a=e.find(e=>e.id===t.assist);return a?a.code:""})({assistGenerals:t.assistGenerals});return e.map(a).filter(e=>e).join("|")},stringToValue:e=>{if(!e)return z;const{datalist:t}=J.getState(),a=(({assistGenerals:e})=>t=>{var a;const n=e.find(e=>e.code===t),s=null!==(a=null==n?void 0:n.id)&&void 0!==a?a:null;return s?{assist:s}:null})({assistGenerals:t.assistGenerals});return e.split("|").map(a).filter(e=>!!e)}},$={action:e=>G.setDeckConstraints({limitCost:e}),selector:e=>e.deck.deckConstraints.limitCost,defaultValue:80,stringToValue:e=>{try{const t=parseInt(e);if(t>=10&&t<=250&&t%5==0)return t}catch(e){}return 80}},Z={action:e=>G.setDeckConstraints({sameCard:e}),selector:e=>e.deck.deckConstraints.sameCard,defaultValue:"personal",stringToValue:e=>function(e){return I.includes(e)}(e)?e:"personal"},ee={action:e=>G.setDeckConstraints({assistCardLimit:e}),selector:e=>e.deck.deckConstraints.assistCardLimit,defaultValue:1,stringToValue:e=>{try{const t=parseInt(e);if(t>=0&&t<=1&&t%1==0)return t}catch(e){}return 1}},te={action:e=>G.setDeckConstraints({genMainAwakingLimit:e}),selector:e=>e.deck.deckConstraints.genMainAwakingLimit,defaultValue:3,stringToValue:e=>{try{const t=parseInt(e);if(t>=0&&t<=8&&t%1==0)return t}catch(e){}return 3}};let ae=!1;a(163);var ne=a(1),se=a.n(ne),re=a(3),ie=a(111),oe=a(47);a(167);class le extends i.a.PureComponent{constructor(...e){super(...e),this.handleTabClick=e=>{const t=e.currentTarget.dataset.tab;t&&this.props.onTabChanged(t)}}render(){const{tabs:e,activeTab:t}=this.props,a=[];return Object.entries(e).forEach(([e,n])=>{const s=t===e,r="tab-button-".concat(e.toLowerCase()),o=se()([r,{active:s}]);a.push(i.a.createElement("button",{key:e,"data-tab":e,className:o,onClick:this.handleTabClick},n))}),i.a.createElement("div",{className:"card-filter-tabs"},a)}}a(168);const ce=({resetConditions:e,closeFilter:t})=>i.a.createElement("div",{className:"card-filter-actions"},i.a.createElement("button",{className:"action-buton-reset",onClick:e},"リセット"),i.a.createElement("button",{className:"action-buton-ok",onClick:t},"OK"));var de=i.a.memo(ce),me=(a(169),a(31));class ue extends i.a.PureComponent{constructor(...e){super(...e),this.handleInstallPrompt=e=>{this.props.pwaInstallEnabled?this.props.installPrompt():e.stopPropagation()},this.handleOpenUpdateInfo=()=>{this.props.openUpdateInfo()}}render(){const{pwaInstallEnabled:e,showNotice:t}=this.props;return i.a.createElement("ul",{className:"side-menu-list"},i.a.createElement("li",{className:"side-menu-item"},i.a.createElement("a",{href:"./about.html",target:"_blank",rel:"noopener noreferrer"},"このツールについて",i.a.createElement(re.a,{className:"external-link-icon",icon:me.faExternalLinkAlt}))),i.a.createElement("li",{className:"side-menu-item"},i.a.createElement("a",{onClick:this.handleOpenUpdateInfo},"更新情報",i.a.createElement(re.a,{icon:oe.faExclamationCircle,className:se()("notice",{show:t})}))),i.a.createElement("li",{className:"side-menu-item pwa-install"},i.a.createElement("a",{onClick:this.handleInstallPrompt,className:se()({disabled:!e})},"インストールする")))}}function pe(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(a),!0).forEach((function(t){he(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):pe(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function he(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var fe=Object(c.b)(e=>({showNotice:e.window.showNotice,installPromptEvent:e.window.installPromptEvent}),e=>Object(d.b)({openUpdateInfo:()=>v.changeUpdateInfoVisible({openedUpdateInfo:!0}),storeInstallPromptEvent:v.storeInstallPromptEvent},e),(e,t)=>{const a={showNotice:e.showNotice,pwaInstallEnabled:!!e.installPromptEvent},n={openUpdateInfo:t.openUpdateInfo,installPrompt:async()=>{e.installPromptEvent&&(await e.installPromptEvent.prompt(),t.storeInstallPromptEvent(null))}};return ge(ge({},a),n)},{areMergedPropsEqual:()=>!1})(ue),be=(a(170),a(173),a(26)),ye=a(72),ve=(a(174),a(32)),Ce=a(48);const ke="軍師",Ee="控えめな正兵";class Oe extends i.a.PureComponent{constructor(...e){super(...e),this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:a}=this.props;a(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:a,assist:n}=this.props;n&&a(t)},this.handleShowDetail=e=>{e.stopPropagation();const{assist:t,onShowDetail:a}=this.props;t&&a(t)}}render(){var e,t,a,n,s,r;const{index:o,active:l,assist:c}=this.props,d={},m={},u={};c?(d.backgroundColor=c.state.thincolor,m.backgroundColor=c.state.color):m.display="none";const p=null!==(e=null==c||null===(t=c.state)||void 0===t?void 0:t.nameShort)&&void 0!==e?e:"",g=null!==(a=null==c?void 0:c.name)&&void 0!==a?a:0===o?ke:"",h=null!==(n=null==c?void 0:c.avatarUrl)&&void 0!==n?n:void 0;h||(u.display="none");const f=null!==(s=null==c||null===(r=c.strategy)||void 0===r?void 0:r.name)&&void 0!==s?s:0===o?Ee:"",b=!c;return i.a.createElement("div",{className:se()("assist-deck-card",{active:l,"no-assist":b}),style:d,onClick:this.handleActive},i.a.createElement("span",{className:"image"},i.a.createElement("img",{className:"assist-thumb",style:u,src:h})),i.a.createElement("span",{className:"state",style:m},p),i.a.createElement("span",{className:"card-type"},"遊軍"),i.a.createElement("span",{className:"name"},g),i.a.createElement("span",{className:"strategy"},f),i.a.createElement("div",{className:"tool-box"},i.a.createElement("button",{className:"remove",onClick:this.handleRemove},i.a.createElement(re.a,{icon:ve.faMinusCircle,className:"circle-icon"})),i.a.createElement("button",{className:"tool-button show-detail",title:"遊軍詳細",onClick:this.handleShowDetail},i.a.createElement(re.a,{icon:Ce.faInfoCircle}))))}}a(100),a(176);var we=a(49),Ne=a(50),je=a(51);class Pe extends i.a.PureComponent{constructor(...e){super(...e),this.state={moveFrom:null},this.handleSelectGenMain=e=>{const{index:t,onSelectGenMain:a}=this.props;let n=e.currentTarget.value;null!=n&&""!==n||(n=void 0),a(t,n)},this.handleAwakeGenMain=e=>{e.stopPropagation();const{index:t,genMainAwaking:a,enableGenMainAwake:n,onAwakeGenMain:s}=this.props,r=!a;r&&!n||s(t,r)},this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:a}=this.props;a(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:a}=this.props;a(t)},this.handleSearch=e=>{e.stopPropagation();const{index:t,onToggleSearch:a,general:n}=this.props;a(t,{cost:n.raw.cost,belongState:n.raw.state,unitType:n.raw.unit_type})},this.handleShowDetail=e=>{e.stopPropagation(),this.setState({moveFrom:null});const{general:t,onShowDetail:a}=this.props;a(t)},this.handleMoveLeft=e=>{e.stopPropagation(),this.setState({moveFrom:null});const{index:t,onMoveLeft:a}=this.props;a(t)},this.handleMoveRight=e=>{e.stopPropagation(),this.setState({moveFrom:null});const{index:t,onMoveRight:a}=this.props;a(t)}}componentDidUpdate(e){if(e===this.props)return;const t=e.index-this.props.index;0===t?this.setState({moveFrom:null}):this.setState({moveFrom:t>0?"right":"left"})}render(){const{index:e,general:t,additionalParams:a,genMain:n,genMainAwaking:s,genMainAwakingCount:r,active:o,search:l,pocket:c,enableMoveLeft:d,enableMoveRight:m,enableGenMainAwake:u}=this.props,p={backgroundColor:t.state.thincolor},g=t.state.color,h={backgroundColor:g},f=[g,"".concat(g," 30px"),"transparent 92px","transparent"].join(","),b={background:"linear-gradient(-30deg, ".concat(f,")")},y=[];t.skills.forEach(e=>{y.push(i.a.createElement("span",{className:"skill",key:e.id},e.nameShort))}),0===y.length&&y.push(i.a.createElement("span",{className:"no-skill",key:0},"特技なし"));const v=[];t.genMains.forEach((e,a)=>{const n=t.genMainSp||e;v.push(i.a.createElement("option",{value:e.id,key:a},n.nameShort))});const C=null!=n?n:"",k=null!=t.genMainSp?"奇才将器":"主将器",E=this.state.moveFrom,O=e%2==0?"even":"odd",w=Array(r).fill(0).map((e,t)=>i.a.createElement("span",{key:t,className:"diamond"}));let N;return N=s?"gen-main-awaking":u?"gen-main-not-awaking":"gen-main-disable-awaking",i.a.createElement("div",{className:se()("deck-card",O,{active:o,"from-right":"right"===E,"from-left":"left"===E}),style:p,onClick:this.handleActive},i.a.createElement("div",{className:"deck-card-inner-top"},i.a.createElement("img",{className:"general-thumb",src:t.thumbUrl(c)}),i.a.createElement("div",{className:"shadow",style:b}),i.a.createElement("span",{className:"state",style:h},t.state.nameShort),i.a.createElement("span",{className:"version",style:h},t.version),i.a.createElement("span",{className:"cost","data-label":"コスト"},t.cost.name),i.a.createElement("span",{className:"unit","data-label":"兵種"},t.unitType.nameShort),i.a.createElement("span",{className:"name"},i.a.createElement("span",{className:"rarity"},t.rarity.name),t.name)),i.a.createElement("div",{className:"deck-card-inner-bottom"},i.a.createElement("span",{className:se()("force",{additional:a.force>0}),"data-label":"武"},t.force+a.force),i.a.createElement("span",{className:se()("intelligence",{additional:a.intelligence>0}),"data-label":"知"},t.intelligence+a.intelligence),i.a.createElement("span",{className:se()("conquest",{additional:a.conquest>0}),"data-label":"制圧"},t.conquest+a.conquest),i.a.createElement("span",{className:"skills"},y),i.a.createElement("span",{className:"gen-mains","data-label":k},i.a.createElement("span",{className:"gen-mains-select-wrapper"},i.a.createElement("select",{className:"gen-mains-select",value:C,onChange:this.handleSelectGenMain},i.a.createElement("option",{value:""}),v)),i.a.createElement("button",{className:se()("awake-gen-main",N),onClick:this.handleAwakeGenMain},i.a.createElement("span",{className:"diamonds"},w),i.a.createElement("span",{className:"label"},"将器覚醒")))),i.a.createElement("div",{className:"tool-box"},i.a.createElement("button",{className:"remove",onClick:this.handleRemove},i.a.createElement(re.a,{icon:ve.faMinusCircle,className:"circle-icon"})),i.a.createElement("button",{className:se()("tool-button","search",{enable:l}),title:"勢力・コスト・兵種で絞り込み",onClick:this.handleSearch},i.a.createElement(re.a,{icon:we.faSearch})),i.a.createElement("button",{className:"tool-button show-detail",title:"武将詳細",onClick:this.handleShowDetail},i.a.createElement(re.a,{icon:Ce.faInfoCircle})),i.a.createElement("button",{className:se()("tool-button","move-left",{enabled:d}),title:"左へ移動",onClick:this.handleMoveLeft},i.a.createElement(re.a,{icon:Ne.faArrowLeft})),i.a.createElement("button",{className:se()("tool-button","move-right",{enabled:m}),title:"右へ移動",onClick:this.handleMoveRight},i.a.createElement(re.a,{icon:je.faArrowRight}))))}}a(177);class De extends i.a.PureComponent{constructor(...e){super(...e),this.state={moveFrom:null},this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:a}=this.props;a(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:a}=this.props;a(t)},this.handleSearch=e=>{e.stopPropagation();const{index:t,onToggleSearch:a,deckCard:n}=this.props;a(t,n)},this.handleMoveLeft=e=>{e.stopPropagation(),this.setState({moveFrom:null});const{index:t,onMoveLeft:a}=this.props;a(t)},this.handleMoveRight=e=>{e.stopPropagation(),this.setState({moveFrom:null});const{index:t,onMoveRight:a}=this.props;a(t)},this.handleChangeDeckValue=e=>{const{index:t,setDeckValue:a}=this.props,n=e.currentTarget.name;let s=e.currentTarget.value;""===s&&(s=void 0),a(t,{[n]:s})}}componentDidUpdate(e){if(e===this.props)return;const t=e.index-this.props.index;0===t?this.setState({moveFrom:null}):this.setState({moveFrom:t>0?"right":"left"})}render(){const{index:e,deckCard:t,active:a,search:n,belongStates:s,costs:r,unitTypes:o,enableMoveLeft:l,enableMoveRight:c}=this.props,d={},m={},u=t.belongState?s.find(e=>e.id===t.belongState):void 0,p=t.cost?r.find(e=>e.id===t.cost):void 0,g=t.unitType?o.find(e=>e.id===t.unitType):void 0;let h="",f="",b=!1;u&&(d.backgroundColor=u.thincolor,m.backgroundColor=u.color,h=u.id,f=u.nameShort||"",b=!0);let y="";p&&(y=p.name);const v={};let C="",k="";g?(C=g.id,k=g.nameShort||""):v.display="none";const E=[];s.forEach((e,t)=>{E.push(i.a.createElement("option",{value:e.id,key:t},e.name))});const O=[];r.forEach((e,t)=>{O.push(i.a.createElement("option",{value:e.id,key:t},e.name))});const w=[];o.forEach((e,t)=>{w.push(i.a.createElement("option",{value:e.id,key:t},e.nameShort||e.name))});const N=this.state.moveFrom,j=e%2==0?"even":"odd";return i.a.createElement("div",{className:se()("deck-card","deck-dummy-card",j,{"has-state":b,active:a,"from-right":"right"===N,"from-left":"left"===N}),style:d,onClick:this.handleActive},i.a.createElement("div",{className:"deck-card-inner-top",style:m},i.a.createElement("span",{className:"state"},f),i.a.createElement("span",{className:"cost","data-label":"コスト"},y),i.a.createElement("span",{className:"unit",style:v,"data-label":"兵種"},k)),i.a.createElement("div",{className:"deck-card-inner-bottom"}),i.a.createElement("div",{className:"deck-dummy-edit"},i.a.createElement("span",{className:"select-item-container","data-label":"勢力"},i.a.createElement("select",{className:"select-item",name:"belongState",value:h,onChange:this.handleChangeDeckValue},i.a.createElement("option",{value:""}),E)),i.a.createElement("span",{className:"select-item-container","data-label":"コスト"},i.a.createElement("select",{className:"select-item",name:"cost",value:t.cost,onChange:this.handleChangeDeckValue},O)),i.a.createElement("span",{className:"select-item-container","data-label":"兵種"},i.a.createElement("select",{className:"select-item",name:"unitType",value:C,onChange:this.handleChangeDeckValue},i.a.createElement("option",{value:""}),w))),i.a.createElement("div",{className:"tool-box"},i.a.createElement("button",{className:"remove",onClick:this.handleRemove},i.a.createElement(re.a,{icon:ve.faMinusCircle,className:"circle-icon"})),i.a.createElement("button",{className:se()("tool-button","search",{enable:n}),title:"勢力・コスト・兵種で絞り込み",onClick:this.handleSearch},i.a.createElement(re.a,{icon:we.faSearch})),i.a.createElement("button",{className:se()("tool-button","move-left",{enabled:l}),title:"左へ移動",onClick:this.handleMoveLeft},i.a.createElement(re.a,{icon:Ne.faArrowLeft})),i.a.createElement("button",{className:se()("tool-button","move-right",{enabled:c}),title:"右へ移動",onClick:this.handleMoveRight},i.a.createElement(re.a,{icon:je.faArrowRight}))))}}function Se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(a),!0).forEach((function(t){Me(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Me(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ae=Object(c.b)(e=>({generals:e.datalist.generals,belongStates:e.datalist.filterContents.belongStates,costs:e.datalist.filterContents.costs,unitTypes:e.datalist.filterContents.unitTypes}),e=>Object(d.b)({setDeckDummyValue:G.setDeckDummyValue},e),(e,t,a)=>{const n=e,s={setDeckValue:t.setDeckDummyValue};return xe(xe(xe({},n),s),a)})(De);class Ie extends i.a.Component{render(){return i.a.createElement("div",{className:"deck-board"},this.renderAssistDeckCardList(),this.renderDeckCardList(),this.renderDeckTotal())}renderAssistDeckCardList(){const{assistDeckCards:e,activeAssistIndex:t,setActiveAssistCard:a,removeDeckAssist:n,showAssistDetail:s,openDeckConfig:r}=this.props,o=[];e.forEach((e,r)=>{const l=t===r;o.push(i.a.createElement(Oe,{key:r,index:r,assist:e.assist,active:l,onActive:a,onRemoveDeck:n,onShowDetail:s}))});const l={};return 0===e.length&&(l.display="none"),i.a.createElement("div",{className:"assist-deck-card-list",style:l},o,i.a.createElement("div",{className:"open-deck-config button",onClick:r},i.a.createElement(re.a,{icon:ye.faCog})))}renderDeckCardList(){const{deckCards:e,activeIndex:t,enableSearch:a,enabledAddDeck:n,totalAwakingGenMainCount:s,genMainAwakingLimit:r,assistDeckCards:o,addDeckDummy:l,clearDeck:c,openDeckConfig:d,selectGenMain:m,awakeGenMain:u,setActiveCard:p,removeDeck:g,toggleSearch:h,showDetail:f,moveLeft:b,moveRight:y}=this.props,v=[];e.forEach((n,o)=>{const l=t===o,c=0===o,d=o===e.length-1,C=n.key;if("general"in n){const{general:e,additionalParams:t,genMain:k,genMainAwaking:E,genMainAwakingCount:O,pocket:w}=n,N=E||r>=O+s;v.push(i.a.createElement(Pe,{key:C,index:o,active:l,search:l&&a,genMain:k,genMainAwaking:E,genMainAwakingCount:O,general:e,additionalParams:t,pocket:w,enableMoveLeft:!c,enableMoveRight:!d,enableGenMainAwake:N,onSelectGenMain:m,onAwakeGenMain:u,onActive:p,onRemoveDeck:g,onToggleSearch:h,onShowDetail:f,onMoveLeft:b,onMoveRight:y}))}else v.push(i.a.createElement(Ae,{key:C,index:o,active:l,search:l&&a,deckCard:n,enableMoveLeft:!c,enableMoveRight:!d,onActive:p,onRemoveDeck:g,onToggleSearch:h,onMoveLeft:b,onMoveRight:y}))});const C={};return o.length>0&&(C.display="none"),i.a.createElement("div",{className:"deck-card-list"},v,i.a.createElement("div",{className:"deck-actions"},i.a.createElement("div",{className:"deck-clear button",onClick:c},"クリア"),i.a.createElement("div",{className:se()("add-new-deck-card","button",{disabled:!n}),onClick:l},"追加",i.a.createElement(re.a,{icon:be.faPlusCircle})),i.a.createElement("div",{style:C,className:"open-deck-config button",onClick:d},i.a.createElement(re.a,{icon:ye.faCog})),i.a.createElement("div",{className:se()("deck-awaking-gen-main",{"over-limit":s>r}),"data-label":"将器ポイント"},s,"/",r)))}renderDeckTotal(){const{totalForce:e,totalIntelligence:t,intelligenceByGenMain:a,totalConquest:n,conquestByGenMain:s,conquestRank:r,totalCost:o,limitCost:l,maxMorale:c,maxMoraleByGenMain:d,tolalMoraleByCharm:m,tolalMoraleByGenMain:u,hasDummy:p,hasStateDummy:g}=this.props;let h=o-l,f="残り",b=!1,y=!1;h>0?(f="コストオーバー",b=!0):h<0&&(h*=-1,y=!0);const v=(m+u)/100,C=m/100,k=u/100;return i.a.createElement("div",{className:"deck-total"},i.a.createElement("div",{className:"total","data-label":"総武力"},i.a.createElement("span",{className:se()("force",{dummy:p})},e)),i.a.createElement("div",{className:"total","data-label":"総知力"},i.a.createElement("span",{className:se()("has-gen-main",{active:a>0})},"将器込み"),i.a.createElement("span",{className:se()("intelligence",{dummy:p})},t,i.a.createElement("span",{className:se()("breakdown",{active:a>0})},"(",t-a,i.a.createElement("span",{className:"addition-by-gen-main"},"+",a),")"))),i.a.createElement("div",{className:"total","data-label":"総征圧力"},i.a.createElement("span",{className:se()("has-gen-main",{active:s>0})},"将器込み"),i.a.createElement("span",{className:se()("conquest-rank",{dummy:p})},r),i.a.createElement("span",{className:se()("conquest",{dummy:p})},n,i.a.createElement("span",{className:se()("breakdown",{active:s>0})},"(",n-s,i.a.createElement("span",{className:"addition-by-gen-main"},"+",s),")"))),i.a.createElement("div",{className:"total total-cost","data-label":"総コスト"},i.a.createElement("span",{className:"cost"},(o/10).toFixed(1)),i.a.createElement("span",{className:se()("cost-remain",{over:b,under:y})},"(",f," ",(h/10).toFixed(1),")")),i.a.createElement("div",{className:"total","data-label":"最大士気"},i.a.createElement("span",{className:se()("has-gen-main",{active:d>0})},"将器込み"),i.a.createElement("span",{className:se()("max-morale",{dummy:g})},c,i.a.createElement("span",{className:se()("breakdown",{active:d>0})},"(",c-d,i.a.createElement("span",{className:"addition-by-gen-main"},"+",d),")"))),i.a.createElement("div",{className:"total","data-label":"開幕士気"},i.a.createElement("span",{className:se()("has-gen-main",{active:k>0})},"将器込み"),i.a.createElement("span",{className:"start-morale"},v,i.a.createElement("span",{className:se()("breakdown",{active:k>0})},"(",C,i.a.createElement("span",{className:"addition-by-gen-main"},"+",k),")"))))}}var Te=function(e,t=null){return e.length-(null!=t?1:0)<8};function Ve(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(a),!0).forEach((function(t){Re(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ve(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Re(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Le={intelligence:0,conquest:0},Be={states:{},morale:0,maxMorale:0},_e=Ge(Ge({},Be),{},{description:"",self:Le}),Fe={"64577c9cf5034bd53dea21522ffa5fa8":Ge(Ge({},Be),{},{description:"知力が上がる",self:Ge(Ge({},Le),{},{intelligence:3})}),"7f4a12c7f93d7629d7cb63bc03ffd877":Ge(Ge({},Be),{},{description:"戦闘開始時に士気が上がる",self:Le,morale:40}),"53713eb7257682080cd1da1e4f775026":Ge(Ge({},Be),{},{description:"征圧力が上がる",self:Ge(Ge({},Le),{},{conquest:1})}),"4dfe295dd8c2a8a3d52a6409ee8f4541":Ge(Ge({},Be),{},{description:"最大士気が上がる\nただし12より多くならない",self:Le,maxMorale:2})},qe={b25b1cafbf36743d7a5f95aff4016436:Ge(Ge({},Be),{},{description:"魏の味方の知力が上がり\n自身の征圧力が上がる",self:Ge(Ge({},Le),{},{conquest:2}),states:{c27df45cf8cd8895e643247f78749d47:Ge(Ge({},Le),{},{intelligence:1})}}),"8ddce862a12db91174487dbc91fae9af":Ge(Ge({},Be),{},{description:"呉の味方の知力が上がる",self:Le,states:{"8d4d2c028f86d6f5c0f5557234853d4e":Ge(Ge({},Le),{},{intelligence:2})}})};function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function We(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(a),!0).forEach((function(t){Ye(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ye(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Je(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var Xe=Object(c.b)(e=>({deckCards:e.deck.deckCards,assistDeckCards:e.deck.assistDeckCards,enableSearch:null!=e.deck.searchCondition,activeIndex:e.deck.activeIndex,activeAssistIndex:e.deck.activeAssistIndex,generals:e.datalist.generals,assistGenerals:e.datalist.assistGenerals,filterContents:e.datalist.filterContents,limitCost:e.deck.deckConstraints.limitCost,assistCardLimit:e.deck.deckConstraints.assistCardLimit,genMainAwakingLimit:e.deck.deckConstraints.genMainAwakingLimit,genMainSpAwakingCount:e.deck.deckConstraints.genMainSpAwakingCount}),e=>Object(d.b)({openDeckConfig:()=>v.changeDeckConfigVisible({openedDeckConfig:!0}),selectGenMain:G.selectGenMain,awakeGenMain:G.awakeGenMain,setActiveCard:G.setActiveCard,removeDeck:G.removeDeck,rawAddDeckDummy:G.addDeckDummy,setActiveAssistCard:G.setActiveAssistCard,removeDeckAssist:G.removeDeckAssist,clearDeck:G.clearDeck,searchByDeck:G.searchByDeck,showDetail:v.openGeneralDetail,showAssistDetail:v.openAssistGeneralDetail,moveLeft:e=>G.moveDeckIndex({index:e,direction:"left"}),moveRight:e=>G.moveDeckIndex({index:e,direction:"right"}),resetPage:D.resetPage,showDialog:Y.showDialog},e),(e,t)=>{const{deckCards:a,assistDeckCards:n,enableSearch:s,activeIndex:r,activeAssistIndex:i,generals:o,assistGenerals:l,limitCost:c,assistCardLimit:d,genMainAwakingLimit:m,genMainSpAwakingCount:u}=e,{rawAddDeckDummy:p,clearDeck:g,searchByDeck:h,resetPage:f,showDialog:b}=t,y=Je(t,["rawAddDeckDummy","clearDeck","searchByDeck","resetPage","showDialog"]),v=Te(a);let C=0,k=0,E=0,O=0,w=0,N=0,j=0,P=!1,D=!1;const S=[],x=[],M=new Set,A=new Map,I=new Map;if(a.forEach(e=>{let t;if("general"in e){const{general:n}=e,s=Je(e,["general"]),r=null!=e.general?o.find(e=>e.id===n):void 0;if(!r)return;C+=r.force,k+=r.intelligence,E+=r.conquest,t=r.raw.cost,M.add(r.raw.state);const i=s.genMain,l=null!=r.genMainSp?u:1;s.genMainAwaking&&(j+=l);const c={force:0,intelligence:0,conquest:0};if(null!=i&&s.genMainAwaking){const e=r.genMains.find(e=>e.id===i);if(e){const t=null!=r.genMainSp?(a=r.genMainSp).code&&qe[a.code]||_e:function(e){return e.code&&Fe[e.code]||_e}(e);c.intelligence+=t.self.intelligence,c.conquest+=t.self.conquest;for(const[e,a]of Object.entries(t.states)){const t=I.get(e)||{intelligence:0,conquest:0};t.intelligence+=a.intelligence,t.conquest+=a.conquest,I.set(e,t)}w+=t.morale,N+=t.maxMorale}}r.skills.forEach(e=>{const t=A.get(e.name)||0;A.set(e.name,t+1)}),S.push(We(We({},s),{},{general:r,genMainAwakingCount:l,additionalParams:c}))}else P=!0,t=e.cost,e.belongState?M.add(e.belongState):D=!0,S.push(e);var a;O+=parseInt(t)}),S.forEach(e=>{if(!("general"in e))return;const t=e.general.state.code;if(!t)return;const a=I.get(t);a&&(e.additionalParams.intelligence+=a.intelligence,e.additionalParams.conquest+=a.conquest)}),n.forEach(({assist:e})=>{const t=l.find(t=>t.id===e);t&&x.length<d&&(x.push({assist:t}),M.add(t.raw.state))}),x.length<d){const e=d-x.length;for(let t=0;t<e;t++)x.push({assist:null})}const T=M.size+(D?1:0);let V;1===T?V=12:2===T?V=9:(D=!1,V=6),V+N>=12?(N=12-V,V=12):V+=N;const G=40*(A.get("魅力")||0);let R;R=E>=11?"S":E>=9?"A":E>=7?"B":"C";const L=S.reduce((e,t)=>{if("additionalParams"in t){const a=t.additionalParams;return{intelligence:e.intelligence+a.intelligence,conquest:e.conquest+a.conquest}}return e},{intelligence:0,conquest:0});k+=L.intelligence,E+=L.conquest;const B={deckCards:S,assistDeckCards:x,activeIndex:r,activeAssistIndex:i,enabledAddDeck:v,enableSearch:s,totalForce:C,totalIntelligence:k,intelligenceByGenMain:L.intelligence,totalConquest:E,conquestByGenMain:L.conquest,conquestRank:R,totalCost:O,limitCost:c,maxMorale:V,maxMoraleByGenMain:N,tolalMoraleByCharm:G,tolalMoraleByGenMain:w,hasDummy:P,hasStateDummy:D,totalAwakingGenMainCount:j,genMainAwakingLimit:m},_=We(We({},y),{},{addDeckDummy:()=>{if(!v)return;let e,t,a="10";const{costs:n,belongStates:s,unitTypes:r}=J.getState().datalist.filterCondition.basic;n.length>=1&&(a=[...n].sort()[0]),1===s.length&&(e=s[0]),1===r.length&&(t=r[0]),p({cost:a,belongState:e,unitType:t})},clearDeck:()=>{S.length>0&&b({title:"デッキクリア",message:"現在デッキに設定中のカードをすべて削除します。",redText:"クリア",actionRed:()=>{g()},blueText:"キャンセル",actionBlue:()=>{}})},toggleSearch:(e,t)=>{f(),r===e&&s?y.setActiveCard(e):h(e,t)}});return We(We({},B),_)},{areMergedPropsEqual:()=>!1})(Ie),Ke=function(e,t){return null!=e.activeIndex?"general":null!=e.activeAssistIndex?"assist":t.searchMode};const ze=()=>{return e=0,new Promise(t=>setTimeout(t,e));var e};a(178);class Qe extends i.a.PureComponent{constructor(...e){super(...e),this.scrollArea=i.a.createRef(),this.handleOnPagePrev=e=>{e.stopPropagation(),this.props.onPagePrev()},this.handleOnPageNext=e=>{e.stopPropagation(),this.props.onPageNext()},this.handleOnScroll=()=>{Object(m.forceCheck)()}}componentDidUpdate(e){const t=this.isChangedList(e),a=this.scrollArea.current;t&&a&&(a.scrollTop=0),Object(m.forceCheck)()}extraPartRender(){return i.a.createElement(i.a.Fragment,null)}render(){const{count:e,searchedAll:t,searchedOffset:a,searchedLimit:n,hasPrev:s,hasNext:r,show:o}=this.props,l=this.createCardElements();0===e&&l.push(i.a.createElement("div",{key:-1,className:"no-generals"},"該当なし"));const c=t>0?a+1:0;let d=a+n;d>t&&(d=t);const m={};return o||(m.display="none"),i.a.createElement("div",{className:"cardlist-container",style:m,onScroll:this.handleOnScroll},this.extraPartRender(),i.a.createElement("div",{className:"cardlist-paging"},i.a.createElement("button",{className:se()("paging-button","prev",{active:s}),onClick:this.handleOnPagePrev},"< 前"),i.a.createElement("div",{className:"pageing-label"},"全",t,"件 ",c," - ",d,"件"),i.a.createElement("button",{className:se()("paging-button","next",{active:r}),onClick:this.handleOnPageNext},"次 >")),i.a.createElement("div",{className:"cardlist-main",ref:this.scrollArea},l))}}a(179);var He=a(39);function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(a),!0).forEach((function(t){et(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function et(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class tt extends i.a.PureComponent{constructor(...e){super(...e),this.handleAddDeckClick=e=>{const{general:t,onAddDeck:a}=this.props;e.stopPropagation();const n=e.currentTarget.dataset.genMain;a({general:t.id,genMain:n,genMainAwaking:!1,pocket:!1})}}render(){const{general:e,enabledAddDeck:t}=this.props,a=[];e.genMains.forEach((n,s)=>{const r=e.genMainSp||n;a.push(i.a.createElement("button",{className:"gen-main",key:s,disabled:!t,"data-gen-main":n.id,onClick:this.handleAddDeckClick},r.nameShort,i.a.createElement(re.a,{className:"add-icon",icon:be.faPlusCircle}),i.a.createElement(re.a,{className:"change-icon",icon:He.faSyncAlt})))});const n=null!=e.genMainSp?"奇才将器":"主将器";return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"gen-mains","data-label":n},a),i.a.createElement("span",{className:"buttons"},i.a.createElement("button",{className:"add-deck",disabled:!t,onClick:this.handleAddDeckClick},i.a.createElement(re.a,{className:"add-icon",icon:be.faPlusCircle}),i.a.createElement(re.a,{className:"change-icon",icon:He.faSyncAlt}))))}}var at=Object(c.b)(e=>({generals:e.datalist.generals,assistGenerals:e.datalist.assistGenerals,deckCards:e.deck.deckCards,assistDeckCards:e.deck.assistDeckCards,assistCardLimit:e.deck.deckConstraints.assistCardLimit,activeIndex:e.deck.activeIndex,activeAssistIndex:e.deck.activeAssistIndex,sameCard:e.deck.deckConstraints.sameCard}),e=>Object(d.b)({addDeckGeneral:G.addDeckGeneral,changeDeckGeneral:G.changeDeckGeneral},e),(e,t,a)=>{const{deckCards:n,assistDeckCards:s,activeIndex:r,activeAssistIndex:i,sameCard:o}=e,{general:l}=a,c=function(e,t){const{generals:a,activeIndex:n}=e,s=[];return t.forEach((e,t)=>{n!==t&&"general"in e&&s.push(e.general)}),a.filter(e=>s.includes(e.id)).map(e=>{const{personal:t,strat:a}=e.raw;return{personal:t,strat:a}})}(e,n),d=function(e,t){const{assistGenerals:a,assistCardLimit:n}=e,s=t.filter((e,t)=>t<n).map(e=>e.assist);return a.filter(e=>s.includes(e.id)).map(e=>e.raw.personal)}(e,s),m=null==i&&Te(n,r)&&function(e,t,a,n){if("personal-strategy"!==n&&"personal-assist"!==n){if(a.some(t=>t===e.raw.personal))return!1}return"personal-strategy"===n||"personal-strategy-exclude-assist"===n?!t.some(t=>t.personal===e.raw.personal&&t.strat===e.raw.strat):!t.some(t=>t.personal===e.raw.personal)}(l,c,d,o),u={onAddDeck:e=>{m&&(null!=r?t.changeDeckGeneral(r,e):t.addDeckGeneral(e))}};return Ze(Ze(Ze({},{enabledAddDeck:m}),u),a)},{areMergedPropsEqual:(e,t)=>!e.show&&!t.show})(tt);class nt extends i.a.PureComponent{render(){const{genMains:e,genMainSp:t,officialUrl:a}=this.props,n=[];e.forEach((e,a)=>{const s=t||e;n.push(i.a.createElement("span",{className:"gen-main-readonly",key:a},s.nameShort))});const s=null!=t?"奇才将器":"主将器";return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"gen-mains","data-label":s},n),i.a.createElement("span",{className:"externals"},i.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},"公式",i.a.createElement("br",null),"サイトへ",i.a.createElement(re.a,{icon:me.faExternalLinkAlt}))))}}class st extends i.a.PureComponent{constructor(...e){super(...e),this.handleGeneralClick=()=>{const{general:e,onShowDetail:t}=this.props;t&&t(e)}}render(){const{general:e,show:t,showStrategyExplanation:a,showAddButtons:n}=this.props,s=n,r={backgroundColor:e.state.thincolor},o={backgroundColor:e.state.color};null==t||t||(r.display="none");const l=[];e.skills.forEach(e=>{l.push(i.a.createElement("span",{className:"skill",key:e.id},e.nameShort))}),0===l.length&&l.push(i.a.createElement("span",{className:"no-skill",key:0},"特技なし"));const c=e.strategy.name,d=e.strategy.stratCategoryName,m=e.strategy.morale,p=e.strategy.explanation,g=[];p.split("\n").forEach((e,t)=>{g.push(i.a.createElement("span",{key:t},e))});const h=n?i.a.createElement(at,{general:e,show:t}):i.a.createElement(nt,{genMains:e.genMains,genMainSp:e.genMainSp,officialUrl:e.officialUrl});return i.a.createElement("div",{className:se()("general-card",{clickable:s}),style:r,onClick:this.handleGeneralClick},i.a.createElement("span",{className:"state",style:o},e.state.nameShort),i.a.createElement("span",{className:"version"},e.version),i.a.createElement("span",{className:"rarity"},e.rarity.name),i.a.createElement("span",{className:"name"},e.name),i.a.createElement("span",{className:"image"},i.a.createElement(u.a,{height:64,once:!0,scroll:!1,resize:!1,placeholder:i.a.createElement("div",{className:"no-image general-thumb"})},i.a.createElement("img",{className:"general-thumb",src:e.avatarUrl(!1)}))),i.a.createElement("span",{className:"cost","data-label":"コスト"},e.cost.name),i.a.createElement("span",{className:"unit","data-label":"兵種"},e.unitType.nameShort),i.a.createElement("span",{className:"force","data-label":"武"},e.force),i.a.createElement("span",{className:"intelligence","data-label":"知"},e.intelligence),i.a.createElement("span",{className:"conquest","data-label":"制圧"},e.conquest),i.a.createElement("span",{className:"skills"},l),i.a.createElement("span",{className:se()("strategy",{show:!a}),"data-label":"計略名",title:p},c),i.a.createElement("span",{className:se()("strategy-category",{show:!a})},"[",d,"]"),i.a.createElement("span",{className:se()("strategy-explanation",{show:a})},g),i.a.createElement("span",{className:"strategy-morale","data-label1":"必要","data-label2":"士気"},m),h)}}a(67);var rt=a(52),it=a(54);function ot(e,t){if(null==e)return!1;return t.split(/\s+/g).filter(e=>e.length>0).every(t=>e.includes(t))}var lt=(e,t)=>{const{moraleMin:a,moraleMax:n,strategyCategories:s,strategyRanges:r,strategyTimes:i,strategySearchName:o,strategySearchExplanation:l}=t;return!(a>e.morale)&&(!(n<e.morale)&&(!(s.length>0&&!s.includes(e.stratCategory))&&(!(r.length>0&&!r.includes(e.stratRange))&&(!(i.length>0&&!i.includes(e.stratTime))&&(!(o.length>0&&!ot(e.name,o)&&(c=e.nameRuby,d=o,null==c||!d.split(/\s+/g).filter(e=>e.length>0).map(e=>Object(rt.a)(Object(it.a)(e),!0).replace(/[ﾞﾟ]/g,"")).every(e=>c.includes(e))))&&!(l.length>0&&!ot(e.explanation,l)))))));var c,d};var ct=(e,t)=>{const{belongStates:a,costs:n,unitTypes:s,forceMin:r,forceMax:i,useCostRatioForce:o,costRatioForceMin:l,costRatioForceMax:c,costRatioBaseForces:d,intelligenceMin:m,intelligenceMax:u,conquestMin:p,conquestMax:g,skills:h,skillsAnd:f,searchText:b}=t.basic,{raw:y}=e;if(a.length>0&&!a.includes(y.state))return!1;if(n.length>0&&!n.includes(y.cost))return!1;if(s.length>0&&!s.includes(y.unit_type))return!1;if(o){const t=d[e.raw.cost];if(null==t)return!1;const a=e.force-t;if(l>a)return!1;if(c<a)return!1}else{if(r>e.force)return!1;if(i<e.force)return!1}if(m>e.intelligence)return!1;if(u<e.intelligence)return!1;if(p>e.conquest)return!1;if(g<e.conquest)return!1;if(h.length>0){const t=t=>"0"===t?0===e.skills.length:e.skills.map(e=>e.id).includes(t);if(f){if(!h.every(t))return!1}else if(!h.some(t))return!1}const{genMains:v,genMainsAnd:C,rarities:k,generalTypes:E,varTypes:O,versions:w,majorVersions:N,enableDetailVersion:j,pockets:P}=t.detail;if(k.length>0&&!k.includes(y.rarity))return!1;if(j){if(w.length>0&&!w.includes(e.versionValue))return!1}else if(N.length>0&&!N.includes(y.major_version))return!1;if(v.length>0){const t=t=>e.genMains.map(e=>e.id).includes(t);if(C){if(!v.every(t))return!1}else if(!v.some(t))return!1}if(E.length>0&&!E.includes(y.general_type))return!1;if(O.length>0&&!O.includes(y.ver_type))return!1;if(1===P.length&&"1"===P[0]!=(""!==y.pocket_code))return!1;if(b.length>0){if(null==e.personal)return!1;if(!function(e,t){return null!=e&&t.split(/\s+/g).filter(e=>e.length>0).some(t=>e.includes(t))}(e.personal.name,b)&&!function(e,t){return null!=e&&t.split(/\s+/g).filter(e=>e.length>0).map(e=>Object(rt.a)(Object(it.a)(e),!0).replace(/[ﾞﾟ]/g,"")).some(t=>e.includes(t))}(e.personal.name_ruby,b))return!1}return!0};function dt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(a),!0).forEach((function(t){ut(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ut(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const pt={areMergedPropsEqual:(e,t)=>{return e.show===t.show&&(e.showStrategyExplanation===t.showStrategyExplanation&&(e.searchedAll===t.searchedAll&&(e.searchedOffset===t.searchedOffset&&(a=e.searchedGeneralIds,n=t.searchedGeneralIds,!(a.length!==n.length||!a.every(e=>n.includes(e)))))));var a,n}};var gt=Object(c.b)(e=>({generals:e.datalist.generals,strategies:e.datalist.strategies,currentPage:e.datalist.currentPage,pageLimit:e.datalist.pageLimit,filterCondition:e.datalist.effectiveFilterCondition,searchMode:Ke(e.deck,e.datalist.effectiveFilterCondition),deckSearchCondition:e.deck.searchCondition}),e=>Object(d.b)({decrementPage:D.decrementPage,incrementPage:D.incrementPage,openGeneralDetail:v.openGeneralDetail},e),(e,t)=>{const{generals:a,strategies:n,currentPage:s,pageLimit:r,filterCondition:i,searchMode:o,deckSearchCondition:l}=e;let c=i;l&&(c=mt(mt({},c),{},{basic:mt({},c.basic)}),null!=l.belongState&&(c.basic.belongStates=[l.belongState]),c.basic.costs=[l.cost],null!=l.unitType&&(c.basic.unitTypes=[l.unitType]));const d=n.filter(e=>lt(e,c.strategies));let m=[];if(d.length>0){const e=d.length!==n.length?d.map(e=>e.id):void 0;m=a.filter(t=>!(e&&!e.includes(t.strategy.id))&&ct(t,c)).map(e=>e.id)}const u=m.length,p=(s-1)*r,g=p>0,h=p+r<u;m=m.slice(p,p+r);const f={generals:a,count:m.length,searchedGeneralIds:m,searchedAll:u,searchedOffset:p,searchedLimit:r,hasPrev:g,hasNext:h,show:"general"===o,showStrategyExplanation:c.strategies.showStrategyExplanation},b={onPagePrev:t.decrementPage,onPageNext:t.incrementPage,showGeneralDetail:t.openGeneralDetail};return mt(mt({},f),b)},pt)(class extends Qe{constructor(...e){super(...e),this.state={renderingCount:0},this.handleOnShowDetail=e=>{this.props.showGeneralDetail(e)}}async componentDidUpdate(e){const{generals:t}=this.props;if(t.length!==e.generals.length){const e=25;await ze();for(let a=0;a<t.length;a+=e)this.setState({renderingCount:a}),await ze();this.setState({renderingCount:t.length})}super.componentDidUpdate(e)}extraPartRender(){const e=this.props.generals.length,t=this.state.renderingCount;return e===t?i.a.createElement(i.a.Fragment,null):i.a.createElement("div",{className:"reading-generals"},"武将読み込み中 ",t,"/",e)}createCardElements(){const{generals:e,searchedGeneralIds:t,showStrategyExplanation:a}=this.props,{renderingCount:n}=this.state,s=[];return e.forEach((e,r)=>{if(n<=r)return;const o=t.includes(e.id);s.push(i.a.createElement(st,{key:e.id,general:e,onShowDetail:this.handleOnShowDetail,show:o,showStrategyExplanation:a,showAddButtons:!0}))}),s}isChangedList(e){const t=this.props.searchedGeneralIds,a=e.searchedGeneralIds;return!(t.length===a.length&&t.every(e=>a.includes(e)))}});a(184);function ht(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(a),!0).forEach((function(t){bt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ht(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function bt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class yt extends i.a.PureComponent{constructor(...e){super(...e),this.handleAddDeckClick=e=>{const{assist:t,onAddDeck:a}=this.props;e.stopPropagation(),a({assist:t.id})}}render(){const{enabledAddDeck:e}=this.props;return i.a.createElement("span",{className:"buttons"},i.a.createElement("button",{className:"add-deck",disabled:!e,onClick:this.handleAddDeckClick},i.a.createElement(re.a,{className:"add-icon",icon:be.faPlusCircle}),i.a.createElement(re.a,{className:"change-icon",icon:He.faSyncAlt})))}}var vt=Object(c.b)(e=>({generals:e.datalist.generals,assistGenerals:e.datalist.assistGenerals,deckCards:e.deck.deckCards,assistDeckCards:e.deck.assistDeckCards,assistCardLimit:e.deck.deckConstraints.assistCardLimit,activeIndex:e.deck.activeIndex,activeAssistIndex:e.deck.activeAssistIndex,sameCard:e.deck.deckConstraints.sameCard}),e=>Object(d.b)({addDeckAssist:G.addDeckAssist,changeDeckAssist:G.changeDeckAssist},e),(e,t,a)=>{const{deckCards:n,assistDeckCards:s,activeIndex:r,activeAssistIndex:i,sameCard:o,assistCardLimit:l}=e,{assist:c}=a,d=function(e,t){const{generals:a,activeIndex:n}=e,s=[];return t.forEach((e,t)=>{n!==t&&"general"in e&&s.push(e.general)}),a.filter(e=>s.includes(e.id)).map(e=>e.raw.personal)}(e,n),m=function(e,t){const{assistGenerals:a,assistCardLimit:n}=e,s=t.filter((e,t)=>t<n).map(e=>e.assist);return a.filter(e=>s.includes(e.id)).map(e=>e.raw.personal)}(e,s),u=null==r&&function(e,t,a=null){return 0!==t&&(null!==a||e.filter((e,a)=>a<t).map(e=>e.assist).length<t)}(s,l,i)&&function(e,t,a,n){return!a.some(t=>t===e.raw.personal)&&("personal-strategy"===n||"personal-assist"===n||!t.some(t=>t===e.raw.personal))}(c,d,m,o),p={onAddDeck:e=>{u&&(null!=i&&s.length>i?t.changeDeckAssist(i,e):t.addDeckAssist(e))}};return ft(ft(ft({},{enabledAddDeck:u}),p),a)},{areMergedPropsEqual:(e,t)=>!e.show&&!t.show})(yt);function Ct(e){return"https://3594t.net/img/strat_range/".concat(e,".png")}class kt extends i.a.PureComponent{constructor(...e){super(...e),this.handleAssistGeneralClick=()=>{const{general:e,onShowDetail:t}=this.props;t&&t(e)}}render(){var e,t;const{general:a,show:n,showStrategyExplanation:s,showAddButtons:r}=this.props,o=r,l={backgroundColor:a.state.thincolor},c={backgroundColor:a.state.color};null==n||n||(l.display="none");const d=a.strategy.name,m=(null===(e=a.strategy.category)||void 0===e?void 0:e.name)||"",p=a.strategy.explanation,g=[];p.split("\n").forEach((e,t)=>{g.push(i.a.createElement("span",{key:t},e))});const h=null===(t=a.strategy.range)||void 0===t?void 0:t.code,f=h?Ct(h):"",b=r?i.a.createElement(vt,{assist:a,show:n}):i.a.createElement("span",{className:"externals"},i.a.createElement("a",{href:a.officialUrl,target:"_blank",rel:"noopener noreferrer"},"公式",i.a.createElement("br",null),"サイトへ",i.a.createElement(re.a,{icon:me.faExternalLinkAlt})));return i.a.createElement("div",{className:se()("assist-general-card",{clickable:o}),style:l,onClick:this.handleAssistGeneralClick},i.a.createElement("span",{className:"state",style:c},a.state.nameShort),i.a.createElement("span",{className:"version"},a.version),i.a.createElement("span",{className:"rarity"},"遊軍"),i.a.createElement("span",{className:"name"},a.name),i.a.createElement("span",{className:"image"},i.a.createElement(u.a,{height:64,once:!0,scroll:!1,resize:!1,placeholder:i.a.createElement("div",{className:"no-image general-thumb"})},i.a.createElement("img",{className:"general-thumb",src:a.avatarUrl}))),i.a.createElement("span",{className:se()("strategy",{show:!s}),"data-label":"戦技名",title:p},d),i.a.createElement("span",{className:se()("strategy-category",{show:!s})},"[",m,"]"),i.a.createElement("span",{className:se()("strategy-explanation",{show:s})},g),i.a.createElement("span",{className:"strategy-range","data-label":"効果範囲"},i.a.createElement("img",{className:"range-image",src:f})),b)}}function Et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ot(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(a),!0).forEach((function(t){wt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Et(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function wt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Nt={areMergedPropsEqual:(e,t)=>{return e.show===t.show&&(e.showStrategyExplanation===t.showStrategyExplanation&&(e.searchedAll===t.searchedAll&&(e.searchedOffset===t.searchedOffset&&(a=e.searchedAssistGeneralIds,n=t.searchedAssistGeneralIds,!(a.length!==n.length||!a.every(e=>n.includes(e)))))));var a,n}};var jt=Object(c.b)(e=>({assistGenerals:e.datalist.assistGenerals,currentPage:e.datalist.currentPage,pageLimit:e.datalist.pageLimit,belongStates:e.datalist.effectiveFilterCondition.basic.belongStates,enableSearchByDeck:null!=e.deck.searchCondition,searchMode:Ke(e.deck,e.datalist.effectiveFilterCondition)}),e=>Object(d.b)({decrementPage:D.decrementPage,incrementPage:D.incrementPage,openAssistGeneralDetail:v.openAssistGeneralDetail},e),(e,t)=>{const{assistGenerals:a,currentPage:n,pageLimit:s,belongStates:r,enableSearchByDeck:i,searchMode:o}=e;let l=[];i||(l=a.filter(e=>!(r.length>0&&!r.includes(e.raw.state))).map(e=>e.id));const c=l.length,d=(n-1)*s,m=d>0,u=d+s<c;l=l.slice(d,d+s);const p={assistGenerals:a,count:l.length,searchedAssistGeneralIds:l,searchedAll:c,searchedOffset:d,searchedLimit:s,hasPrev:m,hasNext:u,show:"assist"===o,showStrategyExplanation:!1},g={onPagePrev:t.decrementPage,onPageNext:t.incrementPage,showGeneralDetail:t.openAssistGeneralDetail};return Ot(Ot({},p),g)},Nt)(class extends Qe{constructor(...e){super(...e),this.handleOnShowDetail=e=>{this.props.showGeneralDetail(e)}}createCardElements(){const{assistGenerals:e,searchedAssistGeneralIds:t,showStrategyExplanation:a}=this.props,n=[];return e.forEach(e=>{const s=t.includes(e.id);n.push(i.a.createElement(kt,{key:e.id,general:e,onShowDetail:this.handleOnShowDetail,show:s,showStrategyExplanation:a,showAddButtons:!0}))}),n}isChangedList(e){const t=this.props.searchedAssistGeneralIds,a=e.searchedAssistGeneralIds;return!(t.length===a.length&&t.every(e=>a.includes(e)))}});let Pt;function Dt(e){return t=>{e(D.setSearchMode(t)),clearTimeout(Pt),Pt=setTimeout(()=>{e(D.applyCondition())},500)}}function St(e){return t=>{e(D.setBasicCondition(t)),clearTimeout(Pt),Pt=setTimeout(()=>{e(D.applyCondition())},500)}}function xt(e){return t=>{e(D.setDetailCondition(t)),clearTimeout(Pt),Pt=setTimeout(()=>{e(D.applyCondition())},500)}}function Mt(e){return t=>{e(D.setStrategiesCondition(t)),clearTimeout(Pt),Pt=setTimeout(()=>{e(D.applyCondition())},500)}}a(185);function At(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function It(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?At(Object(a),!0).forEach((function(t){Tt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):At(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Tt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Vt=({filterContents:e,filterCondition:t,value:a,checked:n})=>{let s=t.filter(e=>!e.startsWith("".concat(a,"-")));if(!n){const t=[].concat(...e).filter(e=>e.id.startsWith("".concat(a,"-")));s=s.concat(t.map(e=>e.id))}return s},Gt=(e,t,a,n,s)=>{let r=[...t];const i=n.split("-")[0];if(s)a.some(e=>e.startsWith("".concat(i,"-")))||(r=r.filter(e=>e!==i));else if(!r.includes(i)){[].concat(...e).filter(e=>e.id.startsWith("".concat(i,"-"))).every(e=>a.includes(e.id))&&r.push(i)}return r};function Rt(e,t){const a=t.includes(e);let n;return n=a?t.filter(t=>t!==e):[...t,e],{checked:a,targetValue:n}}function Lt(e,t,a){const n=e[t];if(!(n instanceof Array))return console.warn("".concat(t," is not array.")),{};const{targetValue:s}=Rt(a,n);return{[t]:s}}a(186),a(187);const Bt=["button","filter-item"];class _t extends i.a.PureComponent{constructor(e){super(e),this.buttonClasses=void 0,this.square=void 0,this.handleClickItem=e=>{const t=e.currentTarget.value,{itemName:a,onClickItem:n}=this.props;n(a,t)},this.buttonClasses=e.addtionalClasses?[...Bt,...e.addtionalClasses]:Bt,this.square=this.props.square||!1}createLabel(e){return e.nameShort||e.name}createButton(e,t,a,n,s){return i.a.createElement("button",{key:e,value:e,style:a,className:s,disabled:n,onClick:this.handleClickItem},t)}render(){const{checkedItems:e,items:t,show:a,disabled:n}=this.props,s=this.square,r=[],o=null!=n&&n;t.forEach(t=>{const a=t.id,n=this.createLabel(t),i={};t.color&&(i.backgroundColor=t.color);const l=e.includes(a);r.push(this.createButton(a,n,i,o,se()(this.buttonClasses,{checked:l,square:s})))});const l={};return null==a||a||(l.display="none"),i.a.createElement("div",{className:"button-list",style:l},r)}}class Ft extends i.a.Component{constructor(...e){super(...e),this.handleToggleCheckList=(e,t)=>{this.props.toggleCheckList(e,t)},this.handleOnClickToggleSearchMode=()=>{const{searchMode:e,setSearchMode:t}=this.props;t("general"===e?"assist":"general")}}render(){const{filterContents:e,filterCondition:t,searchByDeck:a,searchMode:n}=this.props,s="general"===n;return i.a.createElement("section",{className:"simple-filter-section"},i.a.createElement("div",{className:"simple-filter-state"},i.a.createElement("h2",{className:"title-inline"},"勢力"),i.a.createElement(_t,{itemName:"belongStates",items:e,checkedItems:t,onClickItem:this.handleToggleCheckList,square:!0,disabled:a})),i.a.createElement("div",{className:se()("search-mode",{"mode-general":s}),onClick:this.handleOnClickToggleSearchMode},i.a.createElement("span",{className:"mode-item mode-item-general"},"武将"),i.a.createElement("span",{className:"mode-item mode-item-assist"},"遊軍")))}}function qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ut(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(a),!0).forEach((function(t){Wt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Wt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Yt=Object(c.b)(e=>{const{searchCondition:t}=e.deck,a=t?t.belongState:void 0;return{belongStates:e.datalist.filterContents.belongStates,searchMode:Ke(e.deck,e.datalist.filterCondition),basicFilterCondition:e.datalist.filterCondition.basic,deckCardBelongState:a}},e=>({setSearchMode:Dt(e),setCondition:St(e)}),(e,t)=>{const{deckCardBelongState:a,belongStates:n,searchMode:s,basicFilterCondition:r}=e;let i=!1,o=r.belongStates;null!=a&&(i=!0,o=[a]);const l={filterContents:n,filterCondition:o,searchByDeck:i,searchMode:s},c={setCondition:t.setCondition,setSearchMode:t.setSearchMode,toggleCheckList:(e,a)=>{t.setCondition(Lt(r,e,a))}};return Ut(Ut({},l),c)},{areMergedPropsEqual:()=>!1})(Ft);a(188),a(189);class Jt extends _t{createButton(e,t,a,n,s){return"0"!==e?super.createButton(e,t,a,n,s):super.createButton(e,"無",a,n,se()(s,"no-skill"))}}a(190);class Xt extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChange=()=>{const{isOn:e,itemName:t,onChangeValue:a}=this.props;a(t,!e)}}render(){const{isOn:e,labelOff:t,labelOn:a,width:n}=this.props,s={};return null!=n&&(s.width=n),se()("switch-button",{active:e}),i.a.createElement("div",{style:s,className:"switch-item",onClick:this.handleOnChange},i.a.createElement("div",{className:se()("switch-button",{active:!e})},i.a.createElement("button",{className:"switch-button-child"},t)),i.a.createElement("div",{className:se()("switch-button",{active:e})},i.a.createElement("button",{className:"switch-button-child"},a)))}}a(191);class Kt extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChange=e=>{const t=parseFloat(e.currentTarget.value),{itemName:a,onChangeValue:n}=this.props;n(a,t)}}render(){const{min:e,max:t,value:a,className:n,displayText:s,step:r=1}=this.props,o=e<0,l=[];for(let a=e;a<=t;a+=r){const e=s?s(a):"".concat(a),t=o&&a>0?"+":"";l.push(i.a.createElement("option",{key:a,value:a},t,e))}return i.a.createElement("select",{value:a,className:se()("number-select",n),onChange:this.handleOnChange},l)}}a(192);function zt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(a),!0).forEach((function(t){Ht(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ht(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class $t extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeValue=(e,t)=>{const{setCondition:a,costRatioBaseForces:n}=this.props;a({costRatioBaseForces:Qt(Qt({},n),{},{[e]:t})})}}render(){const{costRatioBaseForces:e}=this.props;return i.a.createElement("div",{className:"cost-ratio-base-force"},i.a.createElement("span",{className:"title-inline"},"基準武力"),i.a.createElement("label",null,"1.0",i.a.createElement(Kt,{itemName:"10",onChangeValue:this.handleOnChangeValue,value:e[10],max:5,min:1})),i.a.createElement("label",null,"1.5",i.a.createElement(Kt,{itemName:"15",onChangeValue:this.handleOnChangeValue,value:e[15],max:7,min:2})),i.a.createElement("label",null,"2.0",i.a.createElement(Kt,{itemName:"20",onChangeValue:this.handleOnChangeValue,value:e[20],max:9,min:5})),i.a.createElement("label",null,"2.5",i.a.createElement(Kt,{itemName:"25",onChangeValue:this.handleOnChangeValue,value:e[25],max:10,min:6})),i.a.createElement("label",null,"3.0",i.a.createElement(Kt,{itemName:"30",onChangeValue:this.handleOnChangeValue,value:e[30],max:11,min:8})))}}a(193);class Zt extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChange=e=>{const t=e.currentTarget.value,{itemName:a,onChangeValue:n}=this.props;n(a,t)}}render(){const{value:e,className:t}=this.props;return i.a.createElement("input",{type:"text",value:e,className:se()("search-textbox",t),onChange:this.handleOnChange})}}class ea extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeSearchMode=(e,t)=>{this.props.setSearchMode(t?"assist":"general")},this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{searchMode:e,filterContents:t,filterCondition:a,searchByDeckBelongState:n,searchByDeckCost:s,searchByDeckUnitType:r,setCondition:o,toggleCheckList:l}=this.props,c="general"!==e;return i.a.createElement("div",{className:se()({"general-mode-off":c})},i.a.createElement("section",{className:"filter-section"},i.a.createElement("h2",{className:"title"},"武将/遊軍切り替え"),i.a.createElement(Xt,{itemName:"searchMode",onChangeValue:this.handleOnChangeSearchMode,isOn:c,labelOff:"武将",labelOn:"遊軍",width:160})),i.a.createElement("section",{className:"filter-section"},i.a.createElement("h2",{className:"title"},"勢力"),i.a.createElement(_t,{itemName:"belongStates",items:t.belongStates,checkedItems:a.belongStates,onClickItem:l,square:!0,disabled:n})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"コスト"),i.a.createElement(_t,{itemName:"costs",items:t.costs,checkedItems:a.costs,onClickItem:l,square:!0,disabled:s})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"兵種"),i.a.createElement(_t,{itemName:"unitTypes",items:t.unitTypes,checkedItems:a.unitTypes,onClickItem:l,square:!0,disabled:r})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"武力"),i.a.createElement("div",{className:"title-button"},i.a.createElement(Xt,{itemName:"useCostRatioForce",onChangeValue:this.handleOnChangeValue,isOn:a.useCostRatioForce,labelOff:"通常",labelOn:"コスト比",width:180})),i.a.createElement("div",{className:se()("normal-force",{active:!a.useCostRatioForce})},i.a.createElement("div",{className:"range"},i.a.createElement(Kt,{itemName:"forceMin",onChangeValue:this.handleOnChangeValue,value:a.forceMin,max:11,min:1}),"-",i.a.createElement(Kt,{itemName:"forceMax",onChangeValue:this.handleOnChangeValue,value:a.forceMax,max:11,min:1}))),i.a.createElement("div",{className:se()("cost-ratio-force",{active:a.useCostRatioForce})},i.a.createElement("div",{className:"range"},i.a.createElement(Kt,{itemName:"costRatioForceMin",onChangeValue:this.handleOnChangeValue,value:a.costRatioForceMin,max:5,min:-5}),"以上"),i.a.createElement($t,{costRatioBaseForces:a.costRatioBaseForces,setCondition:o}))),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"知力"),i.a.createElement("div",{className:"range"},i.a.createElement(Kt,{itemName:"intelligenceMin",onChangeValue:this.handleOnChangeValue,value:a.intelligenceMin,max:11,min:1}),"-",i.a.createElement(Kt,{itemName:"intelligenceMax",onChangeValue:this.handleOnChangeValue,value:a.intelligenceMax,max:11,min:1}))),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"征圧力"),i.a.createElement("div",{className:"range"},i.a.createElement(Kt,{itemName:"conquestMin",onChangeValue:this.handleOnChangeValue,value:a.conquestMin,max:4,min:0}),"-",i.a.createElement(Kt,{itemName:"conquestMax",onChangeValue:this.handleOnChangeValue,value:a.conquestMax,max:4,min:0}))),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"特技"),i.a.createElement("div",{className:"title-button"},i.a.createElement(Xt,{itemName:"skillsAnd",onChangeValue:this.handleOnChangeValue,isOn:a.skillsAnd,labelOff:"OR",labelOn:"AND"})),i.a.createElement(Jt,{itemName:"skills",items:t.skills,checkedItems:a.skills,onClickItem:l,square:!0})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"武将名検索"),i.a.createElement(Zt,{itemName:"searchText",value:a.searchText,onChangeValue:this.handleOnChangeValue}),i.a.createElement("div",null,"スペース区切りでOR検索 読み仮名(ひらがな、カタカナ)対応")))}}function ta(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function aa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ta(Object(a),!0).forEach((function(t){na(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ta(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function na(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var sa=Object(c.b)(e=>{const{searchCondition:t}=e.deck;return{searchMode:Ke(e.deck,e.datalist.filterCondition),filterCondition:e.datalist.filterCondition.basic,filterContents:e.datalist.filterContents,deckSearchCondition:t}},e=>({setSearchMode:Dt(e),setCondition:St(e)}),(e,t)=>{const{searchMode:a,filterCondition:n,filterContents:s,deckSearchCondition:r}=e;let i;if(r){let e,t=!1;null!=r.belongState?(e=[r.belongState],t=!0):e=n.belongStates;const o=[r.cost];let l,c=!1;null!=r.unitType?(l=[r.unitType],c=!0):l=n.unitTypes,i={searchMode:a,filterContents:s,searchByDeckBelongState:t,searchByDeckCost:!0,searchByDeckUnitType:c,filterCondition:aa(aa({},n),{},{belongStates:e,costs:o,unitTypes:l})}}else i={searchMode:a,filterContents:s,filterCondition:n,searchByDeckBelongState:!1,searchByDeckCost:!1,searchByDeckUnitType:!1};const o=aa(aa({},t),{},{toggleCheckList:(e,a)=>{t.setCondition(Lt(n,e,a))}});return aa(aa({},i),o)},{areMergedPropsEqual:()=>!1})(ea);a(194);const ra=[{id:"1",name:"あり"},{id:"0",name:"なし"}];class ia extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{searchMode:e,filterContents:t,filterCondition:a,toggleCheckList:n}=this.props,s="general"!==e,r=[];return t.versions.forEach((e,t)=>{r.push(i.a.createElement(_t,{key:t+1,itemName:"versions",items:e,checkedItems:a.versions,onClickItem:n}))}),i.a.createElement("div",{className:se()({"general-mode-off":s})},i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"登場弾"),i.a.createElement("div",{className:"title-button"},i.a.createElement(Xt,{itemName:"enableDetailVersion",onChangeValue:this.handleOnChangeValue,isOn:a.enableDetailVersion,labelOff:"メジャーVer",labelOn:"詳細Ver",width:220})),i.a.createElement("div",{className:se()("major-version",{active:!a.enableDetailVersion})},i.a.createElement(_t,{itemName:"majorVersions",items:t.majorVersions,checkedItems:a.majorVersions,onClickItem:n})),i.a.createElement("div",{className:se()("detail-version",{active:a.enableDetailVersion})},r)),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"将器主効果候補"),i.a.createElement("div",{className:"title-button"},i.a.createElement(Xt,{itemName:"genMainsAnd",onChangeValue:this.handleOnChangeValue,isOn:a.genMainsAnd,labelOff:"OR",labelOn:"AND"})),i.a.createElement(_t,{itemName:"genMains",items:t.genMains,checkedItems:a.genMains,onClickItem:n})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"レアリティ"),i.a.createElement(_t,{itemName:"rarities",items:t.rarities,checkedItems:a.rarities,onClickItem:n,square:!0})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"官職"),i.a.createElement(_t,{itemName:"generalTypes",items:t.generalTypes,checkedItems:a.generalTypes,onClickItem:n})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"カード種別"),i.a.createElement(_t,{itemName:"varTypes",items:t.varTypes,checkedItems:a.varTypes,onClickItem:n})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"ぽけっと武将"),i.a.createElement(_t,{itemName:"pockets",items:ra,checkedItems:a.pockets,onClickItem:n})))}}function oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function la(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(a),!0).forEach((function(t){ca(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ca(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var da=Object(c.b)(e=>({searchMode:Ke(e.deck,e.datalist.filterCondition),filterCondition:e.datalist.filterCondition.detail,filterContents:e.datalist.filterContents}),e=>({setCondition:xt(e)}),(e,t)=>la(la(la({},e),t),{},{toggleCheckList:(a,n)=>{t.setCondition(function(e,t,a){const n=e.filterCondition[t];if(!(n instanceof Array))return console.warn("".concat(t," is not array.")),{};const{checked:s,targetValue:r}=Rt(a,n),i={[t]:r};switch(t){case"majorVersions":return It(It({},i),{},{versions:Vt({filterContents:e.filterContents.versions,filterCondition:e.filterCondition.versions,value:a,checked:s})});case"versions":return It(It({},i),{},{majorVersions:Gt(e.filterContents.majorVersions,e.filterCondition.majorVersions,r,a,s)});default:return i}}(e,a,n))}}),{areMergedPropsEqual:()=>!1})(ia);a(195),a(196);class ma extends _t{createButton(e,t,a,n,s){if("string"!=typeof t||!t.includes("】"))return super.createButton(e,t,a,n,se()(s,"strategy-category-button"));const r=[],o=t.split("】");return o.forEach((e,t)=>{t===o.length-1?r.push(i.a.createElement("span",{className:"main-name",key:t},e)):r.push(i.a.createElement("span",{className:"sub-name",key:t},e+"】"))}),super.createButton(e,r,a,n,se()(s,"multiline-label","strategy-category-button"))}}a(197);class ua extends _t{createLabel(e){if(null==e.code)return"";const t=Ct(e.code);return i.a.createElement("img",{className:"range-image",src:t})}createButton(e,t,a,n,s){return super.createButton(e,t,a,n,se()(s,"strategy-range-button"))}}class pa extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{searchMode:e,filterContents:t,filterCondition:a,toggleCheckList:n}=this.props,s="general"!==e;return i.a.createElement("div",{className:se()({"general-mode-off":s})},i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略表示切り替え"),i.a.createElement(Xt,{itemName:"showStrategyExplanation",onChangeValue:this.handleOnChangeValue,isOn:a.showStrategyExplanation,labelOff:"計略名",labelOn:"計略説明",width:200})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略名検索"),i.a.createElement(Zt,{itemName:"strategySearchName",value:a.strategySearchName,onChangeValue:this.handleOnChangeValue}),i.a.createElement("div",null,"スペース区切りでAND検索 読み仮名(ひらがな、カタカナ)対応")),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略説明検索"),i.a.createElement(Zt,{itemName:"strategySearchExplanation",value:a.strategySearchExplanation,onChangeValue:this.handleOnChangeValue}),i.a.createElement("div",null,"スペース区切りでAND検索")),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略必要士気"),i.a.createElement("div",{className:"range"},i.a.createElement(Kt,{itemName:"moraleMin",onChangeValue:this.handleOnChangeValue,value:a.moraleMin,max:12,min:1}),"-",i.a.createElement(Kt,{itemName:"moraleMax",onChangeValue:this.handleOnChangeValue,value:a.moraleMax,max:12,min:1}))),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略カテゴリー"),i.a.createElement(ma,{itemName:"strategyCategories",items:t.strategyCategories,checkedItems:a.strategyCategories,onClickItem:n})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略効果時間"),i.a.createElement(_t,{itemName:"strategyTimes",items:t.strategyTimes,checkedItems:a.strategyTimes,onClickItem:n})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略範囲"),i.a.createElement(ua,{itemName:"strategyRanges",items:t.strategyRanges,checkedItems:a.strategyRanges,onClickItem:n})))}}function ga(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ha(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(a),!0).forEach((function(t){fa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ga(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function fa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ba=Object(c.b)(e=>({searchMode:Ke(e.deck,e.datalist.filterCondition),filterCondition:e.datalist.filterCondition.strategies,filterContents:e.datalist.filterContents}),e=>ha({setCondition:Mt(e)},Object(d.b)({setShowStrategyExplanation:D.setShowStrategyExplanation},e)),(e,t)=>ha(ha(ha({},e),t),{},{toggleCheckList:(a,n)=>{t.setCondition(function(e,t,a){const n=e[t];if(!(n instanceof Array))return console.warn("".concat(t," is not array.")),{};const{targetValue:s}=Rt(a,n);return{[t]:s}}(e.filterCondition,a,n))}}),{areMergedPropsEqual:()=>!1})(pa),ya=(a(198),a(199),a(109));class va extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnClick=()=>{const{itemName:e,value:t,onClick:a}=this.props;a&&a(e,t)}}render(){const{checked:e,children:t}=this.props;return i.a.createElement("div",{className:"radio-button",onClick:this.handleOnClick},i.a.createElement("span",{className:"radio-check"},i.a.createElement(re.a,{className:se()({checked:e}),icon:ya.faCircle})),t)}}function Ca(e,t){return"general"===e?"assist"===t?"personal-assist":"personal":"assist"===t?"personal-strategy":"personal-strategy-exclude-assist"}function ka(e){return{generalConst:"personal-strategy"===e||"personal-strategy-exclude-assist"===e?"general-strategy":"general",assistConst:"personal-assist"===e||"personal-strategy"===e?"assist":"exclude-assist"}}class Ea extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeDeckConstraints=(e,t)=>{this.props.setDeckConstraints({[e]:t}),"assistCardLimit"===e&&this.props.sliceDeckAssist()},this.handleOnChangeSameCardGeneral=(e,t)=>{const{assistConst:a}=ka(this.props.sameCard),n=Ca(t,a);this.handleOnChangeDeckConstraints(e,n)},this.handleOnChangeSameCardAssist=(e,t)=>{const{generalConst:a}=ka(this.props.sameCard),n=Ca(a,t);this.handleOnChangeDeckConstraints(e,n)}}costDisplayText(e){return"".concat(e/10)}assistLimitDisplayText(e){return 0===e?"なし":1===e?"あり":"".concat(e)}render(){const{show:e,limitCost:t,sameCard:a,assistCardLimit:n,genMainAwakingLimit:s,closeDeckConfig:r}=this.props,o={};e||(o.display="none");const{generalConst:l,assistConst:c}=ka(a);return i.a.createElement("div",{className:"deck-config",style:o},i.a.createElement("div",{className:"deck-config-inner"},i.a.createElement("div",{className:"deck-config-title"},"デッキ設定"),i.a.createElement("div",{className:"deck-config-buttons"},i.a.createElement("button",{className:"action-buton-ok",onClick:r},"OK")),i.a.createElement("div",{className:"deck-config-body"},i.a.createElement("section",{className:"filter-section"},i.a.createElement("h2",{className:"title"},"コスト 上限"),i.a.createElement(Kt,{itemName:"limitCost",onChangeValue:this.handleOnChangeDeckConstraints,value:t,max:250,min:10,step:5,displayText:this.costDisplayText})),i.a.createElement("section",{className:"filter-section"},i.a.createElement("h2",{className:"title"},"遊軍"),i.a.createElement(Kt,{itemName:"assistCardLimit",onChangeValue:this.handleOnChangeDeckConstraints,value:n,max:1,min:0,step:1,displayText:this.assistLimitDisplayText})),i.a.createElement("section",{className:"filter-section same-card-constraint"},i.a.createElement("h2",{className:"title"},"同名武将 制限"),i.a.createElement(va,{itemName:"sameCard",value:"general",checked:"general"===l,onClick:this.handleOnChangeSameCardGeneral},"同名武将登録不可(通常ルール)"),i.a.createElement(va,{itemName:"sameCard",value:"general-strategy",checked:"general-strategy"===l,onClick:this.handleOnChangeSameCardGeneral},"同名武将登録可、ただし同計略の同名武将は登録不可")),i.a.createElement("section",{className:"filter-section same-card-constraint"},i.a.createElement("h2",{className:"title"},"同名武将・遊軍 制限"),i.a.createElement(va,{itemName:"sameCard",value:"exclude-assist",checked:"exclude-assist"===c,onClick:this.handleOnChangeSameCardAssist},"同名の武将・遊軍登録不可(通常ルール)"),i.a.createElement(va,{itemName:"sameCard",value:"assist",checked:"assist"===c,onClick:this.handleOnChangeSameCardAssist},"同名の武将・遊軍登録可")),i.a.createElement("section",{className:"filter-section"},i.a.createElement("h2",{className:"title"},"覚醒できる主将器の最大ポイント数"),i.a.createElement(Kt,{itemName:"genMainAwakingLimit",onChangeValue:this.handleOnChangeDeckConstraints,value:s,max:8,min:0,step:1})))))}}function Oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function wa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Na=Object(c.b)(e=>function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oa(Object(a),!0).forEach((function(t){wa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({show:e.window.openedDeckConfig},e.deck.deckConstraints),e=>Object(d.b)({closeDeckConfig:()=>v.changeDeckConfigVisible({openedDeckConfig:!1}),setDeckConstraints:G.setDeckConstraints,sliceDeckAssist:G.sliceDeckAssist},e))(Ea);a(200);let ja=void 0;class Pa extends i.a.PureComponent{render(){const{show:e,closeUpdateInfo:t}=this.props,a={};return e?ja="./updateinfo.html":a.display="none",i.a.createElement("div",{className:"update-info",style:a},i.a.createElement("div",{className:"update-info-inner"},i.a.createElement("div",{className:"update-info-title"},"更新情報")),i.a.createElement("div",{className:"update-info-buttons"},i.a.createElement("button",{className:"action-buton-ok",onClick:t},"OK")),i.a.createElement("div",{className:"update-info-body"},i.a.createElement("iframe",{className:"update-info-iframe",src:ja})))}}var Da=Object(c.b)(e=>({show:e.window.openedUpdateInfo}),e=>Object(d.b)({closeUpdateInfo:()=>v.changeUpdateInfoVisible({openedUpdateInfo:!1})},e))(Pa),Sa=(a(201),a(110));class xa extends i.a.PureComponent{constructor(...e){super(...e),this.handleClose=()=>{this.props.close()}}render(){const e=this.props.card;if(null==e)return i.a.createElement(i.a.Fragment,null);const t=this.createCardElement(e),a=this.getStratExplanation(e),n=this.getStratRangeCode(e),s=[];a.split("\n").forEach((e,t)=>{s.push(i.a.createElement("span",{key:t},e))});const r=n?Ct(n):"";return i.a.createElement("div",{className:"general-detail"},i.a.createElement("div",{className:"general-detail-inner"},t,i.a.createElement("div",{className:"general-detail-body"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"strategy-explanation","data-label":"計略説明"},s),i.a.createElement("div",{className:"strategy-range","data-label":"計略範囲"},i.a.createElement("img",{className:"range-image",src:r}))))),i.a.createElement("button",{className:"close",onClick:this.handleClose},i.a.createElement(re.a,{icon:Sa.faTimesCircle})))}}var Ma=Object(c.b)(e=>({card:e.window.detailAssistGeneral}),e=>Object(d.b)({close:v.closeAllModal},e))(class extends xa{createCardElement(e){return i.a.createElement(kt,{general:e,showStrategyExplanation:!1,showAddButtons:!1})}getStratExplanation(e){return e.strategy.explanation}getStratRangeCode(e){var t;return null===(t=e.strategy.range)||void 0===t?void 0:t.code}});var Aa=Object(c.b)(e=>({card:e.window.detailGeneral}),e=>Object(d.b)({close:v.closeAllModal},e))(class extends xa{createCardElement(e){return i.a.createElement(st,{general:e,showStrategyExplanation:!1,showAddButtons:!1})}getStratExplanation(e){return e.strategy.explanation}getStratRangeCode(e){return e.strategy.stratRangeCode}});a(202);class Ia extends i.a.PureComponent{constructor(...e){super(...e),this.state={},this.actionWithAnimation=(e,t)=>{this.state.buttonAnimation||(this.props.animation?(this.setState({buttonAnimation:e}),setTimeout(()=>{this.setState({buttonAnimation:void 0}),t()},500)):t())},this.handleRedClick=e=>{e.stopPropagation(),this.actionWithAnimation("RED",this.props.actionRed)},this.handleBlueClick=e=>{e.stopPropagation(),this.actionWithAnimation("BLUE",this.props.actionBlue)},this.handleCancelClick=e=>{e.stopPropagation(),this.state.buttonAnimation||this.props.cancelable&&this.props.actionCancel()}}render(){const{show:e,title:t,message:a,logoUrl:n,redText:s,blueText:r,cancelable:o,animation:l}=this.props,{buttonAnimation:c}=this.state;let d="",m=!1,u=!1;"RED"===c?(d="緋略",m=!0):"BLUE"===c&&(d="蒼略",u=!0);const p={};return e||(p.display="none"),i.a.createElement("div",{className:"dialog-container",style:p},i.a.createElement("div",{className:"dialog-base"},i.a.createElement("div",{className:"dialog-background",onClick:this.handleCancelClick}),i.a.createElement("div",{className:"dialog"},i.a.createElement("div",{className:"dialog-inner"},i.a.createElement("div",{className:"dialog-title"},t),i.a.createElement("div",{className:"dialog-body"},i.a.createElement("div",{className:se()("dialog-logo",{show:null!=n})},i.a.createElement("img",{src:n})),i.a.createElement("div",{className:"dialog-message"},a)),i.a.createElement("div",{className:"dialog-actions"},i.a.createElement("div",{className:se()("dialog-action-button","dialog-action-red",{text:l}),onClick:this.handleRedClick},s),i.a.createElement("div",{className:se()("dialog-action-button","dialog-action-blue",{text:l}),onClick:this.handleBlueClick},r)),i.a.createElement("div",{className:se()("dialog-close",{cancelable:o}),onClick:this.handleCancelClick},"x"))),i.a.createElement("div",{className:se()("action-animation",{red:m,blue:u,show:m||u})},d)))}}function Ta(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Va(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(a),!0).forEach((function(t){Ga(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ta(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ga(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ra(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}var La=Object(c.b)(e=>e.dialog,e=>Object(d.b)({closeDialog:Y.closeDialog},e),(e,t)=>{const{actionRed:a,actionBlue:n,actionCancel:s}=e,r={actionRed:()=>{a(),t.closeDialog()},actionBlue:()=>{n(),t.closeDialog()},actionCancel:()=>{s&&s(),t.closeDialog()}};return Va(Va({},Ra(e,["actionRed","actionBlue","actionCancel"])),r)},{areMergedPropsEqual:()=>!1})(Ia);class Ba extends i.a.PureComponent{constructor(...e){super(...e),this.handleAppClick=()=>{this.props.clearActiveCard(),this.props.closeSideMenu()},this.handleSideMenuButtonClick=()=>{this.props.openSideMenu()}}componentDidMount(){this.props.appDidLoaded()}render(){const{ready:e,loading:t,resetConditions:a,openedSideMenu:n,openFilter:s,showNotice:r,closeFilter:o,closeAllModal:l,changeActiveFilterTab:c,openedFilter:d,openedAnyModal:m,openedAnyModalSmall:u,activeFilter:p,deckSelected:g}=this.props;return i.a.createElement("div",{className:se()(["app-container",{modal:m,"modal-small":u,ready:e,"deck-selected":g}]),onClick:this.handleAppClick},i.a.createElement("div",{className:se()("side-menu",{open:n})},i.a.createElement("div",{className:"side-menu-header"}),i.a.createElement(fe,null),"©SEGA"),i.a.createElement("div",{className:"app-main"},i.a.createElement("div",{className:"app-deck-block"},i.a.createElement("div",{className:"app-header"},i.a.createElement("button",{className:se()("side-menu-button",{show:!n}),onClick:this.handleSideMenuButtonClick},i.a.createElement(re.a,{icon:ie.faBars}),i.a.createElement(re.a,{icon:oe.faExclamationCircle,className:se()("notice",{show:r})})),i.a.createElement("div",{className:"app-header-title"},"三国志大戦デッキシミュレーター")),i.a.createElement("div",{className:"deck-boad-container"},i.a.createElement(Xe,null)),i.a.createElement("div",{className:"simple-filter-container"},i.a.createElement(Yt,null),i.a.createElement("button",{className:"open-filter",onClick:s},"絞込")),i.a.createElement(gt,null),i.a.createElement(jt,null)),i.a.createElement("div",{className:se()(["card-filter-container",{open:d}])},i.a.createElement("h1",{className:"card-filter-title"},"絞り込みメニュー"),i.a.createElement("div",{className:"card-filter-buttons"},i.a.createElement(le,{tabs:b,activeTab:p,onTabChanged:c}),i.a.createElement(de,{resetConditions:a,closeFilter:o})),i.a.createElement("div",{className:se()(["card-filter-content",{active:"BASIC"===p}])},i.a.createElement(sa,null)),i.a.createElement("div",{className:se()(["card-filter-content",{active:"DETAIL"===p}])},i.a.createElement(da,null)),i.a.createElement("div",{className:se()(["card-filter-content",{active:"STRAT"===p}])},i.a.createElement(ba,null)))),i.a.createElement("div",{className:"modal-background",onClick:l}),i.a.createElement(Ma,null),i.a.createElement(Aa,null),i.a.createElement(Na,null),i.a.createElement(Da,null),i.a.createElement("div",{className:se()("loading-item",{loading:t})}),i.a.createElement(La,null))}}a(203);let _a=null;function Fa(){return"localStorage"in window&&function(e){try{const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==e.length}}(window.localStorage)}async function qa(e,t){const a=t+".md5",n=await async function(e){const t=await fetch(e+".md5");return t.ok?(await t.text()).trim():null}(e);if(!n)return localStorage.removeItem(a),localStorage.removeItem(t),null;const s=localStorage.getItem(a);let r=!1;if(s&&s===n){const e=localStorage.getItem(t);if(e)return JSON.parse(e);r=!0,localStorage.removeItem(a)}const i=await fetch(e),o=await i.json();return r||(localStorage.setItem(t,JSON.stringify(o)),localStorage.setItem(a,n)),o}var Ua=async function(e,t){if(null!=_a||(_a=Fa()),_a){const a=await qa(e,t);if(a)return a}return(await fetch(e)).json()};a(206);const Wa=(e,t=0,a=!1)=>{let n;return n=a?"-EX":t>0?"-".concat(t):"","第".concat(e,"弾").concat(n)};class Ya{constructor(e,t,a){this.id=void 0,this.raw=void 0,this.majorVersion=void 0,this.addVersion=void 0,this.isEx=void 0,this.force=void 0,this.intelligence=void 0,this.conquest=void 0,this.cost=void 0,this.genMains=void 0,this.genMainSp=void 0,this.generalType=void 0,this.personal=void 0,this.rarity=void 0,this.skills=void 0,this.state=void 0,this.unitType=void 0,this.strategy=void 0,this.id=e,this.raw=t,Object.assign(this,a)}get code(){return this.raw.code}get pocketCode(){return this.raw.pocket_code}get name(){return this.personal?this.personal.name:""}get version(){return Wa(this.majorVersion,this.addVersion,this.isEx)}get versionValue(){const e=this.isEx?"-EX":"-".concat(this.addVersion);return"".concat(this.majorVersion).concat(e)}get hasPocket(){return""!==this.raw.pocket_code}get officialUrl(){return e=this.code,"https://3594t.net/datalist/?v=GENERAL&s=POPUP_GENERAL&c=".concat(e);var e}thumbUrl(e){return function(e){return"https://3594t.net/img/card_small/".concat(e,".jpg")}(e&&this.hasPocket?this.pocketCode:this.code)}avatarUrl(e){const t=e&&this.hasPocket?this.raw.pocket_avatar:this.raw.avatar;return"https://3594t.net/img/avatar/".concat(t,".png")}}class Ja{constructor(e,t,a){this.id=void 0,this.raw=void 0,this.majorVersion=void 0,this.addVersion=void 0,this.isEx=void 0,this.personal=void 0,this.state=void 0,this.strategy=void 0,this.id=e,this.raw=t,this.majorVersion=a.majorVersion,this.addVersion=a.addVersion,this.isEx=a.isEx,this.personal=a.personal,this.state=a.state,this.strategy=a.strategy}get code(){return this.raw.code}get name(){return this.personal?this.personal.name:""}get version(){return Wa(this.majorVersion,this.addVersion,this.isEx)}get versionValue(){const e=this.isEx?"-EX":"-".concat(this.addVersion);return"".concat(this.majorVersion).concat(e)}get officialUrl(){return e=this.code,"https://3594t.net/datalist/?v=ASSIST&s=POPUP_ASSIST&c=".concat(e);var e}get thumbUrl(){return e=this.code,"https://3594t.net/img/card_small/".concat(e,".jpg");var e}get avatarUrl(){return function(e){return"https://3594t.net/img/avatar/".concat(e,".png")}(this.raw.avatar)}}function Xa(e,t){if(null==e)return{};var a,n,s=function(e,t){if(null==e)return{};var a,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(s[a]=e[a]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ka(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function za(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ka(Object(a),!0).forEach((function(t){Qa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ka(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Qa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ha=(e,t)=>"".concat(t),$a=e=>e.key,Za=(e,t,a)=>e.map((e,n)=>a(e,t(e,n))),en=(e,t)=>Object.entries(e).map(([e,a])=>t(a,"".concat(e))),tn=({code:e,name:t,name_short:a,short_name:n},s)=>({id:s,code:e,name:t,nameShort:a||n}),an={name:""},nn={id:"",code:"",explanation:"",rawExplanation:"",morale:1,name:"",nameRuby:"",stratCategory:"",stratCategoryName:"",stratRange:"",stratRangeCode:"",stratTime:""},sn={id:"",code:"",explanation:"",rawExplanation:"",name:"",nameRuby:""},rn=(e,t,a=an)=>{const n=on(e,t);return null==n?a:n},on=(e,t)=>{const a=e.find(e=>e.id===t);return a||null},ln=e=>e.filter(e=>null!=e),cn=e=>e.replace(/\<br\s*\/?\>/gi,"\n").replace(/\<img.+?alt=\"(.*?)\".*?\/\>/gi," $1 ");var dn=e=>{const t=Za(e.STATE,Ha,(e,t)=>za(za({},tn(e,t)),{},{color:"rgb(".concat(e.red,", ").concat(e.green,", ").concat(e.blue,")"),thincolor:"rgba(".concat(e.red,", ").concat(e.green,", ").concat(e.blue,", 0.2)")})),a=en(e.COST,tn),n=Za(e.UNIT_TYPE,$a,(e,t)=>za(za({},tn(e,t)),{},{nameShort:k[e.name]||e.name[0]})),s=Za(e.SKILL,$a,tn),r=Za(e.GEN_MAIN,$a,(e,t)=>za(za({},tn(e,t)),{},{replace:"1"===e.replace})),i=Za(e.GEN_MAIN_SP,$a,(e,t)=>za(za({},tn(e,t)),{},{replace:"1"===e.replace})),o=en(e.RARITY,tn),l=Za(e.GENERAL_TYPE,$a,(e,t)=>{const a=tn(e,t);return""===e.name?za(za({},a),{},{name:"なし(女性)"}):a}),c=Za(e.VER_TYPE,Ha,tn).map(e=>"Ex"===e.name?za(za({},e),{},{name:"EX"}):e),d=Za(e.STRAT_CATEGORY,$a,tn),m=Za(e.STRAT_RANGE,Ha,(e,t)=>({id:t,code:e.code,name:""})),u=Za(e.STRAT,$a,(e,t)=>{var a,n;const{morale:s,explanation:r,name_ruby:i,strat_category:o,strat_range:l,strat_time:c}=e,u=Xa(e,["morale","explanation","name_ruby","strat_category","strat_range","strat_time"]),p=(null===(a=d.find(e=>e.id===o))||void 0===a?void 0:a.name)||"",g=(null===(n=m.find(e=>e.id===l))||void 0===n?void 0:n.code)||"";return za(za({id:t},u),{},{explanation:cn(r),rawExplanation:r,morale:parseInt(s),nameRuby:i,stratCategory:o,stratCategoryName:p,stratRange:l,stratRangeCode:g,stratTime:c})}),p={},g=Za(e.GENERAL,Ha,(c,d)=>{const m=parseInt(c.major_version),g=parseInt(c.add_version),h="2"===c.ver_type;return p[m]||(p[m]=[]),h||p[m].includes(g)||p[m].push(g),new Ya(d,c,{majorVersion:m,addVersion:g,isEx:h,force:parseInt(c.buryoku),intelligence:parseInt(c.chiryoku),conquest:parseInt(c.seiatsu),cost:rn(a,c.cost),genMains:ln([c.gen_main0,c.gen_main1,c.gen_main2].filter(e=>""!==e).map(e=>r.find(t=>t.id===e))),genMainSp:on(i,d),generalType:rn(l,c.general_type),personal:e.PERSONAL[parseInt(c.personal)],rarity:rn(o,c.rarity),skills:ln([c.skill0,c.skill1,c.skill2].filter(e=>""!==e&&"0"!==e).map(e=>s.find(t=>t.id===e))),state:rn(t,c.state),unitType:rn(n,c.unit_type),strategy:u.find(e=>e.id===c.strat)||nn})}),h=Object.keys(p).map(e=>parseInt(e)),f=(e,t)=>e-t;h.sort(f),h.forEach(e=>{p[e].sort(f)});const b=Za(e.STRAT_TIME,Ha,tn),y=Za(e.ASSIST_STRAT_CATEGORY,$a,tn),v=Za(e.ASSIST_STRAT,$a,(e,t)=>{const{code:a,key:n,name:s,explanation:r,name_ruby:i,assist_strat_category:o,strat_range:l}=e,c=y.find(e=>e.id===o),d=m.find(e=>e.id===l);return{id:t,code:a,key:n,name:s,explanation:cn(r),rawExplanation:r,nameRuby:i,category:c,range:d}}),C=Za(e.ASSIST,Ha,(a,n)=>{const s=parseInt(a.major_version),r=parseInt(a.add_version);return p[s]||(p[s]=[]),p[s].includes(r)||p[s].push(r),new Ja(n,a,{majorVersion:s,addVersion:r,isEx:!1,personal:e.PERSONAL[parseInt(a.personal)],state:rn(t,a.state),strategy:v.find(e=>e.id===a.assist_strat)||sn})});return{filterContents:{belongStates:t,costs:a,unitTypes:n,skills:s,genMains:r,rarities:o,generalTypes:l,varTypes:c,versions:Object.entries(p).map(([e,t])=>{const a=Za(t,t=>"".concat(e,"-").concat(t),(t,a)=>({id:a,name:Wa(e,t)}));return a.push({id:"".concat(e,"-EX"),name:Wa(e,0,!0)}),a}),majorVersions:Za(h,e=>"".concat(e),(e,t)=>({id:t,name:Wa(e)})),strategyCategories:d,strategyRanges:m,strategyTimes:b,assistStrategyCategories:y},generals:g,strategies:u,assistGenerals:C,assistStrategies:v}};const mn=(async()=>await(async()=>await Ua("/data/base.json","3594t-deck/data/base.json"))())();function un(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?un(Object(a),!0).forEach((function(t){gn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):un(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function gn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var hn=Object(c.b)(e=>pn(pn({},e.window),{},{openedAnyModal:e.window.openedDeckConfig||e.window.openedUpdateInfo||!!e.window.detailGeneral||!!e.window.detailAssistGeneral||!e.window.ready,openedAnyModalSmall:e.window.openedFilter||!e.window.ready,loading:!e.window.ready,deckSelected:null!=e.deck.activeIndex||null!=e.deck.activeAssistIndex}),e=>{const t=Object(d.b)({setBaseData:D.setBaseData,beReady:v.beReady},e);return pn({appDidLoaded:async()=>{const e=await(async()=>{const e=await mn;return dn(e)})();t.setBaseData(e),ae||(L()({store:J,params:{deck:Q,assist:H,cost:$,same_card:Z,assist_limit:ee,gen_main_limit:te},initialTruth:"location"}),ae=!0),t.beReady(),Object(m.forceCheck)()}},Object(d.b)({clearActiveCard:G.clearActiveCard,resetConditions:D.resetConditions,openSideMenu:()=>v.changeSideMenuVisible({openedSideMenu:!0}),closeSideMenu:()=>v.changeSideMenuVisible({openedSideMenu:!1}),openFilter:()=>v.changeFilterVisible({openedFilter:!0}),closeFilter:()=>v.changeFilterVisible({openedFilter:!1}),closeAllModal:v.closeAllModal,changeActiveFilterTab:v.changeActiveFilterTab},e))},(e,t,a)=>pn(pn(pn(pn({},e),t),a),{},{clearActiveCard:()=>{e.deckSelected&&t.clearActiveCard()},closeSideMenu:()=>{e.openedSideMenu&&t.closeSideMenu()}}),{areMergedPropsEqual:()=>!1})(Ba);s.a.load({custom:{families:["Noto Sans Japanese:n4,n7"],urls:["https://fonts.googleapis.com/earlyaccess/notosansjapanese.css"]}}),"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").catch(e=>{console.error(e)}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),J.dispatch(v.storeInstallPromptEvent(e))});const fn=e=>{J.dispatch(v.changeShowNotice({showNotice:!!e}))};fn(window.__noticeEnabled),window.addEventListener("__receiveNoticeChanged",e=>{e.preventDefault(),fn(window.__noticeEnabled)}),l.a.render(i.a.createElement(c.a,{store:J},i.a.createElement(hn,null)),document.getElementById("app"));const bn=document.getElementById("about");bn&&bn.parentNode&&bn.parentNode.removeChild(bn)}});