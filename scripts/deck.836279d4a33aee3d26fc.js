!function(e){function t(t){for(var a,c,o=t[0],i=t[1],l=t[2],d=0,m=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&m.push(r[c][0]),r[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);for(u&&u(t);m.length;)m.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(s.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={0:0},s=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=i;s.push([210,1]),n()}({128:function(e,t,n){},161:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},185:function(e,t,n){},186:function(e,t,n){},192:function(e,t,n){},193:function(e,t,n){},194:function(e,t,n){},195:function(e,t,n){},196:function(e,t,n){},197:function(e,t,n){},198:function(e,t,n){},199:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},203:function(e,t,n){},204:function(e,t,n){},205:function(e,t,n){},206:function(e,t,n){},210:function(e,t,n){"use strict";n.r(t);n(128);var a=n(116),r=n.n(a),s=n(0),c=n.n(s),o=n(45),i=n.n(o),l=n(5),u=n(46),d=n(29),m=(n(32),n(8)),p=n(31),h=n.n(p),g=n(3);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const E={BASIC:"基本",DETAIL:"詳細",STRAT:"計略"},O={beReady:Object(g.createAction)("BE_READY"),openSideMenu:Object(g.createAction)("CHANGE_SIDEMENU_VISIBLE",e=>()=>e({openedSideMenu:!0})),closeSideMenu:Object(g.createAction)("CHANGE_SIDEMENU_VISIBLE",e=>()=>e({openedSideMenu:!1})),openFilter:Object(g.createAction)("CHANGE_FILTER_VISIBLE",e=>()=>e({openedFilter:!0})),closeFilter:Object(g.createAction)("CHANGE_FILTER_VISIBLE",e=>()=>e({openedFilter:!1})),openDeckConfig:Object(g.createAction)("CHANGE_DECK_CONFIG_VISIBLE",e=>()=>e({openedDeckConfig:!0})),closeDeckConfig:Object(g.createAction)("CHANGE_DECK_CONFIG_VISIBLE",e=>()=>e({openedDeckConfig:!1})),closeAllModal:Object(g.createAction)("CLOSE_ALL_MODAL"),changeActiveFilterTab:Object(g.createAction)("CHANGE_ACTIVE_FILTER",e=>t=>e({activeFilter:t})),storeInstallPromptEvent:Object(g.createAction)("STORE_INSTALL_PROMPT_EVENT",e=>t=>e({event:t}))},C={ready:!1,openedSideMenu:!1,openedFilter:!1,openedDeckConfig:!1,activeFilter:"BASIC",installPromptEvent:null};var v=n(127);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(n,!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const j={basic:{belongStates:[],costs:[],unitTypes:[],forceMin:1,forceMax:10,useCostRatioForce:!1,costRatioForceMin:-4,costRatioForceMax:5,costRatioBaseForces:{10:3,15:6,20:8,25:9,30:10},intelligenceMin:1,intelligenceMax:10,conquestMin:0,conquestMax:4,skills:[],skillsAnd:!1,searchText:""},detail:{genMains:[],genMainsAnd:!1,rarities:[],generalTypes:[],varTypes:[],majorVersions:[],versions:[],enableDetailVersion:!1,pockets:[]},strategies:{showStrategyExplanation:!1,moraleMin:1,moraleMax:12,strategyCategories:[],strategyRanges:[],strategyTimes:[],strategySearchName:"",strategySearchExplanation:""}},w={filterCondition:j,effectiveFilterCondition:j,filterContents:{belongStates:[],costs:[],unitTypes:[],skills:[],genMains:[],rarities:[],generalTypes:[],varTypes:[],versions:[],majorVersions:[],strategyCategories:[],strategyRanges:[],strategyTimes:[]},generals:[],strategies:[],currentPage:1,pageLimit:50},S={resetConditions:Object(g.createAction)("RESET_CONDITIONS"),applyCondition:Object(g.createAction)("APPLY_CONDITION"),setBasicCondition:Object(g.createAction)("SET_BASIC_CONDITION",e=>t=>e({condition:t})),setDetailCondition:Object(g.createAction)("SET_DETAIL_CONDITION",e=>t=>e({condition:t})),setStrategiesCondition:Object(g.createAction)("SET_STRATEGIES_CONDITION",e=>t=>e({condition:t})),setShowStrategyExplanation:Object(g.createAction)("SET_SHOW_STRATEGY_EXPLANATION",e=>t=>e(t)),setBaseData:Object(g.createAction)("SET_BASE_DATA",e=>t=>e({baseData:t})),incrementPage:Object(g.createAction)("INCREMENT_PAGE",e=>()=>e({page:1})),resetPage:Object(g.createAction)("RESET_PAGE"),decrementPage:Object(g.createAction)("DECREMENT_PAGE",e=>()=>e({page:-1}))};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const x={searchCondition:void 0,deckConstraints:{limitCost:80,sameCard:"personal"}},I={setActiveCard:Object(g.createAction)("SET_ACTIVE_CARD",e=>t=>e(t)),searchByDeck:Object(g.createAction)("SEARCH_BY_DECK",e=>(t,n)=>e({index:t,condition:n})),clearActiveCard:Object(g.createAction)("CLEAR_ACTIVE_CARD"),setDeckConstraints:Object(g.createAction)("SET_DECK_CONSTRAINTS",e=>t=>e({condition:t}))};n(6),n(161);var R=n(1),M=n.n(R),_=n(9),V=n(120);n(165);class B extends c.a.PureComponent{constructor(){super(...arguments),this.handleTabClick=e=>{const t=e.currentTarget.dataset.tab;t&&this.props.onTabChanged(t)}}render(){const{tabs:e,activeTab:t}=this.props,n=[];return Object.entries(e).forEach(e=>{let[a,r]=e;const s=t===a,o="tab-button-".concat(a.toLowerCase()),i=M()([o,{active:s}]);n.push(c.a.createElement("button",{key:a,"data-tab":a,className:i,onClick:this.handleTabClick},r))}),c.a.createElement("div",{className:"card-filter-tabs"},n)}}n(166);var L=c.a.memo(e=>{let{resetConditions:t,closeFilter:n}=e;return c.a.createElement("div",{className:"card-filter-actions"},c.a.createElement("button",{className:"action-buton-reset",onClick:t},"リセット"),c.a.createElement("button",{className:"action-buton-ok",onClick:n},"OK"))}),G=(n(167),n(121));function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var U=Object(l.b)(e=>({installPromptEvent:e.windowReducer.installPromptEvent}),e=>Object(m.a)({storeInstallPromptEvent:O.storeInstallPromptEvent},e),(e,t)=>{return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{pwaInstallEnabled:!!e.installPromptEvent},{},{installPrompt:async()=>{e.installPromptEvent&&(await e.installPromptEvent.prompt(),t.storeInstallPromptEvent(null))}})},{areMergedPropsEqual:()=>!1})(class extends c.a.PureComponent{constructor(){super(...arguments),this.handleInstallPrompt=e=>{this.props.pwaInstallEnabled?this.props.installPrompt():e.stopPropagation()}}render(){const{pwaInstallEnabled:e}=this.props;return c.a.createElement("ul",{className:"side-menu-list"},c.a.createElement("li",{className:"side-menu-item"},c.a.createElement("a",{href:"./about.html",target:"_blank",rel:"noopener"},"このツールについて",c.a.createElement(_.a,{className:"external-link-icon",icon:G.faExternalLinkAlt}))),c.a.createElement("li",{className:"side-menu-item pwa-install"},c.a.createElement("a",{onClick:this.handleInstallPrompt,className:M()({disabled:!e})},"インストールする")))}});n(109),n(44),n(76),n(23),n(37);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const K={showDialog:Object(g.createAction)("SHOW_DIALOG",e=>t=>e(t)),closeDialog:Object(g.createAction)("CLOSE_DIALOG")},Q={show:!1,title:"",message:"",logoUrl:void 0,redText:"",blueText:"",cancelable:!0,animation:!0,actionRed:()=>{},actionBlue:()=>{},actionCancel:void 0};const X={datalistReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_CONDITIONS":return N({},e,{filterCondition:j,effectiveFilterCondition:j,currentPage:w.currentPage});case"APPLY_CONDITION":return N({},e,{effectiveFilterCondition:Object(v.a)(e.filterCondition),currentPage:w.currentPage});case"SET_BASIC_CONDITION":return N({},e,{filterCondition:N({},e.filterCondition,{basic:N({},e.filterCondition.basic,{},t.payload.condition)})});case"SET_DETAIL_CONDITION":return N({},e,{filterCondition:N({},e.filterCondition,{detail:N({},e.filterCondition.detail,{},t.payload.condition)})});case"SET_STRATEGIES_CONDITION":return N({},e,{filterCondition:N({},e.filterCondition,{strategies:N({},e.filterCondition.strategies,{},t.payload.condition)})});case"SET_SHOW_STRATEGY_EXPLANATION":return N({},e,{filterCondition:N({},e.filterCondition,{strategies:N({},e.filterCondition.strategies,{showStrategyExplanation:t.payload})})});case"SET_BASE_DATA":{const n=t.payload.baseData,{generals:a,strategies:r,filterContents:s}=n;return N({},e,{filterCondition:j,effectiveFilterCondition:j,currentPage:w.currentPage,filterContents:s,generals:a,strategies:r})}case"RESET_PAGE":return N({},e,{currentPage:w.currentPage});case"INCREMENT_PAGE":case"DECREMENT_PAGE":{const n=t.payload.page;return N({},e,{currentPage:e.currentPage+n})}default:return e}},deckReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE_CARD":return A({},e,{activeIndex:t.payload,searchCondition:void 0});case"SEARCH_BY_DECK":{const{index:n,condition:a}=t.payload;return A({},e,{activeIndex:n,searchCondition:a})}case"CLEAR_ACTIVE_CARD":return A({},e,{activeIndex:void 0,searchCondition:void 0});case"SET_DECK_CONSTRAINTS":return A({},e,{deckConstraints:A({},e.deckConstraints,{},t.payload.condition)});default:return e}},dialogReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_DIALOG":{const e=t.payload,{cancelable:n,animation:a}=e;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){W(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Y(e,["cancelable","animation"]),{show:!0,cancelable:null==n||n,animation:null==a||a})}case"CLOSE_DIALOG":return Q;default:return e}},windowReducer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BE_READY":return b({},e,{ready:!0});case"CHANGE_SIDEMENU_VISIBLE":const{payload:{openedSideMenu:n}}=t;return b({},e,{openedSideMenu:n});case"CHANGE_FILTER_VISIBLE":const{payload:{openedFilter:a}}=t;return b({},e,{openedFilter:a});case"CHANGE_DECK_CONFIG_VISIBLE":const{payload:{openedDeckConfig:r}}=t;return b({},e,{openedDeckConfig:r});case"CLOSE_ALL_MODAL":return b({},e,{openedFilter:!1,openedDeckConfig:!1});case"CHANGE_ACTIVE_FILTER":const{payload:{activeFilter:s}}=t;return b({},e,{activeFilter:s});case"STORE_INSTALL_PROMPT_EVENT":const{payload:{event:c}}=t;return b({},e,{installPromptEvent:c});default:return e}}};var J=Object(m.c)(Object(m.b)(X));function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ee="deck";class te{constructor(e,t){this.props=e,this.generals=t,this.push=e=>{const t=new URLSearchParams(window.location.search);this.toQuery(e)?t.set(ee,this.toQuery(e)):t.delete(ee);const n="?".concat(t);"?"!==n?this.props.history.push(n):this.props.history.push("")},this.toQuery=e=>e.map(this.toQueryDeckCard).filter(e=>e).join("|"),this.toQueryDeckCard=e=>{const t=this.content;if("general"in e){const n=this.generals.find(t=>t.id===e.general);if(!n)return"";const a=t.genMains.find(t=>t.id===e.genMain);return[e.pocket?n.pocketCode:n.code,a?a.code:""].join("_")}const n=t.belongStates.find(t=>t.id===e.belongState),a=n?n.nameShort:"",r=t.unitTypes.find(t=>t.id===e.unitType),s=r?r.name[0]:"";return["","",e.cost,a,s].join("_")},this.parseDeckCards=()=>{const e=new URLSearchParams(this.props.location.search).get(ee);return e?e.split("|").map(this.parseDeckCard):[]},this.parseDeckCard=e=>{const[t,n,a,r,s]=e.split("_"),c=this.parseDeckCardGeneral({code:t,genMainCode:n});return c||this.parseDeckCardDummy({cost:a,belongStateNameShort:r,unitTypeName:s})},this.parseDeckCardGeneral=e=>{let{code:t,genMainCode:n}=e;if(!t)return null;const a=this.generals.find(e=>e.code===t||e.pocketCode===t);if(!a)return null;const r=a.code!==t,s=this.content.genMains.find(e=>e.code===n);let c=void 0;return s&&a.genMains.includes(s)&&(c=s.id),{general:a.id,genMain:c,pocket:r}},this.parseDeckCardDummy=e=>{let{cost:t,belongStateNameShort:n,unitTypeName:a}=e;const r=this.content.belongStates.find(e=>e.nameShort===n),s=this.content.unitTypes.find(e=>e.name[0]===a);return{cost:t&&this.content.costs.findIndex(e=>e.code===t)?t:"10",belongState:r?r.id:void 0,unitType:s?s.id:void 0}},this.values=this.parseDeckCards()}get content(){return J.getState().datalistReducer.filterContents}get deckCards(){return this.values}}class ne extends te{constructor(){super(...arguments),this.addDeckGeneral=e=>{const t=[...this.deckCards,$({},e)];this.push(t)},this.changeDeckGeneral=(e,t)=>{const n=[...this.deckCards];n[e]=$({},t),this.push(n)},this.addDeckDummy=e=>{const t=[...this.deckCards,$({},e)];this.push(t)},this.setDeckDummyValue=(e,t)=>{const n=[...this.deckCards],a=n[e];!a||"general"in a||(n[e]=$({},a,{},t),this.push(n))},this.removeDeck=e=>{const t=this.deckCards.filter((t,n)=>n!==e);this.push(t)},this.clearDeck=()=>{this.push([])},this.selectMainGen=(e,t)=>{const n=[...this.deckCards],a=n[e];a&&"general"in a&&(n[e]=$({},a,{genMain:t}),this.push(n))}}}n(178),n(181);var ae=n(48),re=n(122),se=(n(182),n(59)),ce=n(60);class oe extends c.a.PureComponent{constructor(){super(...arguments),this.handleSelectMainGen=e=>{const{index:t,onSelectMainGen:n}=this.props;let a=e.currentTarget.value;null!=a&&""!==a||(a=void 0),n(t,a)},this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:n}=this.props;n(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:n}=this.props;n(t)},this.handleSearch=e=>{e.stopPropagation();const{index:t,onToggleSearch:n,general:a}=this.props;n(t,{cost:a.raw.cost,belongState:a.raw.state,unitType:a.raw.unit_type})}}render(){const{general:e,genMain:t,active:n,search:a,pocket:r}=this.props,s={backgroundColor:e.state.thinColor},o=e.state.color,i={backgroundColor:o},l=[o,"".concat(o," 30px"),"transparent 92px","transparent"],u={background:"linear-gradient(-30deg, ".concat(l.join(","),")")},d=[];e.skills.forEach(e=>{d.push(c.a.createElement("span",{className:"skill",key:e.id},e.nameShort))}),0===d.length&&d.push(c.a.createElement("span",{className:"no-skill",key:0},"特技なし"));const m=[];e.genMains.forEach((e,t)=>{m.push(c.a.createElement("option",{value:e.id,key:t},e.nameShort))});const p=null!=t?t:"";return c.a.createElement("div",{className:M()("deck-card",{active:n}),style:s,onClick:this.handleActive},c.a.createElement("div",{className:"deck-card-inner-top"},c.a.createElement("img",{className:"general-thumb",src:e.thumbUrl(r)}),c.a.createElement("div",{className:"shadow",style:u}),c.a.createElement("span",{className:"state",style:i},e.state.nameShort),c.a.createElement("span",{className:"version",style:i},e.version),c.a.createElement("span",{className:"cost","data-label":"コスト"},e.cost.name),c.a.createElement("span",{className:"unit","data-label":"兵種"},e.unitType.nameShort),c.a.createElement("span",{className:"name"},c.a.createElement("span",{className:"rarity"},e.rarity.name),e.name)),c.a.createElement("div",{className:"deck-card-inner-bottom"},c.a.createElement("span",{className:"force","data-label":"武"},e.force),c.a.createElement("span",{className:"intelligence","data-label":"知"},e.intelligence),c.a.createElement("span",{className:"conquest","data-label":"制圧"},e.conquest),c.a.createElement("span",{className:"skills"},d),c.a.createElement("span",{className:"gen-mains","data-label":"主将器"},c.a.createElement("select",{className:"gen-mains-select",value:p,onChange:this.handleSelectMainGen},c.a.createElement("option",{value:""}),m))),c.a.createElement("div",{className:"tool-box"},c.a.createElement("button",{className:"remove",onClick:this.handleRemove},c.a.createElement(_.a,{icon:se.faMinusCircle})),c.a.createElement("button",{className:M()("search",{enable:a}),onClick:this.handleSearch},c.a.createElement(_.a,{icon:ce.faSearch}))))}}n(183);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const de=Object(l.b)(e=>({generals:e.datalistReducer.generals,belongStates:e.datalistReducer.filterContents.belongStates,costs:e.datalistReducer.filterContents.costs,unitTypes:e.datalistReducer.filterContents.unitTypes}),null,(e,t,n)=>{const{generals:a}=e;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(n,!0).forEach((function(t){le(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},ue(e,["generals"]),{},{setDeckValue:new ne(n,a).setDeckDummyValue},{},n)})(class extends c.a.PureComponent{constructor(){super(...arguments),this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:n}=this.props;n(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:n}=this.props;n(t)},this.handleSearch=e=>{e.stopPropagation();const{index:t,onToggleSearch:n,deckCard:a}=this.props;n(t,a)},this.handleChangeDeckValue=e=>{const{index:t,setDeckValue:n}=this.props,a=e.currentTarget.name;let r=e.currentTarget.value;""===r&&(r=void 0),n(t,{[a]:r})}}render(){const{deckCard:e,active:t,search:n,belongStates:a,costs:r,unitTypes:s}=this.props,o={},i={},l=e.belongState?a.find(t=>t.id===e.belongState):void 0,u=e.cost?r.find(t=>t.id===e.cost):void 0,d=e.unitType?s.find(t=>t.id===e.unitType):void 0;let m="",p="",h=!1;l&&(o.backgroundColor=l.thinColor,i.backgroundColor=l.color,m=l.id,p=l.nameShort||"",h=!0);let g="";u&&(g=u.name);const f={};let b="",y="";d?(b=d.id,y=d.nameShort||""):f.display="none";const E=[];a.forEach((e,t)=>{E.push(c.a.createElement("option",{value:e.id,key:t},e.name))});const O=[];r.forEach((e,t)=>{O.push(c.a.createElement("option",{value:e.id,key:t},e.name))});const C=[];return s.forEach((e,t)=>{C.push(c.a.createElement("option",{value:e.id,key:t},e.nameShort||e.name))}),c.a.createElement("div",{className:M()("deck-dummy-card",{"has-state":h,active:t}),style:o,onClick:this.handleActive},c.a.createElement("div",{className:"deck-card-inner-top",style:i},c.a.createElement("span",{className:"state"},p),c.a.createElement("span",{className:"cost","data-label":"コスト"},g),c.a.createElement("span",{className:"unit",style:f,"data-label":"兵種"},y),c.a.createElement("div",{className:"edit"},c.a.createElement("span",{className:"select-item-container","data-label":"勢力"},c.a.createElement("select",{className:"select-item",name:"belongState",value:m,onChange:this.handleChangeDeckValue},c.a.createElement("option",{value:""}),E)),c.a.createElement("span",{className:"select-item-container","data-label":"コスト"},c.a.createElement("select",{className:"select-item",name:"cost",value:e.cost,onChange:this.handleChangeDeckValue},O)),c.a.createElement("span",{className:"select-item-container","data-label":"兵種"},c.a.createElement("select",{className:"select-item",name:"unitType",value:b,onChange:this.handleChangeDeckValue},c.a.createElement("option",{value:""}),C)))),c.a.createElement("div",{className:"deck-card-inner-bottom"},c.a.createElement("div",{className:"tool-box"},c.a.createElement("button",{className:"remove",onClick:this.handleRemove},c.a.createElement(_.a,{icon:se.faMinusCircle})),c.a.createElement("button",{className:M()("search",{enable:n}),onClick:this.handleSearch},c.a.createElement(_.a,{icon:ce.faSearch})))))}});var me=Object(d.e)(de);var pe=function(e,t){return e.length-(null!=t?1:0)<8};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(n,!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function be(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const ye={areOwnPropsEqual:(e,t)=>{const n=new URLSearchParams(e.location.search),a=new URLSearchParams(t.location.search);return n.get("deck")===a.get("deck")},areMergedPropsEqual:()=>!1},Ee=Object(l.b)(e=>({enableSearch:null!=e.deckReducer.searchCondition,activeIndex:e.deckReducer.activeIndex,generals:e.datalistReducer.generals,limitCost:e.deckReducer.deckConstraints.limitCost}),e=>Object(m.a)({openDeckConfig:O.openDeckConfig,setActiveCard:I.setActiveCard,clearActiveCard:I.clearActiveCard,searchByDeck:I.searchByDeck,resetPage:S.resetPage,showDialog:K.showDialog},e),(e,t,n)=>{const{enableSearch:a,activeIndex:r,generals:s,limitCost:c}=e,{clearActiveCard:o,searchByDeck:i,resetPage:l,showDialog:u}=t,d=be(t,["clearActiveCard","searchByDeck","resetPage","showDialog"]),m=new ne(n,s),p=pe(m.deckCards);let h=0,g=0,f=0,b=0,y=!1,E=!1;const O=[],C=new Set,v=new Map,k=new Map;m.deckCards.forEach(e=>{let t;if("general"in e){const n=null!=e.general?s.find(t=>t.id===e.general):void 0;if(!n)return;h+=n.force,g+=n.intelligence,f+=n.conquest,t=n.raw.cost,C.add(n.raw.state);const a=e.genMain;if(null!=a){const e=n.genMains.find(e=>e.id===a);if(e){const t=v.get(e.name)||0;v.set(e.name,t+1)}}n.skills.forEach(e=>{const t=k.get(e.name)||0;k.set(e.name,t+1)}),O.push({general:n,genMain:a,pocket:e.pocket})}else y=!0,t=e.cost,e.belongState?C.add(e.belongState):E=!0,O.push(e);b+=parseInt(t)});const N=C.size+(E?1:0);let P;1===N?P=12:2===N?P=9:(E=!1,P=6);const j=40*(k.get("魅力")||0);let w;w=f>=11?"S":f>=9?"A":f>=7?"B":"C";let S=2*(v.get("同盟者")||0);P+S>=12?(S=12-P,P=12):P+=S;const D=40*(v.get("士気上昇")||0),A=3*(v.get("知力上昇")||0);g+=A;const T=1*(v.get("征圧力上昇")||0),x={deckCards:O,activeIndex:r,enabledAddDeck:p,enableSearch:a,totalForce:h,totalIntelligence:g,intelligenceByMainGen:A,totalConquest:f+=T,conquestByMainGen:T,conquestRank:w,totalCost:b,limitCost:c,maxMorale:P,maxMoraleByMainGen:S,tolalMoraleByCharm:j,tolalMoraleByMainGen:D,hasDummy:y,hasStateDummy:E},I=ge({},d,{addDeckDummy:()=>{if(!p)return;let e,t,n="10";const{costs:a,belongStates:r,unitTypes:s}=J.getState().datalistReducer.filterCondition.basic;a.length>=1&&(n=[...a].sort()[0]),1===r.length&&(e=r[0]),1===s.length&&(t=s[0]),o(),m.addDeckDummy({cost:n,belongState:e,unitType:t})},selectMainGen:(e,t)=>{o(),m.selectMainGen(e,t)},removeDeck:e=>{o(),m.removeDeck(e)},clearDeck:()=>{O.length>0&&u({title:"デッキクリア",message:"デッキをクリアします。",redText:"クリア",actionRed:()=>{o(),m.clearDeck()},blueText:"キャンセル",actionBlue:()=>{}})},toggleSearch:(e,t)=>{l(),r===e&&a?d.setActiveCard(e):i(e,t)}});return ge({},x,{},I)},ye)(class extends c.a.Component{render(){const{deckCards:e,activeIndex:t,enabledAddDeck:n,enableSearch:a,totalForce:r,totalIntelligence:s,intelligenceByMainGen:o,totalConquest:i,conquestByMainGen:l,conquestRank:u,totalCost:d,limitCost:m,maxMorale:p,maxMoraleByMainGen:h,tolalMoraleByCharm:g,tolalMoraleByMainGen:f,hasDummy:b,hasStateDummy:y,addDeckDummy:E,clearDeck:O,openDeckConfig:C,selectMainGen:v,setActiveCard:k,removeDeck:N,toggleSearch:P}=this.props,j=[];e.forEach((e,n)=>{const r=t===n;if("general"in e){const{general:t,genMain:s,pocket:o}=e;j.push(c.a.createElement(oe,{key:n,index:n,active:r,search:r&&a,genMain:s,general:t,pocket:o,onSelectMainGen:v,onActive:k,onRemoveDeck:N,onToggleSearch:P}))}else j.push(c.a.createElement(me,{key:n,index:n,active:r,search:r&&a,deckCard:e,onActive:k,onRemoveDeck:N,onToggleSearch:P}))});let w=d-m,S="残り",D=!1,A=!1;w>0?(S="コストオーバー",D=!0):w<0&&(w*=-1,A=!0);const T=(g+f)/100,x=g/100,I=f/100;return c.a.createElement("div",{className:"deck-board"},c.a.createElement("div",{className:"deck-card-list"},j,c.a.createElement("div",{className:"deck-actions"},c.a.createElement("div",{className:M()("add-new-deck-card","button",{disabled:!n}),onClick:E},"追加",c.a.createElement(_.a,{icon:ae.faPlusCircle})),c.a.createElement("div",{className:"deck-clear button",onClick:O},"クリア"),c.a.createElement("div",{className:"open-deck-config button",onClick:C},c.a.createElement(_.a,{icon:re.faCog})))),c.a.createElement("div",{className:"deck-total"},c.a.createElement("div",{className:"total","data-label":"総武力"},c.a.createElement("span",{className:M()("force",{dummy:b})},r)),c.a.createElement("div",{className:"total","data-label":"総知力"},c.a.createElement("span",{className:M()("has-gen-main",{active:o>0})},"将器込み"),c.a.createElement("span",{className:M()("intelligence",{dummy:b})},s,c.a.createElement("span",{className:M()("breakdown",{active:o>0})},"(",s-o,c.a.createElement("span",{className:"addition-by-main-gen"},"+",o),")"))),c.a.createElement("div",{className:"total","data-label":"総征圧力"},c.a.createElement("span",{className:M()("has-gen-main",{active:l>0})},"将器込み"),c.a.createElement("span",{className:M()("conquest-rank",{dummy:b})},u),c.a.createElement("span",{className:M()("conquest",{dummy:b})},i,c.a.createElement("span",{className:M()("breakdown",{active:l>0})},"(",i-l,c.a.createElement("span",{className:"addition-by-main-gen"},"+",l),")"))),c.a.createElement("div",{className:"total total-cost","data-label":"総コスト"},c.a.createElement("span",{className:"cost"},(d/10).toFixed(1)),c.a.createElement("span",{className:M()("cost-remain",{over:D,under:A})},"(",S," ",(w/10).toFixed(1),")")),c.a.createElement("div",{className:"total","data-label":"最大士気"},c.a.createElement("span",{className:M()("has-gen-main",{active:h>0})},"将器込み"),c.a.createElement("span",{className:M()("max-morale",{dummy:y})},p,c.a.createElement("span",{className:M()("breakdown",{active:h>0})},"(",p-h,c.a.createElement("span",{className:"addition-by-main-gen"},"+",h),")"))),c.a.createElement("div",{className:"total","data-label":"開幕士気"},c.a.createElement("span",{className:M()("has-gen-main",{active:I>0})},"将器込み"),c.a.createElement("span",{className:"start-morale"},T,c.a.createElement("span",{className:M()("breakdown",{active:I>0})},"(",x,c.a.createElement("span",{className:"addition-by-main-gen"},"+",I),")")))))}});var Oe=Object(d.e)(Ee);n(185),n(186);class Ce extends c.a.PureComponent{constructor(){super(...arguments),this.handleAddDeckClick=e=>{const{general:t,onAddDeck:n}=this.props,a=e.currentTarget.dataset.genMain;n({general:t.id,genMain:a,pocket:!1})}}render(){const{general:e,show:t,enabledAddDeck:n,showStrategyExplanation:a}=this.props,r={backgroundColor:e.state.thinColor},s={backgroundColor:e.state.color};null==t||t||(r.display="none");const o=[];e.skills.forEach(e=>{o.push(c.a.createElement("span",{className:"skill",key:e.id},e.nameShort))}),0===o.length&&o.push(c.a.createElement("span",{className:"no-skill",key:0},"特技なし"));const i=e.strategy.name,l=e.strategy.morale,u=e.strategy.explanation,d=[];u.split("\n").forEach((e,t)=>{d.push(c.a.createElement("span",{key:t},e))});const m=[];return e.genMains.forEach((e,t)=>{m.push(c.a.createElement("button",{className:"gen-main",key:t,disabled:!n,"data-gen-main":e.id,onClick:this.handleAddDeckClick},e.nameShort,c.a.createElement(_.a,{icon:ae.faPlusCircle})))}),c.a.createElement("div",{className:"general-card",style:r},c.a.createElement("span",{className:"state",style:s},e.state.nameShort),c.a.createElement("span",{className:"version"},e.version),c.a.createElement("span",{className:"rarity"},e.rarity.name),c.a.createElement("span",{className:"name"},e.name),c.a.createElement("span",{className:"image"},c.a.createElement(h.a,{height:64,once:!0,scroll:!1,resize:!1,placeholder:c.a.createElement("div",{className:"no-image general-thumb"})},c.a.createElement("img",{className:"general-thumb",src:e.thumbUrl(!1)}))),c.a.createElement("span",{className:"cost","data-label":"コスト"},e.cost.name),c.a.createElement("span",{className:"unit","data-label":"兵種"},e.unitType.nameShort),c.a.createElement("span",{className:"force","data-label":"武"},e.force),c.a.createElement("span",{className:"intelligence","data-label":"知"},e.intelligence),c.a.createElement("span",{className:"conquest","data-label":"制圧"},e.conquest),c.a.createElement("span",{className:"skills"},o),c.a.createElement("span",{className:M()("strategy",{show:!a}),"data-label":"計略名",title:u},i),c.a.createElement("span",{className:M()("strategy-explanation",{show:a})},d),c.a.createElement("span",{className:"strategy-morale","data-label1":"必要","data-label2":"士気"},l),c.a.createElement("span",{className:"gen-mains","data-label":"主将器"},m),c.a.createElement("span",{className:"buttons"},c.a.createElement("button",{className:"add-deck",disabled:!n,onClick:this.handleAddDeckClick},c.a.createElement(_.a,{icon:ae.faPlusCircle}))))}}n(78);var ve=n(61),ke=n(63);function Ne(e,t){if(null==e)return!1;return t.split(/\s+/g).filter(e=>e.length>0).every(t=>e.includes(t))}var Pe=(e,t)=>{const{moraleMin:n,moraleMax:a,strategyCategories:r,strategyRanges:s,strategyTimes:c,strategySearchName:o,strategySearchExplanation:i}=t;return!(n>e.morale)&&(!(a<e.morale)&&(!(r.length>0&&!r.includes(e.stratCategory))&&(!(s.length>0&&!s.includes(e.stratRange))&&(!(c.length>0&&!c.includes(e.stratTime))&&(!(o.length>0&&!Ne(e.name,o)&&!function(e,t){return null!=e&&t.split(/\s+/g).filter(e=>e.length>0).map(e=>Object(ve.a)(Object(ke.a)(e),!0).replace(/[ﾞﾟ]/g,"")).every(t=>e.includes(t))}(e.nameRuby,o))&&!(i.length>0&&!Ne(e.explanation,i)))))))};var je=(e,t)=>{const{belongStates:n,costs:a,unitTypes:r,forceMin:s,forceMax:c,useCostRatioForce:o,costRatioForceMin:i,costRatioForceMax:l,costRatioBaseForces:u,intelligenceMin:d,intelligenceMax:m,conquestMin:p,conquestMax:h,skills:g,skillsAnd:f,searchText:b}=t.basic,{raw:y}=e;if(n.length>0&&!n.includes(y.state))return!1;if(a.length>0&&!a.includes(y.cost))return!1;if(r.length>0&&!r.includes(y.unit_type))return!1;if(o){const t=u[e.raw.cost];if(null==t)return!1;const n=e.force-t;if(i>n)return!1;if(l<n)return!1}else{if(s>e.force)return!1;if(c<e.force)return!1}if(d>e.intelligence)return!1;if(m<e.intelligence)return!1;if(p>e.conquest)return!1;if(h<e.conquest)return!1;if(g.length>0){const t=t=>"0"===t?0===e.skills.length:e.skills.map(e=>e.id).includes(t);if(f){if(!g.every(t))return!1}else if(!g.some(t))return!1}const{genMains:E,genMainsAnd:O,rarities:C,generalTypes:v,varTypes:k,versions:N,majorVersions:P,enableDetailVersion:j,pockets:w}=t.detail;if(C.length>0&&!C.includes(y.rarity))return!1;if(j){if(N.length>0&&!N.includes(e.versionValue))return!1}else if(P.length>0&&!P.includes(y.major_version))return!1;if(E.length>0){const t=t=>e.genMains.map(e=>e.id).includes(t);if(O){if(!E.every(t))return!1}else if(!E.some(t))return!1}if(v.length>0&&!v.includes(y.general_type))return!1;if(k.length>0&&!k.includes(y.ver_type))return!1;if(1===w.length&&"1"===w[0]!=(""!==y.pocket_code))return!1;if(b.length>0){if(null==e.personal)return!1;if(!function(e,t){return null!=e&&t.split(/\s+/g).filter(e=>e.length>0).some(t=>e.includes(t))}(e.personal.name,b)&&!function(e,t){return null!=e&&t.split(/\s+/g).filter(e=>e.length>0).map(e=>Object(ve.a)(Object(ke.a)(e),!0).replace(/[ﾞﾟ]/g,"")).some(t=>e.includes(t))}(e.personal.name_ruby,b))return!1}return!0};function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(n,!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ae={areOwnPropsEqual:(e,t)=>{const n=new URLSearchParams(e.location.search),a=new URLSearchParams(t.location.search);return n.get("deck")===a.get("deck")},areMergedPropsEqual:(e,t)=>e.activeIndex===t.activeIndex&&(e.sameCard===t.sameCard&&(e.enabledAddDeck===t.enabledAddDeck&&(e.showStrategyExplanation===t.showStrategyExplanation&&(e.searchedAll===t.searchedAll&&(e.searchedOffset===t.searchedOffset&&(!!((e,t)=>e.length===t.length&&e.every(e=>t.includes(e)))(e.searchedGeneralIds,t.searchedGeneralIds)&&!!((e,t,n)=>e.length===t.length&&e.every(e=>t.some(t=>n(e,t))))(e.deckPersonals,t.deckPersonals,(e,t)=>e.personal===t.personal&&e.strat===t.strat)))))))},Te=Object(l.b)(e=>({generals:e.datalistReducer.generals,strategies:e.datalistReducer.strategies,currentPage:e.datalistReducer.currentPage,pageLimit:e.datalistReducer.pageLimit,filterCondition:e.datalistReducer.effectiveFilterCondition,activeIndex:e.deckReducer.activeIndex,deckSearchCondition:e.deckReducer.searchCondition,sameCard:e.deckReducer.deckConstraints.sameCard}),e=>Object(m.a)({clearActiveCard:I.clearActiveCard,decrementPage:S.decrementPage,incrementPage:S.incrementPage},e),(e,t,n)=>{const{generals:a,strategies:r,currentPage:s,pageLimit:c,filterCondition:o,activeIndex:i,deckSearchCondition:l,sameCard:u}=e,d=new ne(n,a),m=[],p=d.deckCards;p.forEach((e,t)=>{i!==t&&"general"in e&&m.push(e.general)});const h=a.filter(e=>m.includes(e.id)).map(e=>{const{personal:t,strat:n}=e.raw;return{personal:t,strat:n}});let g=o;l&&(g=Se({},g,{basic:Se({},g.basic)}),null!=l.belongState&&(g.basic.belongStates=[l.belongState]),g.basic.costs=[l.cost],null!=l.unitType&&(g.basic.unitTypes=[l.unitType]));const f=r.filter(e=>Pe(e,g.strategies));let b=[];if(f.length>0){const e=f.length!==r.length?f.map(e=>e.id):void 0;b=a.filter(t=>!(e&&!e.includes(t.strategy.id))&&je(t,g)).map(e=>e.id)}const y=b.length,E=(s-1)*c,O=E>0,C=E+c<y;b=b.slice(E,E+c);const v=pe(p,i);let k;return k=v?"personal-strategy"===u?e=>v&&!h.some(t=>t.personal===e.raw.personal&&t.strat===e.raw.strat):e=>v&&!h.some(t=>t.personal===e.raw.personal):()=>!1,Se({},{generals:a,searchedGeneralIds:b,searchedAll:y,searchedOffset:E,searchedLimit:c,hasPrev:O,hasNext:C,showStrategyExplanation:g.strategies.showStrategyExplanation},{},{addDeckGeneral:e=>{v&&(t.clearActiveCard(),null!=i?d.changeDeckGeneral(i,e):d.addDeckGeneral(e))},onPagePrev:t.decrementPage,onPageNext:t.incrementPage,enabledAddDeckGeneral:k},{},{activeIndex:i,sameCard:u,deckPersonals:h,enabledAddDeck:v})},Ae)(class extends c.a.PureComponent{constructor(){super(...arguments),this.scrollArea=c.a.createRef(),this.handleOnAddDeck=e=>{this.props.addDeckGeneral(e)},this.handleOnPagePrev=e=>{e.stopPropagation(),this.props.onPagePrev()},this.handleOnPageNext=e=>{e.stopPropagation(),this.props.onPageNext()},this.handleOnScroll=()=>{Object(p.forceCheck)()}}componentDidUpdate(e){const t=this.props.searchedGeneralIds,n=e.searchedGeneralIds,a=t.length===n.length&&t.every(e=>n.includes(e)),r=this.scrollArea.current;!a&&r&&(r.scrollTop=0),Object(p.forceCheck)()}render(){const{generals:e,searchedGeneralIds:t,searchedAll:n,searchedOffset:a,searchedLimit:r,hasPrev:s,hasNext:o,showStrategyExplanation:i,enabledAddDeckGeneral:l}=this.props,u=[],d=t.length;e.forEach(e=>{const n=t.includes(e.id),a=l(e);u.push(c.a.createElement(Ce,{key:e.id,general:e,onAddDeck:this.handleOnAddDeck,show:n,enabledAddDeck:a,showStrategyExplanation:i}))}),0===d&&u.push(c.a.createElement("div",{key:-1,className:"no-generals"},"該当なし"));const m=n>0?a+1:0;let p=a+r;return p>n&&(p=n),c.a.createElement("div",{className:"cardlist-container",onScroll:this.handleOnScroll},c.a.createElement("div",{className:"cardlist-paging"},c.a.createElement("button",{className:M()("paging-button","prev",{active:s}),onClick:this.handleOnPagePrev},"< 前"),c.a.createElement("div",{className:"pageing-label"},"全",n,"件 ",m," - ",p,"件"),c.a.createElement("button",{className:M()("paging-button","next",{active:o}),onClick:this.handleOnPageNext},"次 >")),c.a.createElement("div",{className:"cardlist-main",ref:this.scrollArea},u))}});var xe=Object(d.e)(Te);let Ie;const Re=500;function Me(e){return t=>{e(S.setBasicCondition(t)),clearTimeout(Ie),Ie=setTimeout(()=>{e(S.applyCondition())},Re)}}function _e(e){return t=>{e(S.setDetailCondition(t)),clearTimeout(Ie),Ie=setTimeout(()=>{e(S.applyCondition())},Re)}}function Ve(e){return t=>{e(S.setStrategiesCondition(t)),clearTimeout(Ie),Ie=setTimeout(()=>{e(S.applyCondition())},Re)}}n(191);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(n,!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Fe=e=>{let{filterContents:t,filterCondition:n,value:a,checked:r}=e,s=n.filter(e=>!e.startsWith("".concat(a,"-")));if(!r){const e=[].concat(...t).filter(e=>e.id.startsWith("".concat(a,"-")));s=s.concat(e.map(e=>e.id))}return s},qe=(e,t,n,a,r)=>{let s=[...t];const c=a.split("-")[0];if(r)n.some(e=>e.startsWith("".concat(c,"-")))||(s=s.filter(e=>e!==c));else if(!s.includes(c)){[].concat(...e).filter(e=>e.id.startsWith("".concat(c,"-"))).every(e=>n.includes(e.id))&&s.push(c)}return s};function Ue(e,t){const n=t.includes(e);let a;return{checked:n,targetValue:a=n?t.filter(t=>t!==e):[...t,e]}}function He(e,t,n){const a=e[t];if(!(a instanceof Array))return console.warn("".concat(t," is not array.")),{};const{targetValue:r}=Ue(n,a);return{[t]:r}}n(192),n(193);const We=["button","filter-item"];class Ye extends c.a.PureComponent{constructor(e){super(e),this.handleClickItem=e=>{const t=e.currentTarget.value,{itemName:n,onClickItem:a}=this.props;a(n,t)},this.buttonClasses=e.addtionalClasses?[...We,...e.addtionalClasses]:We,this.square=this.props.square||!1}createLabel(e){return e.nameShort||e.name}createButton(e,t,n,a,r){return c.a.createElement("button",{key:e,value:e,style:n,className:r,disabled:a,onClick:this.handleClickItem},t)}render(){const{checkedItems:e,items:t,show:n,disabled:a}=this.props,r=this.square,s=[],o=null!=a&&a;t.forEach(t=>{const n=t.id,a=this.createLabel(t),c={};t.color&&(c.backgroundColor=t.color);const i=e.includes(n);s.push(this.createButton(n,a,c,o,M()(this.buttonClasses,{checked:i,square:r})))});const i={};return null==n||n||(i.display="none"),c.a.createElement("div",{className:"button-list",style:i},s)}}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xe=Object(l.b)(e=>{const{searchCondition:t}=e.deckReducer,n=t?t.belongState:void 0;return{belongStates:e.datalistReducer.filterContents.belongStates,basicFilterCondition:e.datalistReducer.filterCondition.basic,deckCardBelongState:n}},e=>({setCondition:Me(e)}),(e,t)=>{const{deckCardBelongState:n,belongStates:a,basicFilterCondition:r}=e;let s=!1,c=r.belongStates;return null!=n&&(s=!0,c=[n]),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(n,!0).forEach((function(t){Qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{filterContents:a,filterCondition:c,searchByDeck:s},{},{toggleCheckList:(e,n)=>{t.setCondition(He(r,e,n))}})},{areMergedPropsEqual:()=>!1})(class extends c.a.Component{render(){const{filterContents:e,filterCondition:t,searchByDeck:n,toggleCheckList:a}=this.props;return c.a.createElement("section",{className:"simple-filter-section"},c.a.createElement("div",{className:"simple-filter-state"},c.a.createElement("h2",{className:"title-inline"},"勢力"),c.a.createElement(Ye,{itemName:"belongStates",items:e,checkedItems:t,onClickItem:a,square:!0,disabled:n})))}});n(194),n(195);class Je extends Ye{createButton(e,t,n,a,r){return"0"!==e?super.createButton(e,t,n,a,r):super.createButton(e,"無",n,a,M()(r,"no-skill"))}}n(196);class ze extends c.a.PureComponent{constructor(){super(...arguments),this.handleOnChange=()=>{const{isOn:e,itemName:t,onChangeValue:n}=this.props;n(t,!e)}}render(){const{isOn:e,labelOff:t,labelOn:n,width:a}=this.props,r={};return null!=a&&(r.width=a),M()("switch-button",{active:e}),c.a.createElement("div",{style:r,className:"switch-item",onClick:this.handleOnChange},c.a.createElement("div",{className:M()("switch-button",{active:!e})},c.a.createElement("button",{className:"switch-button-child"},t)),c.a.createElement("div",{className:M()("switch-button",{active:e})},c.a.createElement("button",{className:"switch-button-child"},n)))}}n(197);class $e extends c.a.PureComponent{constructor(){super(...arguments),this.handleOnChange=e=>{const t=parseFloat(e.currentTarget.value),{itemName:n,onChangeValue:a}=this.props;a(n,t)}}render(){const{min:e,max:t,value:n,className:a,displayText:r,step:s=1}=this.props,o=e<0,i=[];for(let n=e;n<=t;n+=s){const e=r?r(n):"".concat(n),t=o&&n>0?"+":"";i.push(c.a.createElement("option",{key:n,value:n},t,e))}return c.a.createElement("select",{value:n,className:M()("number-select",a),onChange:this.handleOnChange},i)}}n(198);function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(n,!0).forEach((function(t){tt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class nt extends c.a.PureComponent{constructor(){super(...arguments),this.handleOnChangeValue=(e,t)=>{const{setCondition:n,costRatioBaseForces:a}=this.props;n({costRatioBaseForces:et({},a,{[e]:t})})}}render(){const{costRatioBaseForces:e}=this.props;return c.a.createElement("div",{className:"cost-ratio-base-force"},c.a.createElement("span",{className:"title-inline"},"基準武力"),c.a.createElement("label",null,"1.0",c.a.createElement($e,{itemName:"10",onChangeValue:this.handleOnChangeValue,value:e[10],max:5,min:1})),c.a.createElement("label",null,"1.5",c.a.createElement($e,{itemName:"15",onChangeValue:this.handleOnChangeValue,value:e[15],max:7,min:2})),c.a.createElement("label",null,"2.0",c.a.createElement($e,{itemName:"20",onChangeValue:this.handleOnChangeValue,value:e[20],max:9,min:5})),c.a.createElement("label",null,"2.5",c.a.createElement($e,{itemName:"25",onChangeValue:this.handleOnChangeValue,value:e[25],max:10,min:7})),c.a.createElement("label",null,"3.0",c.a.createElement($e,{itemName:"30",onChangeValue:this.handleOnChangeValue,value:e[30],max:10,min:8})))}}n(199);class at extends c.a.PureComponent{constructor(){super(...arguments),this.handleOnChange=e=>{const t=e.currentTarget.value,{itemName:n,onChangeValue:a}=this.props;a(n,t)}}render(){const{value:e,className:t}=this.props;return c.a.createElement("input",{type:"text",value:e,className:M()("search-textbox",t),onChange:this.handleOnChange})}}function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(n,!0).forEach((function(t){ct(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ot=Object(l.b)(e=>{const{searchCondition:t}=e.deckReducer;return{filterCondition:e.datalistReducer.filterCondition.basic,filterContents:e.datalistReducer.filterContents,deckSearchCondition:t}},e=>({setCondition:Me(e)}),(e,t)=>{const{deckSearchCondition:n,filterCondition:a,filterContents:r}=e;let s;if(n){let e,t=!1;null!=n.belongState?(e=[n.belongState],t=!0):e=a.belongStates;const c=[n.cost];let o,i=!1;null!=n.unitType?(o=[n.unitType],i=!0):o=a.unitTypes,s={filterContents:r,searchByDeckBelongState:t,searchByDeckCost:!0,searchByDeckUnitType:i,filterCondition:st({},a,{belongStates:e,costs:c,unitTypes:o})}}else s={filterContents:r,filterCondition:a,searchByDeckBelongState:!1,searchByDeckCost:!1,searchByDeckUnitType:!1};const c=st({},t,{toggleCheckList:(e,n)=>{t.setCondition(He(a,e,n))}});return st({},s,{},c)},{areMergedPropsEqual:()=>!1})(class extends c.a.PureComponent{constructor(){super(...arguments),this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{filterContents:e,filterCondition:t,searchByDeckBelongState:n,searchByDeckCost:a,searchByDeckUnitType:r,setCondition:s,toggleCheckList:o}=this.props;return c.a.createElement("div",null,c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"勢力"),c.a.createElement(Ye,{itemName:"belongStates",items:e.belongStates,checkedItems:t.belongStates,onClickItem:o,square:!0,disabled:n})),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"コスト"),c.a.createElement(Ye,{itemName:"costs",items:e.costs,checkedItems:t.costs,onClickItem:o,square:!0,disabled:a})),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"兵種"),c.a.createElement(Ye,{itemName:"unitTypes",items:e.unitTypes,checkedItems:t.unitTypes,onClickItem:o,square:!0,disabled:r})),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"武力"),c.a.createElement("div",{className:"title-button"},c.a.createElement(ze,{itemName:"useCostRatioForce",onChangeValue:this.handleOnChangeValue,isOn:t.useCostRatioForce,labelOff:"通常",labelOn:"コスト比",width:180})),c.a.createElement("div",{className:M()("normal-force",{active:!t.useCostRatioForce})},c.a.createElement("div",{className:"range"},c.a.createElement($e,{itemName:"forceMin",onChangeValue:this.handleOnChangeValue,value:t.forceMin,max:10,min:1}),"-",c.a.createElement($e,{itemName:"forceMax",onChangeValue:this.handleOnChangeValue,value:t.forceMax,max:10,min:1}))),c.a.createElement("div",{className:M()("cost-ratio-force",{active:t.useCostRatioForce})},c.a.createElement("div",{className:"range"},c.a.createElement($e,{itemName:"costRatioForceMin",onChangeValue:this.handleOnChangeValue,value:t.costRatioForceMin,max:5,min:-5}),"以上"),c.a.createElement(nt,{costRatioBaseForces:t.costRatioBaseForces,setCondition:s}))),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"知力"),c.a.createElement("div",{className:"range"},c.a.createElement($e,{itemName:"intelligenceMin",onChangeValue:this.handleOnChangeValue,value:t.intelligenceMin,max:10,min:1}),"-",c.a.createElement($e,{itemName:"intelligenceMax",onChangeValue:this.handleOnChangeValue,value:t.intelligenceMax,max:10,min:1}))),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"征圧力"),c.a.createElement("div",{className:"range"},c.a.createElement($e,{itemName:"conquestMin",onChangeValue:this.handleOnChangeValue,value:t.conquestMin,max:4,min:0}),"-",c.a.createElement($e,{itemName:"conquestMax",onChangeValue:this.handleOnChangeValue,value:t.conquestMax,max:4,min:0}))),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"特技"),c.a.createElement("div",{className:"title-button"},c.a.createElement(ze,{itemName:"skillsAnd",onChangeValue:this.handleOnChangeValue,isOn:t.skillsAnd,labelOff:"OR",labelOn:"AND"})),c.a.createElement(Je,{itemName:"skills",items:e.skills,checkedItems:t.skills,onClickItem:o,square:!0})),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"武将名検索"),c.a.createElement(at,{itemName:"searchText",value:t.searchText,onChangeValue:this.handleOnChangeValue}),c.a.createElement("div",null,"スペース区切りでOR検索 読み仮名(ひらがな、カタカナ)対応")))}});n(200);const it=[{id:"1",name:"あり"},{id:"0",name:"なし"}];function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dt=Object(l.b)(e=>({filterCondition:e.datalistReducer.filterCondition.detail,filterContents:e.datalistReducer.filterContents}),e=>({setCondition:_e(e)}),(e,t)=>(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach((function(t){ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({},e,{},t,{toggleCheckList:(n,a)=>{t.setCondition(function(e,t,n){const a=e.filterCondition[t];if(!(a instanceof Array))return console.warn("".concat(t," is not array.")),{};const{checked:r,targetValue:s}=Ue(n,a),c={[t]:s};switch(t){case"majorVersions":return Le({},c,{versions:Fe({filterContents:e.filterContents.versions,filterCondition:e.filterCondition.versions,value:n,checked:r})});case"versions":return Le({},c,{majorVersions:qe(e.filterContents.majorVersions,e.filterCondition.majorVersions,s,n,r)});default:return c}}(e,n,a))}}),{areMergedPropsEqual:()=>!1})(class extends c.a.PureComponent{constructor(){super(...arguments),this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{filterContents:e,filterCondition:t,toggleCheckList:n}=this.props,a=[];return e.versions.forEach((e,r)=>{a.push(c.a.createElement(Ye,{key:r+1,itemName:"versions",items:e,checkedItems:t.versions,onClickItem:n}))}),c.a.createElement("div",null,c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"登場弾"),c.a.createElement("div",{className:"title-button"},c.a.createElement(ze,{itemName:"enableDetailVersion",onChangeValue:this.handleOnChangeValue,isOn:t.enableDetailVersion,labelOff:"メジャーVer",labelOn:"詳細Ver",width:220})),c.a.createElement("div",{className:M()("major-version",{active:!t.enableDetailVersion})},c.a.createElement(Ye,{itemName:"majorVersions",items:e.majorVersions,checkedItems:t.majorVersions,onClickItem:n})),c.a.createElement("div",{className:M()("detail-version",{active:t.enableDetailVersion})},a)),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"将器主効果候補"),c.a.createElement("div",{className:"title-button"},c.a.createElement(ze,{itemName:"genMainsAnd",onChangeValue:this.handleOnChangeValue,isOn:t.genMainsAnd,labelOff:"OR",labelOn:"AND"})),c.a.createElement(Ye,{itemName:"genMains",items:e.genMains,checkedItems:t.genMains,onClickItem:n})),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"レアリティ"),c.a.createElement(Ye,{itemName:"rarities",items:e.rarities,checkedItems:t.rarities,onClickItem:n,square:!0})),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"官職"),c.a.createElement(Ye,{itemName:"generalTypes",items:e.generalTypes,checkedItems:t.generalTypes,onClickItem:n})),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"カード種別"),c.a.createElement(Ye,{itemName:"varTypes",items:e.varTypes,checkedItems:t.varTypes,onClickItem:n})),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"ぽけっと武将"),c.a.createElement(Ye,{itemName:"pockets",items:it,checkedItems:t.pockets,onClickItem:n})))}});n(201),n(202);const mt="】";class pt extends Ye{createButton(e,t,n,a,r){if("string"!=typeof t||!t.includes(mt))return super.createButton(e,t,n,a,M()(r,"strategy-category-button"));const s=[],o=t.split(mt);return o.forEach((e,t)=>{t===o.length-1?s.push(c.a.createElement("span",{className:"main-name",key:t},e)):s.push(c.a.createElement("span",{className:"sub-name",key:t},e+mt))}),super.createButton(e,s,n,a,M()(r,"multiline-label","strategy-category-button"))}}n(203);class ht extends Ye{createLabel(e){if(null==e.code)return"";const t="https://3594t.net/img/strat_range/".concat(e.code,".png");return c.a.createElement("img",{className:"range-image",src:t})}createButton(e,t,n,a,r){return super.createButton(e,t,n,a,M()(r,"strategy-range-button"))}}function gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(n,!0).forEach((function(t){bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yt=Object(l.b)(e=>({filterCondition:e.datalistReducer.filterCondition.strategies,filterContents:e.datalistReducer.filterContents}),e=>ft({setCondition:Ve(e)},Object(m.a)({setShowStrategyExplanation:S.setShowStrategyExplanation},e)),(e,t)=>ft({},e,{},t,{toggleCheckList:(n,a)=>{t.setCondition(function(e,t,n){const a=e[t];if(!(a instanceof Array))return console.warn("".concat(t," is not array.")),{};const{targetValue:r}=Ue(n,a);return{[t]:r}}(e.filterCondition,n,a))}}),{areMergedPropsEqual:()=>!1})(class extends c.a.PureComponent{constructor(){super(...arguments),this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{filterContents:e,filterCondition:t,toggleCheckList:n}=this.props;return c.a.createElement("div",null,c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"計略表示切り替え"),c.a.createElement(ze,{itemName:"showStrategyExplanation",onChangeValue:this.handleOnChangeValue,isOn:t.showStrategyExplanation,labelOff:"計略名",labelOn:"計略説明",width:200})),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"計略名検索"),c.a.createElement(at,{itemName:"strategySearchName",value:t.strategySearchName,onChangeValue:this.handleOnChangeValue}),c.a.createElement("div",null,"スペース区切りでAND検索 読み仮名(ひらがな、カタカナ)対応")),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"計略説明検索"),c.a.createElement(at,{itemName:"strategySearchExplanation",value:t.strategySearchExplanation,onChangeValue:this.handleOnChangeValue}),c.a.createElement("div",null,"スペース区切りでAND検索")),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"計略必要士気"),c.a.createElement("div",{className:"range"},c.a.createElement($e,{itemName:"moraleMin",onChangeValue:this.handleOnChangeValue,value:t.moraleMin,max:12,min:1}),"-",c.a.createElement($e,{itemName:"moraleMax",onChangeValue:this.handleOnChangeValue,value:t.moraleMax,max:12,min:1}))),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"計略カテゴリー"),c.a.createElement(pt,{itemName:"strategyCategories",items:e.strategyCategories,checkedItems:t.strategyCategories,onClickItem:n})),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"計略効果時間"),c.a.createElement(Ye,{itemName:"strategyTimes",items:e.strategyTimes,checkedItems:t.strategyTimes,onClickItem:n})),c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"計略範囲"),c.a.createElement(ht,{itemName:"strategyRanges",items:e.strategyRanges,checkedItems:t.strategyRanges,onClickItem:n})))}}),Et=(n(204),n(205),n(126));class Ot extends c.a.PureComponent{constructor(){super(...arguments),this.handleOnClick=()=>{const{itemName:e,value:t,onClick:n}=this.props;n&&n(e,t)}}render(){const{checked:e,children:t}=this.props;return c.a.createElement("div",{className:"radio-button",onClick:this.handleOnClick},c.a.createElement("span",{className:"radio-check"},c.a.createElement(_.a,{className:M()({checked:e}),icon:Et.faCircle})),t)}}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kt=Object(l.b)(e=>(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(n,!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({show:e.windowReducer.openedDeckConfig},e.deckReducer.deckConstraints),e=>Object(m.a)({closeDeckConfig:O.closeDeckConfig,setDeckConstraints:I.setDeckConstraints},e))(class extends c.a.PureComponent{constructor(){super(...arguments),this.handleOnChangeDeckConstraints=(e,t)=>{this.props.setDeckConstraints({[e]:t})}}costDisplayText(e){return"".concat(e/10)}render(){const{show:e,limitCost:t,sameCard:n,closeDeckConfig:a}=this.props,r={};return e||(r.display="none"),c.a.createElement("div",{className:"deck-config",style:r},c.a.createElement("div",{className:"deck-config-inner"},c.a.createElement("div",{className:"deck-config-title"},"デッキ設定"),c.a.createElement("div",{className:"deck-config-buttons"},c.a.createElement("button",{className:"action-buton-ok",onClick:a},"OK")),c.a.createElement("div",{className:"deck-config-body"},c.a.createElement("section",{className:"filter-section"},c.a.createElement("h2",{className:"title"},"コスト 上限"),c.a.createElement($e,{itemName:"limitCost",onChangeValue:this.handleOnChangeDeckConstraints,value:t,max:250,min:10,step:5,displayText:this.costDisplayText})),c.a.createElement("section",{className:"filter-section same-card-constraint"},c.a.createElement("h2",{className:"title"},"同名武将 制限"),c.a.createElement(Ot,{itemName:"sameCard",value:"personal",checked:"personal"===n,onClick:this.handleOnChangeDeckConstraints},"同名武将不可(通常ルール)"),c.a.createElement(Ot,{itemName:"sameCard",value:"personal-strategy",checked:"personal-strategy"===n,onClick:this.handleOnChangeDeckConstraints},"同名武将かつ同計略不可")))))}});n(206);const Nt=500;function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var St=Object(l.b)(e=>e.dialogReducer,e=>Object(m.a)({closeDialog:K.closeDialog},e),(e,t)=>{const{actionRed:n,actionBlue:a,actionCancel:r}=e;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(n,!0).forEach((function(t){jt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},wt(e,["actionRed","actionBlue","actionCancel"]),{},{actionRed:()=>{n(),t.closeDialog()},actionBlue:()=>{a(),t.closeDialog()},actionCancel:()=>{r&&r(),t.closeDialog()}})},{areMergedPropsEqual:()=>!1})(class extends c.a.PureComponent{constructor(){super(...arguments),this.state={},this.actionWithAnimation=(e,t)=>{this.state.buttonAnimation||(this.props.animation?(this.setState({buttonAnimation:e}),setTimeout(()=>{this.setState({buttonAnimation:void 0}),t()},Nt)):t())},this.handleRedClick=e=>{e.stopPropagation(),this.actionWithAnimation("RED",this.props.actionRed)},this.handleBlueClick=e=>{e.stopPropagation(),this.actionWithAnimation("BLUE",this.props.actionBlue)},this.handleCancelClick=e=>{e.stopPropagation(),this.state.buttonAnimation||this.props.cancelable&&this.props.actionCancel()}}render(){const{show:e,title:t,message:n,logoUrl:a,redText:r,blueText:s,cancelable:o,animation:i}=this.props,{buttonAnimation:l}=this.state;let u="",d=!1,m=!1;"RED"===l?(u="緋略",d=!0):"BLUE"===l&&(u="蒼略",m=!0);const p={};return e||(p.display="none"),c.a.createElement("div",{className:"dialog-container",style:p},c.a.createElement("div",{className:"dialog-base"},c.a.createElement("div",{className:"dialog-background",onClick:this.handleCancelClick}),c.a.createElement("div",{className:"dialog"},c.a.createElement("div",{className:"dialog-inner"},c.a.createElement("div",{className:"dialog-title"},t),c.a.createElement("div",{className:"dialog-body"},c.a.createElement("div",{className:M()("dialog-logo",{show:null!=a})},c.a.createElement("img",{src:a})),c.a.createElement("div",{className:"dialog-message"},n)),c.a.createElement("div",{className:"dialog-actions"},c.a.createElement("div",{className:M()("dialog-action-button","dialog-action-red",{text:i}),onClick:this.handleRedClick},r),c.a.createElement("div",{className:M()("dialog-action-button","dialog-action-blue",{text:i}),onClick:this.handleBlueClick},s)),c.a.createElement("div",{className:M()("dialog-close",{cancelable:o}),onClick:this.handleCancelClick},"x"))),c.a.createElement("div",{className:M()("action-animation",{red:d,blue:m,show:d||m})},u)))}});n(207);let Dt=null;function At(){return"localStorage"in window&&function(e){try{const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==e.length}}(window.localStorage)}async function Tt(e,t){const n=t+".md5",a=await async function(e){const t=await fetch(e+".md5");return t.ok?(await t.text()).trim():null}(e);if(!a)return localStorage.removeItem(n),localStorage.removeItem(t),null;const r=localStorage.getItem(n);let s=!1;if(r&&r===a){const e=localStorage.getItem(t);if(e)return JSON.parse(e);s=!0,localStorage.removeItem(n)}const c=await fetch(e),o=await c.json();return s||(localStorage.setItem(t,JSON.stringify(o)),localStorage.setItem(n,a)),o}var xt=async function(e,t){if(null!=Dt?Dt:Dt=At()){const n=await Tt(e,t);if(n)return n}return(await fetch(e)).json()};const It=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t=a?"-EX":n>0?"-".concat(n):"","第".concat(e,"弾").concat(t)};class Rt{constructor(e,t,n){this.id=e,this.raw=t,Object.assign(this,n)}get code(){return this.raw.code}get pocketCode(){return this.raw.pocket_code}get name(){return this.personal?this.personal.name:""}get version(){return It(this.majorVersion,this.addVersion,this.isEx)}get versionValue(){const e=this.isEx?"-EX":"-".concat(this.addVersion);return"".concat(this.majorVersion).concat(e)}get hasPocket(){return""!==this.raw.pocket_code}thumbUrl(e){const t=e?this.pocketCode:this.code;return"https://3594t.net/img/card_small/".concat(t,".jpg")}}function Mt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(n,!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Lt=(e,t)=>"".concat(t),Gt=e=>e.key,Ft=(e,t,n)=>e.map((e,a)=>n(e,t(e,a))),qt=(e,t)=>Object.entries(e).map(e=>{let[n,a]=e;return t(a,"".concat(n))}),Ut=(e,t)=>{let{code:n,name:a,name_short:r,short_name:s}=e;return{id:t,code:n,name:a,nameShort:r||s}},Ht={name:""},Wt={id:"",code:"",explanation:"",rawExplanation:"",morale:1,name:"",nameRuby:"",stratCategory:"",stratRange:"",stratTime:""},Yt=(e,t)=>{const n=e.find(e=>e.id===t);return n||Ht},Kt=e=>e.filter(e=>null!=e),Qt=e=>e.replace(/\<br\s*\/?\>/gi,"\n").replace(/\<img.+?alt=\"(.*?)\".*?\/\>/gi," $1 ");var Xt=e=>{const t=Ft(e.STATE,Lt,(e,t)=>{return Vt({},Ut(e,t),{color:"rgb(".concat(e.red,", ").concat(e.green,", ").concat(e.blue,")"),thinColor:"rgba(".concat(e.red,", ").concat(e.green,", ").concat(e.blue,", 0.2)")})}),n=qt(e.COST,Ut),a=Ft(e.UNIT_TYPE,Gt,(e,t)=>{return Vt({},Ut(e,t),{nameShort:e.name[0]})}),r=Ft(e.SKILL,Gt,Ut),s=Ft(e.GEN_MAIN,Gt,Ut),c=qt(e.RARITY,Ut),o=Ft(e.GENERAL_TYPE,Gt,(e,t)=>{const n=Ut(e,t);return""===e.name?Vt({},n,{name:"なし(女性)"}):n}),i=Ft(e.VER_TYPE,Lt,Ut).map(e=>"Ex"===e.name?Vt({},e,{name:"EX"}):e),l=Ft(e.STRAT,Gt,(e,t)=>{const{morale:n,explanation:a,name_ruby:r,strat_category:s,strat_range:c,strat_time:o}=e;return Vt({id:t},Mt(e,["morale","explanation","name_ruby","strat_category","strat_range","strat_time"]),{explanation:Qt(a),rawExplanation:a,morale:parseInt(n),nameRuby:r,stratCategory:s,stratRange:c,stratTime:o})}),u={},d=Ft(e.GENERAL,Lt,(i,d)=>{const m=parseInt(i.major_version),p=parseInt(i.add_version),h="2"===i.ver_type;return u[m]||(u[m]=[]),h||u[m].includes(p)||u[m].push(p),new Rt(d,i,{majorVersion:m,addVersion:p,isEx:h,force:parseInt(i.buryoku),intelligence:parseInt(i.chiryoku),conquest:parseInt(i.seiatsu),cost:Yt(n,i.cost),genMains:Kt([i.gen_main0,i.gen_main1,i.gen_main2].filter(e=>""!==e).map(e=>s.find(t=>t.id===e))),generalType:Yt(o,i.general_type),personal:e.PERSONAL[parseInt(i.personal)],rarity:Yt(c,i.rarity),skills:Kt([i.skill0,i.skill1,i.skill2].filter(e=>""!==e&&"0"!==e).map(e=>r.find(t=>t.id===e))),state:Yt(t,i.state),unitType:Yt(a,i.unit_type),strategy:l.find(e=>e.id===i.strat)||Wt})}),m=Object.keys(u).map(e=>parseInt(e)),p=(e,t)=>e-t;m.sort(p),m.forEach(e=>{u[e].sort(p)});const h=Ft(e.STRAT_CATEGORY,Gt,Ut),g=Ft(e.STRAT_RANGE,Lt,(e,t)=>({id:t,code:e.code,name:""})),f=Ft(e.STRAT_TIME,Lt,Ut);return{filterContents:{belongStates:t,costs:n,unitTypes:a,skills:r,genMains:s,rarities:c,generalTypes:o,varTypes:i,versions:Object.entries(u).map(e=>{let[t,n]=e;const a=Ft(n,e=>"".concat(t,"-").concat(e),(e,n)=>({id:n,name:It(t,e)}));return a.push({id:"".concat(t,"-EX"),name:It(t,0,!0)}),a}),majorVersions:Ft(m,e=>"".concat(e),(e,t)=>({id:t,name:It(e)})),strategyCategories:h,strategyRanges:g,strategyTimes:f},generals:d,strategies:l}};const Jt=(async()=>await(async()=>{return await xt("https://gist.githubusercontent.com/boushi-bird/9fbed1f50fadcd04ea619355b5fa7a0c/raw/base.json","3594t-deck/data/base.json")})())();function zt(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(n,!0).forEach((function(t){en(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function en(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tn=Object(l.b)(e=>Zt({},e.windowReducer,{openedAnyModal:e.windowReducer.openedDeckConfig||!e.windowReducer.ready,openedAnyModalSmall:e.windowReducer.openedFilter||!e.windowReducer.ready,loading:!e.windowReducer.ready,activeIndex:e.deckReducer.activeIndex}),e=>{const t=Object(m.a)({setBaseData:S.setBaseData,beReady:O.beReady},e);return Zt({appDidLoaded:async()=>{const e=await(async()=>{const e=await Jt;return Xt(e)})();t.setBaseData(e),t.beReady(),Object(p.forceCheck)()}},Object(m.a)(Zt({clearActiveCard:I.clearActiveCard,resetConditions:S.resetConditions},O),e))},(e,t,n)=>{const{activeIndex:a}=e,r=zt(e,["activeIndex"]);return Zt({},r,{},t,{},n,{clearActiveCard:()=>{void 0!==a&&t.clearActiveCard()},closeSideMenu:()=>{r.openedSideMenu&&t.closeSideMenu()}})},{areMergedPropsEqual:()=>!1})(class extends c.a.PureComponent{constructor(){super(...arguments),this.handleAppClick=()=>{this.props.clearActiveCard(),this.props.closeSideMenu()},this.handleSideMenuButtonClick=()=>{this.props.openSideMenu()}}componentDidMount(){this.props.appDidLoaded(),this.unregisterHistoryListen=this.props.history.listen(()=>{this.props.clearActiveCard()})}componentWillUnmount(){this.unregisterHistoryListen&&this.unregisterHistoryListen()}render(){const{ready:e,loading:t,resetConditions:n,openedSideMenu:a,openFilter:r,closeFilter:s,closeAllModal:o,changeActiveFilterTab:i,openedFilter:l,openedAnyModal:u,openedAnyModalSmall:d,activeFilter:m}=this.props;return c.a.createElement("div",{className:M()(["app-container",{modal:u,"modal-small":d,ready:e}]),onClick:this.handleAppClick},c.a.createElement("div",{className:M()("side-menu",{open:a})},c.a.createElement("div",{className:"side-menu-header"}),c.a.createElement(U,null),"©SEGA"),c.a.createElement("div",{className:"app-main"},c.a.createElement("div",{className:"app-deck-block"},c.a.createElement("div",{className:"app-header"},c.a.createElement("button",{className:M()("side-menu-button",{show:!a}),onClick:this.handleSideMenuButtonClick},c.a.createElement(_.a,{icon:V.faBars})),c.a.createElement("div",{className:"app-header-title"},"三国志大戦デッキシミュレーター")),c.a.createElement("div",{className:"deck-boad-container"},c.a.createElement(Oe,null)),c.a.createElement("div",{className:"simple-filter-container"},c.a.createElement(Xe,null),c.a.createElement("button",{className:"open-filter",onClick:r},"絞込")),c.a.createElement(xe,null)),c.a.createElement("div",{className:M()(["card-filter-container",{open:l}])},c.a.createElement("h1",{className:"card-filter-title"},"絞り込みメニュー"),c.a.createElement("div",{className:"card-filter-buttons"},c.a.createElement(B,{tabs:E,activeTab:m,onTabChanged:i}),c.a.createElement(L,{resetConditions:n,closeFilter:s})),c.a.createElement("div",{className:M()(["card-filter-content",{active:"BASIC"===m}])},c.a.createElement(ot,null)),c.a.createElement("div",{className:M()(["card-filter-content",{active:"DETAIL"===m}])},c.a.createElement(dt,null)),c.a.createElement("div",{className:M()(["card-filter-content",{active:"STRAT"===m}])},c.a.createElement(yt,null)))),c.a.createElement("div",{className:"modal-background",onClick:o}),c.a.createElement(kt,null),c.a.createElement("div",{className:M()("loading-item",{loading:t})}),c.a.createElement(St,null))}});r.a.load({custom:{families:["Noto Sans Japanese:n4,n7"],urls:["https://fonts.googleapis.com/earlyaccess/notosansjapanese.css"]}}),"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").catch(e=>{console.error(e)}),window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),J.dispatch(O.storeInstallPromptEvent(e))}),i.a.render(c.a.createElement(l.a,{store:J},c.a.createElement(u.a,null,c.a.createElement(d.a,{component:tn}))),document.getElementById("app"));const nn=document.getElementById("about");nn&&nn.parentNode&&nn.parentNode.removeChild(nn)}});