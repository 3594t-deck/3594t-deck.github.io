!function(e){function t(t){for(var n,i,l=t[0],o=t[1],c=t[2],m=0,u=[];m<l.length;m++)i=l[m],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&u.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(d&&d(t);u.length;)u.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,l=1;l<a.length;l++){var o=a[l];0!==r[o]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={0:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=o;s.push([206,1]),a()}({113:function(e,t,a){},163:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},182:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);a(113);var n=a(100),r=a.n(n),s=a(0),i=a.n(s),l=a(38),o=a.n(l),c=a(4),d=(a(19),a(2)),m=a(17),u=a.n(m),p=a(14);function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){f(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function f(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const b={BASIC:"基本",DETAIL:"詳細",STRAT:"計略"},y=Object(p.b)({name:"window",initialState:{ready:!1,openedSideMenu:!1,openedFilter:!1,openedDeckConfig:!1,openedUpdateInfo:!1,showNotice:!1,activeFilter:"BASIC",detailGeneral:null,detailAssistGeneral:null,pendingInstallPromptEvent:!1},reducers:{beReady:e=>h(h({},e),{},{ready:!0}),changeSideMenuVisible(e,t){const{payload:{openedSideMenu:a}}=t;return h(h({},e),{},{openedSideMenu:a})},changeFilterVisible(e,t){const{payload:{openedFilter:a}}=t;return h(h({},e),{},{openedFilter:a})},changeDeckConfigVisible(e,t){const{payload:{openedDeckConfig:a}}=t;return h(h({},e),{},{openedDeckConfig:a})},changeUpdateInfoVisible(e,t){const{payload:{openedUpdateInfo:a}}=t;return h(h({},e),{},{openedUpdateInfo:a})},closeAllModal:e=>h(h({},e),{},{openedFilter:!1,openedDeckConfig:!1,openedUpdateInfo:!1,detailGeneral:null,detailAssistGeneral:null}),changeActiveFilterTab:(e,t)=>h(h({},e),{},{activeFilter:t.payload}),changeShowNotice(e,t){const{payload:{showNotice:a}}=t;return h(h({},e),{},{showNotice:a})},openGeneralDetail:(e,t)=>h(h({},e),{},{detailGeneral:t.payload}),openAssistGeneralDetail:(e,t)=>h(h({},e),{},{detailAssistGeneral:t.payload}),storeInstallPromptEvent:e=>h(h({},e),{},{pendingInstallPromptEvent:!0}),clearInstallPromptEvent:e=>h(h({},e),{},{pendingInstallPromptEvent:!1})}}),v=y.actions;var C=a(112);const O={min:10,max:250,defaultValue:80,step:5},k={min:1,max:8,defaultValue:8},E={min:0,max:1,defaultValue:1},w={min:0,max:8,defaultValue:3},N={"連弩兵":"弩"};function j(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function P(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?j(Object(a),!0).forEach((function(t){S(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):j(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const D={searchMode:"general",basic:{belongStates:[],costs:[],unitTypes:[],forceMin:1,forceMax:11,useCostRatioForce:!1,costRatioForceMin:-4,costRatioForceMax:5,costRatioBaseForces:{10:3,15:6,20:8,25:9,30:10},intelligenceMin:1,intelligenceMax:11,conquestMin:0,conquestMax:4,skills:[],skillsAnd:!1,searchText:""},detail:{genMains:[],genMainsAnd:!1,rarities:[],generalTypes:[],verTypes:[],majorVersions:[],versions:[],enableDetailVersion:!1,pockets:[]},strategies:{showStrategyExplanation:!1,moraleMin:1,moraleMax:12,strategyCategories:[],strategyRanges:[],strategyTimes:[],strategySearchName:"",strategySearchExplanation:""}},x={filterCondition:D,effectiveFilterCondition:D,filterSelectionMode:"multiple",filterContents:{belongStates:[],costs:[],unitTypes:[],skills:[],genMains:[],rarities:[],generalTypes:[],verTypes:[],versions:[],majorVersions:[],strategyCategories:[],strategyRanges:[],strategyTimes:[],assistStrategyCategories:[]},generals:[],strategies:[],assistGenerals:[],currentPage:1,pageLimit:50},M=Object(p.b)({name:"datalist",initialState:x,reducers:{resetConditions:e=>P(P({},e),{},{filterCondition:D,effectiveFilterCondition:D,currentPage:x.currentPage}),applyCondition:e=>P(P({},e),{},{effectiveFilterCondition:Object(C.a)(e.filterCondition),currentPage:x.currentPage}),setSearchMode:(e,t)=>P(P({},e),{},{filterCondition:P(P({},e.filterCondition),{},{searchMode:t.payload})}),setFilterSelectionMode:(e,t)=>P(P({},e),{},{filterSelectionMode:t.payload}),setBasicCondition:(e,t)=>P(P({},e),{},{filterCondition:P(P({},e.filterCondition),{},{basic:P(P({},e.filterCondition.basic),t.payload)})}),setDetailCondition:(e,t)=>P(P({},e),{},{filterCondition:P(P({},e.filterCondition),{},{detail:P(P({},e.filterCondition.detail),t.payload)})}),setStrategiesCondition:(e,t)=>P(P({},e),{},{filterCondition:P(P({},e.filterCondition),{},{strategies:P(P({},e.filterCondition.strategies),t.payload)})}),setShowStrategyExplanation:(e,t)=>P(P({},e),{},{filterCondition:P(P({},e.filterCondition),{},{strategies:P(P({},e.filterCondition.strategies),{},{showStrategyExplanation:t.payload})})}),setBaseData(e,t){const{generals:a,strategies:n,assistGenerals:r,filterContents:s}=t.payload;return P(P({},e),{},{filterCondition:D,effectiveFilterCondition:D,currentPage:x.currentPage,filterContents:s,generals:a,strategies:n,assistGenerals:r})},incrementPage:e=>P(P({},e),{},{currentPage:e.currentPage+1}),decrementPage:e=>P(P({},e),{},{currentPage:e.currentPage-1}),resetPage:e=>P(P({},e),{},{currentPage:x.currentPage})}}),A=M.actions;a(5);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function T(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){V(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let G=0;const R=["personal","personal-strategy-exclude-assist","personal-assist","personal-strategy"],F="personal";const L={limitCost:O.defaultValue,sameCard:F,generalCardLimit:k.defaultValue,assistCardLimit:E.defaultValue,exchange:!1,genMainAwakeningLimit:w.defaultValue,genMainSpAwakeningCount:3},B={deckCards:[],assistDeckCards:[],activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckConstraints:L},_=Object(p.b)({name:"deck",initialState:B,reducers:{addDeckGeneral(e,t){const a=T(T({},t.payload),{},{key:G++});return T(T({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:[...e.deckCards,T({},a)]})},changeDeckGeneral(e,t){const{index:a,card:n}=t.payload,r=[...e.deckCards];return r[a]=T(T({},n),{},{key:r[a].key}),T(T({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:r})},addDeckDummy(e,t){const{cost:a,belongState:n,unitType:r}=t.payload;return T(T({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:[...e.deckCards,{key:G++,cost:a,belongState:n,unitType:r,pocket:!1}]})},setDeckDummyValue(e,t){const{index:a,deckCard:n}=t.payload,r=[...e.deckCards],s=r[a];return!s||"general"in s?e:(r[a]=T(T({},s),n),T(T({},e),{},{deckCards:r}))},setDecks(e,t){const a=t.payload.map((e=>T(T({},e),{},{key:G++})));return T(T({},e),{},{deckCards:a})},removeDeck(e,t){const a=t.payload,n=e.deckCards.filter(((e,t)=>t!==a));return T(T({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:n})},addDeckAssist(e,t){const a=t.payload;return T(T({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,assistDeckCards:[...e.assistDeckCards,T({},a)]})},changeDeckAssist(e,t){const{index:a,card:n}=t.payload,r=[...e.assistDeckCards];return r[a]=T({},n),T(T({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,assistDeckCards:r})},setAssists:(e,t)=>T(T({},e),{},{assistDeckCards:t.payload}),removeDeckAssist(e,t){const a=t.payload,n=e.assistDeckCards.filter(((e,t)=>t!==a));return T(T({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,assistDeckCards:n})},sliceDeckAssist(e){const{assistDeckCards:t,deckConstraints:{assistCardLimit:a}}=e;if(t.length<=a)return T({},e);const n=t.slice(0,a);return T(T({},e),{},{assistDeckCards:n})},clearDeck:e=>T(T({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:[],assistDeckCards:[]}),setActiveCard:(e,t)=>T(T({},e),{},{activeIndex:t.payload,activeAssistIndex:null,searchCondition:void 0}),setActiveAssistCard:(e,t)=>T(T({},e),{},{activeIndex:null,activeAssistIndex:t.payload,searchCondition:void 0}),searchByDeck(e,t){const{index:a,condition:n}=t.payload;return T(T({},e),{},{activeIndex:a,activeAssistIndex:null,searchCondition:n})},clearActiveCard:e=>T(T({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0}),selectGenMain(e,t){const{index:a,genMain:n}=t.payload,r=[...e.deckCards],s=r[a];return null==s?e:(r[a]=T(T({},s),{},{genMain:n}),T(T({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:r}))},awakenGenMain(e,t){const{index:a,awaken:n}=t.payload,r=[...e.deckCards],s=r[a];return null==s?e:(r[a]=T(T({},s),{},{genMainAwakening:n}),T(T({},e),{},{activeIndex:null,activeAssistIndex:null,searchCondition:void 0,deckCards:r}))},resetDeckConstraints:e=>T(T({},e),{},{deckConstraints:L}),setDeckConstraints:(e,t)=>T(T({},e),{},{deckConstraints:T(T({},e.deckConstraints),t.payload)}),moveDeckIndex(e,{payload:{index:t,direction:a}}){const n="left"===a?t-1:t,r="right"===a?t+1:t;if(e.deckCards.length<2||n<0||r<0||n>=e.deckCards.length||r>=e.deckCards.length)return e;const s=[...e.deckCards];return s.splice(n,2,s[r],s[n]),T(T({},e),{},{deckCards:s,activeIndex:"left"===a?n:r})}}}),q=T(T({},_.actions),{},{changeDeckGeneral:(e,t)=>_.actions.changeDeckGeneral({index:e,card:t}),setDeckDummyValue:(e,t)=>_.actions.setDeckDummyValue({index:e,deckCard:t}),changeDeckAssist:(e,t)=>_.actions.changeDeckAssist({index:e,card:t}),searchByDeck:(e,t)=>_.actions.searchByDeck({index:e,condition:t}),selectGenMain:(e,t)=>_.actions.selectGenMain({index:e,genMain:t}),awakenGenMain:(e,t)=>_.actions.awakenGenMain({index:e,awaken:t})});a(10),a(25);var U=a(104),$=a.n(U);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){Y(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function J(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const X={show:!1,title:"",message:"",logoUrl:void 0,redText:"",blueText:"",cancelable:!0,animation:!0,actionRed:()=>{},actionBlue:()=>{},actionCancel:void 0},K=Object(p.b)({name:"dialog",initialState:X,reducers:{showDialog(e,t){const a=t.payload,{cancelable:n,animation:r}=a;return W(W({},J(a,["cancelable","animation"])),{},{show:!0,cancelable:null==n||n,animation:null==r||r})},closeDialog:()=>X}}),H=K.actions,Q=Object(p.c)({serializableCheck:{ignoredPaths:["dialog.actionRed","dialog.actionBlue"]}});var Z=Object(p.a)({reducer:{datalist:M.reducer,deck:_.reducer,dialog:K.reducer,window:y.reducer},middleware:Q});function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(a),!0).forEach((function(t){ae(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ae(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ne=({generals:e,filterContents:t})=>a=>{const[n,r,s,i,l]=a.split("_"),[o,c]=r.split("*"),d=(({code:e,genMainCode:t,genMainAwakening:a},{generals:n,filterContents:r})=>{if(!e)return null;const s=n.find((t=>t.code===e||t.pocketCode===e));if(!s)return null;const i=s.code!==e,l=r.genMains.find((e=>e.code===t));let o=void 0;return l&&s.genMains.includes(l)&&(o=l.id),{general:s.id,genMain:o,genMainAwakening:a,pocket:i}})({code:n,genMainCode:o,genMainAwakening:""===c},{generals:e,filterContents:t});return d||(({cost:e,belongStateNameShort:t,unitTypeName:a},n)=>{const r=n.belongStates.find((e=>e.nameShort===t)),s=n.unitTypes.find((e=>(N[e.name]||e.name[0])===a));return{cost:e&&n.costs.findIndex((t=>t.code===e))?e:"10",belongState:r?r.id:void 0,unitType:s?s.id:void 0}})({cost:s,belongStateNameShort:i,unitTypeName:l},t)},re=[],se=[],ie={action:q.setDecks,selector:e=>{const t=e.deck.deckCards;return 0===t.length?re:t},defaultValue:re,valueToString:e=>{const{datalist:t}=Z.getState(),a=(({generals:e,filterContents:t})=>a=>{if("general"in a){const n=e.find((e=>e.id===a.general));if(!n)return"";const r=t.genMains.find((e=>e.id===a.genMain));return[a.pocket?n.pocketCode:n.code,(r?r.code:"")+(a.genMainAwakening?"*":"")].join("_")}const n=t.belongStates.find((e=>e.id===a.belongState)),r=n?n.nameShort:"",s=t.unitTypes.find((e=>e.id===a.unitType)),i=s?N[s.name]||s.name[0]:"";return["","",a.cost,r,i].join("_")})({generals:t.generals,filterContents:t.filterContents});return e.map(a).filter((e=>e)).join("|")},stringToValue:e=>{if(!e)return re;const{datalist:t}=Z.getState(),a=ne({generals:t.generals,filterContents:t.filterContents});return e.split("|").map(a)}},le={action:q.setAssists,selector:e=>{const t=e.deck.assistDeckCards;return 0===t.length?se:t},defaultValue:se,valueToString:e=>{const{datalist:t}=Z.getState(),a=(({assistGenerals:e})=>t=>{const a=e.find((e=>e.id===t.assist));return a?a.code:""})({assistGenerals:t.assistGenerals});return e.map(a).filter((e=>e)).join("|")},stringToValue:e=>{if(!e)return se;const{datalist:t}=Z.getState(),a=(({assistGenerals:e})=>t=>{var a;const n=e.find((e=>e.code===t)),r=null!==(a=null==n?void 0:n.id)&&void 0!==a?a:null;return r?{assist:r}:null})({assistGenerals:t.assistGenerals});return e.split("|").map(a).filter((e=>!!e))}};function oe(e,{min:t=0,max:a,defaultValue:n,step:r=1}){return te(te({},e),{},{defaultValue:n,stringToValue:e=>{try{const n=parseInt(e);if(n>=t&&n<=a&&n%r==0)return n}catch(e){}return n}})}const ce=oe({action:e=>q.setDeckConstraints({limitCost:e}),selector:e=>e.deck.deckConstraints.limitCost},O),de={action:e=>q.setDeckConstraints({sameCard:e}),selector:e=>e.deck.deckConstraints.sameCard,defaultValue:F,stringToValue:e=>function(e){return R.includes(e)}(e)?e:F},me=oe({action:e=>q.setDeckConstraints({generalCardLimit:e}),selector:e=>e.deck.deckConstraints.generalCardLimit},k),ue=oe({action:e=>q.setDeckConstraints({assistCardLimit:e}),selector:e=>e.deck.deckConstraints.assistCardLimit},E),pe=oe({action:e=>q.setDeckConstraints({genMainAwakeningLimit:e}),selector:e=>e.deck.deckConstraints.genMainAwakeningLimit},w),ge={action:e=>q.setDeckConstraints({exchange:e}),selector:e=>e.deck.deckConstraints.exchange,defaultValue:!1,valueToString:e=>e?"on":"",stringToValue:e=>null!=e&&"on"===e.toLowerCase()};let he=!1;a(163);var fe=a(1),be=a.n(fe),ye=a(3),ve=a(111),Ce=a(47);var Oe={installPromptEvent:null},ke=(a(167),a(31));class Ee extends i.a.PureComponent{constructor(...e){super(...e),this.handleInstallPrompt=e=>{this.props.pwaInstallEnabled?this.props.installPrompt():e.stopPropagation()},this.handleOpenUpdateInfo=()=>{this.props.openUpdateInfo()}}render(){const{pwaInstallEnabled:e,showNotice:t}=this.props;return i.a.createElement("ul",{className:"side-menu-list"},i.a.createElement("li",{className:"side-menu-item"},i.a.createElement("a",{href:"./about.html",target:"_blank",rel:"noopener noreferrer"},"このツールについて",i.a.createElement(ye.a,{className:"external-link-icon",icon:ke.faExternalLinkAlt}))),i.a.createElement("li",{className:"side-menu-item"},i.a.createElement("a",{onClick:this.handleOpenUpdateInfo},"更新情報",i.a.createElement(ye.a,{icon:Ce.faExclamationCircle,className:be()("notice",{show:t})}))),i.a.createElement("li",{className:"side-menu-item pwa-install"},i.a.createElement("a",{onClick:this.handleInstallPrompt,className:be()({disabled:!e})},"インストールする")))}}function we(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?we(Object(a),!0).forEach((function(t){je(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):we(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function je(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Pe=Object(c.b)((e=>({showNotice:e.window.showNotice,pendingInstallPromptEvent:e.window.pendingInstallPromptEvent})),(e=>Object(d.b)({openUpdateInfo:()=>v.changeUpdateInfoVisible({openedUpdateInfo:!0}),clearInstallPromptEvent:v.clearInstallPromptEvent},e)),((e,t)=>{const a={showNotice:e.showNotice,pwaInstallEnabled:e.pendingInstallPromptEvent},n={openUpdateInfo:t.openUpdateInfo,installPrompt:async()=>{e.pendingInstallPromptEvent&&Oe.installPromptEvent&&await Oe.installPromptEvent.prompt(),t.clearInstallPromptEvent()}};return Ne(Ne({},a),n)}),{areMergedPropsEqual:()=>!1})(Ee),Se=(a(168),a(26)),De=a(70),xe=(a(169),a(32)),Me=a(48);function Ae(e,t){return`https://3594t.net/img/card_small/${t&&e.hasPocket?e.pocketCode:e.code}.jpg`}function Ie(e,t){return`https://3594t.net/img/avatar/${t&&e.hasPocket?e.pocketAvatar:e.avatar}.png`}function Te(e){return"https://3594t.net/datalist/?v=GENERAL&s=POPUP_GENERAL&c="+e.code}function Ve(e){return`https://3594t.net/img/avatar/${e.avatar}.png`}function Ge(e){return`https://3594t.net/img/strat_range/${e}.png`}const Re="軍師",Fe="控えめな正兵";class Le extends i.a.PureComponent{constructor(...e){super(...e),this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:a}=this.props;a(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:a,assist:n}=this.props;n&&a(t)},this.handleShowDetail=e=>{e.stopPropagation();const{assist:t,onShowDetail:a}=this.props;t&&a(t)}}render(){var e,t,a,n,r;const{index:s,active:l,assist:o}=this.props,c={},d={},m={};o?(c.backgroundColor=o.state.thincolor,d.backgroundColor=o.state.color):d.display="none";const u=null!==(e=null==o||null===(t=o.state)||void 0===t?void 0:t.nameShort)&&void 0!==e?e:"",p=null!==(a=null==o?void 0:o.name)&&void 0!==a?a:0===s?Re:"",g=o?Ve(o):void 0;g||(m.display="none");const h=null!==(n=null==o||null===(r=o.strategy)||void 0===r?void 0:r.name)&&void 0!==n?n:0===s?Fe:"",f=!o;return i.a.createElement("div",{className:be()("assist-deck-card",{active:l,"no-assist":f}),style:c,onClick:this.handleActive},i.a.createElement("span",{className:"image"},i.a.createElement("img",{className:"assist-thumb",style:m,src:g})),i.a.createElement("span",{className:"state",style:d},u),i.a.createElement("span",{className:"card-type"},"遊軍"),i.a.createElement("span",{className:"name"},p),i.a.createElement("span",{className:"strategy"},h),i.a.createElement("div",{className:"tool-box"},i.a.createElement("button",{className:"remove",onClick:this.handleRemove},i.a.createElement(ye.a,{icon:xe.faMinusCircle,className:"circle-icon"})),i.a.createElement("button",{className:"tool-button show-detail",title:"遊軍詳細",onClick:this.handleShowDetail},i.a.createElement(ye.a,{icon:Me.faInfoCircle}))))}}a(98),a(99);var Be=a(49),_e=a(50),qe=a(51);class Ue extends i.a.PureComponent{constructor(...e){super(...e),this.state={moveFrom:null},this.handleSelectGenMain=e=>{const{index:t,onSelectGenMain:a}=this.props;let n=e.currentTarget.value;null!=n&&""!==n||(n=void 0),a(t,n)},this.handleAwakenGenMain=e=>{e.stopPropagation();const{index:t,genMainAwakening:a,enableGenMainAwaken:n,onAwakenGenMain:r}=this.props,s=!a;s&&!n||r(t,s)},this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:a}=this.props;a(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:a}=this.props;a(t)},this.handleSearch=e=>{e.stopPropagation();const{index:t,onToggleSearch:a,general:n}=this.props;a(t,{cost:n.cost.id,belongState:n.state.id,unitType:n.unitType.id})},this.handleShowDetail=e=>{e.stopPropagation(),this.setState({moveFrom:null});const{general:t,onShowDetail:a}=this.props;a(t)},this.handleMoveLeft=e=>{e.stopPropagation(),this.setState({moveFrom:null});const{index:t,onMoveLeft:a}=this.props;a(t)},this.handleMoveRight=e=>{e.stopPropagation(),this.setState({moveFrom:null});const{index:t,onMoveRight:a}=this.props;a(t)}}componentDidUpdate(e){if(e===this.props)return;const t=e.index-this.props.index;0===t?this.setState({moveFrom:null}):this.setState({moveFrom:t>0?"right":"left"})}render(){const{index:e,general:t,additionalParams:a,genMain:n,genMainAwakening:r,genMainAwakeningCount:s,active:l,search:o,pocket:c,enableMoveLeft:d,enableMoveRight:m,enableGenMainAwaken:u,exchangeForceIntelligence:p}=this.props,g={backgroundColor:t.state.thincolor},h=t.state.color,f={backgroundColor:h},b={background:`linear-gradient(-30deg, ${[h,h+" 30px","transparent 92px","transparent"].join(",")})`},y=[];t.skills.forEach((e=>{y.push(i.a.createElement("span",{className:"skill",key:e.id},e.nameShort))})),0===y.length&&y.push(i.a.createElement("span",{className:"no-skill",key:0},"特技なし"));const v=[];t.genMains.forEach(((e,a)=>{const n=t.genMainSp||e;v.push(i.a.createElement("option",{value:e.id,key:a},n.nameShort))}));const C=null!=n?n:"",O=null!=t.genMainSp?"奇才将器":"主将器",k=this.state.moveFrom,E=e%2==0?"even":"odd",w=Array(s).fill(0).map(((e,t)=>i.a.createElement("span",{key:t,className:"diamond"})));let N;return N=r?"gen-main-awakening":u?"gen-main-not-awakening":"gen-main-disable-awakening",i.a.createElement("div",{className:be()("deck-card",E,{active:l,"from-right":"right"===k,"from-left":"left"===k}),style:g,onClick:this.handleActive},i.a.createElement("div",{className:"deck-card-inner-top"},i.a.createElement("div",{className:"general-thumb-wrap"},i.a.createElement("img",{className:"general-thumb",src:Ae(t,c)})),i.a.createElement("div",{className:"shadow",style:b}),i.a.createElement("span",{className:"state",style:f},t.state.nameShort),i.a.createElement("span",{className:"version",style:f},t.version),i.a.createElement("span",{className:"cost","data-label":"コスト"},t.cost.name),i.a.createElement("span",{className:"unit","data-label":"兵種"},t.unitType.nameShort),i.a.createElement("span",{className:"name"},i.a.createElement("span",{className:"rarity"},t.rarity.name),t.name)),i.a.createElement("div",{className:"deck-card-inner-bottom"},i.a.createElement("span",{className:be()("force",{additional:a.force>0}),"data-label":"武"},(p?t.intelligence:t.force)+a.force),i.a.createElement("span",{className:be()("intelligence",{additional:a.intelligence>0}),"data-label":"知"},(p?t.force:t.intelligence)+a.intelligence),i.a.createElement("span",{className:be()("conquest",{additional:a.conquest>0}),"data-label":"制圧"},t.conquest+a.conquest),i.a.createElement("span",{className:"skills"},y),i.a.createElement("span",{className:"gen-mains","data-label":O},i.a.createElement("span",{className:"gen-mains-select-wrapper"},i.a.createElement("select",{className:"gen-mains-select",value:C,onChange:this.handleSelectGenMain},i.a.createElement("option",{value:""}),v)),i.a.createElement("button",{className:be()("awaken-gen-main",N),onClick:this.handleAwakenGenMain},i.a.createElement("span",{className:"diamonds"},w),i.a.createElement("span",{className:"label"},"将器覚醒")))),i.a.createElement("div",{className:"tool-box"},i.a.createElement("button",{className:"remove",onClick:this.handleRemove},i.a.createElement(ye.a,{icon:xe.faMinusCircle,className:"circle-icon"})),i.a.createElement("button",{className:be()("tool-button","search",{enable:o}),title:"勢力・コスト・兵種で絞り込み",onClick:this.handleSearch},i.a.createElement(ye.a,{icon:Be.faSearch})),i.a.createElement("button",{className:"tool-button show-detail",title:"武将詳細",onClick:this.handleShowDetail},i.a.createElement(ye.a,{icon:Me.faInfoCircle})),i.a.createElement("button",{className:be()("tool-button","move-left",{enabled:d}),title:"左へ移動",onClick:this.handleMoveLeft},i.a.createElement(ye.a,{icon:_e.faArrowLeft})),i.a.createElement("button",{className:be()("tool-button","move-right",{enabled:m}),title:"右へ移動",onClick:this.handleMoveRight},i.a.createElement(ye.a,{icon:qe.faArrowRight}))))}}a(171),a(174);class $e extends i.a.Component{constructor(...e){super(...e),this.state={showTotalAll:!1},this.handleShowTotalAll=()=>{this.setState({showTotalAll:!0})},this.handleHideTotalAll=()=>{this.setState({showTotalAll:!1})}}render(){const{totalForce:e,totalIntelligence:t,intelligenceByGenMain:a,totalConquest:n,conquestByGenMain:r,conquestRank:s,totalCost:l,limitCost:o,maxMorale:c,maxMoraleByGenMain:d,tolalMoraleByCharm:m,tolalMoraleByGenMain:u,hasDummy:p,hasStateDummy:g,totalSkills:h,totalUnitTypes:f}=this.props,{showTotalAll:b}=this.state;let y=l-o,v="残り",C=!1,O=!1;y>0?(v="コストオーバー",C=!0):y<0&&(y*=-1,O=!0);const k=(m+u)/100,E=m/100,w=u/100,N=h.map((({skill:e,count:t,cost:a},n)=>i.a.createElement("div",{key:n,className:"type-count"},i.a.createElement("span",{className:"skill"},e.nameShort),"×",t,"(",a/10,i.a.createElement("span",{className:"cost-label"},"コスト"),")"))),j=f.map((({unitType:e,count:t,cost:a},n)=>i.a.createElement("div",{key:n,className:"type-count"},i.a.createElement("span",{className:"unit"},e.name),"×",t,"(",a/10,i.a.createElement("span",{className:"cost-label"},"コスト"),")")));return i.a.createElement("div",{className:"deck-total"},i.a.createElement("div",{className:"deck-inner"},i.a.createElement("div",{className:"total-params"},i.a.createElement("div",{className:"total-row"},i.a.createElement("div",{className:"total","data-label":"総武力"},i.a.createElement("span",{className:be()("force",{dummy:p})},e)),i.a.createElement("div",{className:"total","data-label":"総知力"},i.a.createElement("span",{className:be()("has-gen-main",{active:a>0})},"将器込み"),i.a.createElement("span",{className:be()("intelligence",{dummy:p})},t+a,i.a.createElement("span",{className:be()("breakdown",{active:a>0})},"(",t,i.a.createElement("span",{className:"addition-by-gen-main"},"+",a),")"))),i.a.createElement("div",{className:"total","data-label":"総征圧力"},i.a.createElement("span",{className:be()("has-gen-main",{active:r>0})},"将器込み"),i.a.createElement("span",{className:be()("conquest-rank",{dummy:p})},s),i.a.createElement("span",{className:be()("conquest",{dummy:p})},n+r,i.a.createElement("span",{className:be()("breakdown",{active:r>0})},"(",n,i.a.createElement("span",{className:"addition-by-gen-main"},"+",r),")")))),i.a.createElement("div",{className:"total-row"},i.a.createElement("div",{className:"total total-cost","data-label":"総コスト"},i.a.createElement("span",{className:"cost"},(l/10).toFixed(1)),i.a.createElement("span",{className:be()("cost-remain",{over:C,under:O})},"(",v," ",(y/10).toFixed(1),")")),i.a.createElement("div",{className:"total","data-label":"最大士気"},i.a.createElement("span",{className:be()("has-gen-main",{active:d>0})},"将器込み"),i.a.createElement("span",{className:be()("max-morale",{dummy:g})},c+d,i.a.createElement("span",{className:be()("breakdown",{active:d>0})},"(",c,i.a.createElement("span",{className:"addition-by-gen-main"},"+",d),")"))),i.a.createElement("div",{className:"total","data-label":"開幕士気"},i.a.createElement("span",{className:be()("has-gen-main",{active:w>0})},"将器込み"),i.a.createElement("span",{className:"start-morale"},k,i.a.createElement("span",{className:be()("breakdown",{active:w>0})},"(",E,i.a.createElement("span",{className:"addition-by-gen-main"},"+",w),")"))))),i.a.createElement("div",{className:be()("total-type-counts",{"show-total":b})},i.a.createElement("div",{className:"total","data-label":"特技合計"},N),i.a.createElement("div",{className:"total","data-label":"兵種合計"},j)),i.a.createElement("button",{className:be()("switch-total-all",{"show-button":b}),onClick:this.handleHideTotalAll},i.a.createElement("span",{className:"up-icon"},i.a.createElement("span",{className:"icon-inner"})))),i.a.createElement("button",{className:be()("switch-total-all",{"show-button":!b}),onClick:this.handleShowTotalAll},i.a.createElement("span",{className:"down-icon"},i.a.createElement("span",{className:"icon-inner"}))))}}a(175);class ze extends i.a.PureComponent{constructor(...e){super(...e),this.state={moveFrom:null},this.handleActive=e=>{e.stopPropagation();const{index:t,onActive:a}=this.props;a(t)},this.handleRemove=e=>{e.stopPropagation();const{index:t,onRemoveDeck:a}=this.props;a(t)},this.handleSearch=e=>{e.stopPropagation();const{index:t,onToggleSearch:a,deckCard:n}=this.props;a(t,n)},this.handleMoveLeft=e=>{e.stopPropagation(),this.setState({moveFrom:null});const{index:t,onMoveLeft:a}=this.props;a(t)},this.handleMoveRight=e=>{e.stopPropagation(),this.setState({moveFrom:null});const{index:t,onMoveRight:a}=this.props;a(t)},this.handleChangeDeckValue=e=>{const{index:t,setDeckValue:a}=this.props,n=e.currentTarget.name;let r=e.currentTarget.value;""===r&&(r=void 0),a(t,{[n]:r})}}componentDidUpdate(e){if(e===this.props)return;const t=e.index-this.props.index;0===t?this.setState({moveFrom:null}):this.setState({moveFrom:t>0?"right":"left"})}render(){const{index:e,deckCard:t,active:a,search:n,belongStates:r,costs:s,unitTypes:l,enableMoveLeft:o,enableMoveRight:c}=this.props,d={},m={},u=t.belongState?r.find((e=>e.id===t.belongState)):void 0,p=t.cost?s.find((e=>e.id===t.cost)):void 0,g=t.unitType?l.find((e=>e.id===t.unitType)):void 0;let h="",f="",b=!1;u&&(d.backgroundColor=u.thincolor,m.backgroundColor=u.color,h=u.id,f=u.nameShort||"",b=!0);let y="";p&&(y=p.name);const v={};let C="",O="";g?(C=g.id,O=g.nameShort||""):v.display="none";const k=[];r.forEach(((e,t)=>{k.push(i.a.createElement("option",{value:e.id,key:t},e.name))}));const E=[];s.forEach(((e,t)=>{E.push(i.a.createElement("option",{value:e.id,key:t},e.name))}));const w=[];l.forEach(((e,t)=>{w.push(i.a.createElement("option",{value:e.id,key:t},e.nameShort||e.name))}));const N=this.state.moveFrom,j=e%2==0?"even":"odd";return i.a.createElement("div",{className:be()("deck-card","deck-dummy-card",j,{"has-state":b,active:a,"from-right":"right"===N,"from-left":"left"===N}),style:d,onClick:this.handleActive},i.a.createElement("div",{className:"deck-card-inner-top",style:m},i.a.createElement("span",{className:"state"},f),i.a.createElement("span",{className:"cost","data-label":"コスト"},y),i.a.createElement("span",{className:"unit",style:v,"data-label":"兵種"},O)),i.a.createElement("div",{className:"deck-card-inner-bottom"}),i.a.createElement("div",{className:"deck-dummy-edit"},i.a.createElement("span",{className:"select-item-container","data-label":"勢力"},i.a.createElement("select",{className:"select-item",name:"belongState",value:h,onChange:this.handleChangeDeckValue},i.a.createElement("option",{value:""}),k)),i.a.createElement("span",{className:"select-item-container","data-label":"コスト"},i.a.createElement("select",{className:"select-item",name:"cost",value:t.cost,onChange:this.handleChangeDeckValue},E)),i.a.createElement("span",{className:"select-item-container","data-label":"兵種"},i.a.createElement("select",{className:"select-item",name:"unitType",value:C,onChange:this.handleChangeDeckValue},i.a.createElement("option",{value:""}),w))),i.a.createElement("div",{className:"tool-box"},i.a.createElement("button",{className:"remove",onClick:this.handleRemove},i.a.createElement(ye.a,{icon:xe.faMinusCircle,className:"circle-icon"})),i.a.createElement("button",{className:be()("tool-button","search",{enable:n}),title:"勢力・コスト・兵種で絞り込み",onClick:this.handleSearch},i.a.createElement(ye.a,{icon:Be.faSearch})),i.a.createElement("button",{className:be()("tool-button","move-left",{enabled:o}),title:"左へ移動",onClick:this.handleMoveLeft},i.a.createElement(ye.a,{icon:_e.faArrowLeft})),i.a.createElement("button",{className:be()("tool-button","move-right",{enabled:c}),title:"右へ移動",onClick:this.handleMoveRight},i.a.createElement(ye.a,{icon:qe.faArrowRight}))))}}function We(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?We(Object(a),!0).forEach((function(t){Je(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):We(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Je(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Xe=Object(c.b)((e=>({generals:e.datalist.generals,belongStates:e.datalist.filterContents.belongStates,costs:e.datalist.filterContents.costs,unitTypes:e.datalist.filterContents.unitTypes})),(e=>Object(d.b)({setDeckDummyValue:q.setDeckDummyValue},e)),((e,t,a)=>{const n=e,r={setDeckValue:t.setDeckDummyValue};return Ye(Ye(Ye({},n),r),a)}))(ze);function Ke(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function He(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(a),!0).forEach((function(t){Qe(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ke(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Qe(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ze extends i.a.Component{render(){const e=this.props.exchangeForceIntelligence?He(He({},this.props.total),{},{totalForce:this.props.total.totalIntelligence,totalIntelligence:this.props.total.totalForce}):this.props.total;return i.a.createElement("div",{className:"deck-board"},this.renderAssistDeckCardList(),this.renderDeckCardList(),i.a.createElement($e,e))}renderAssistDeckCardList(){const{assistDeckCards:e,activeAssistIndex:t,modifiedDeckConstraints:a,setActiveAssistCard:n,removeDeckAssist:r,showAssistDetail:s,openDeckConfig:l}=this.props,o=[];e.forEach(((e,a)=>{const l=t===a;o.push(i.a.createElement(Le,{key:a,index:a,assist:e.assist,active:l,onActive:n,onRemoveDeck:r,onShowDetail:s}))}));const c={};return 0===e.length&&(c.display="none"),i.a.createElement("div",{className:"assist-deck-card-list",style:c},o,i.a.createElement("div",{className:be()("open-deck-config","button",{modified:a}),onClick:l},i.a.createElement(ye.a,{icon:De.faCog})))}renderDeckCardList(){const{deckCards:e,activeIndex:t,enableSearch:a,enabledAddDeck:n,totalAwakeningGenMainCount:r,genMainAwakeningLimit:s,assistDeckCards:l,exchangeForceIntelligence:o,modifiedDeckConstraints:c,addDeckDummy:d,clearDeck:m,openDeckConfig:u,selectGenMain:p,awakenGenMain:g,setActiveCard:h,removeDeck:f,toggleSearch:b,showDetail:y,moveLeft:v,moveRight:C}=this.props,O=[];e.forEach(((n,l)=>{const c=t===l,d=0===l,m=l===e.length-1,u=n.key;if("general"in n){const{general:e,additionalParams:t,genMain:k,genMainAwakening:E,genMainAwakeningCount:w,pocket:N}=n,j=E||s>=w+r;O.push(i.a.createElement(Ue,{key:u,index:l,active:c,search:c&&a,genMain:k,genMainAwakening:E,genMainAwakeningCount:w,general:e,additionalParams:t,pocket:N,enableMoveLeft:!d,enableMoveRight:!m,enableGenMainAwaken:j,exchangeForceIntelligence:o,onSelectGenMain:p,onAwakenGenMain:g,onActive:h,onRemoveDeck:f,onToggleSearch:b,onShowDetail:y,onMoveLeft:v,onMoveRight:C}))}else O.push(i.a.createElement(Xe,{key:u,index:l,active:c,search:c&&a,deckCard:n,enableMoveLeft:!d,enableMoveRight:!m,onActive:h,onRemoveDeck:f,onToggleSearch:b,onMoveLeft:v,onMoveRight:C}))}));const k={};return l.length>0&&(k.display="none"),i.a.createElement("div",{className:"deck-card-list"},O,i.a.createElement("div",{className:"deck-actions"},i.a.createElement("div",{className:"deck-clear button",onClick:m},"クリア"),i.a.createElement("div",{className:be()("add-new-deck-card","button",{disabled:!n}),onClick:d},"追加",i.a.createElement(ye.a,{icon:Se.faPlusCircle})),i.a.createElement("div",{style:k,className:be()("open-deck-config","button",{modified:c}),onClick:u},i.a.createElement(ye.a,{icon:De.faCog})),i.a.createElement("div",{className:be()("deck-awakening-gen-main",{"over-limit":r>s}),"data-label":"将器ポイント"},r,"/",s)))}}var et=function(e,t,a=null){return e.length-(null!=a?1:0)<t};function tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function at(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(a),!0).forEach((function(t){nt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function nt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const rt={intelligence:0,conquest:0},st={states:{},morale:0,maxMorale:0},it=at(at({},st),{},{description:"",self:rt}),lt={"64577c9cf5034bd53dea21522ffa5fa8":at(at({},st),{},{description:"知力が上がる",self:at(at({},rt),{},{intelligence:3})}),"7f4a12c7f93d7629d7cb63bc03ffd877":at(at({},st),{},{description:"戦闘開始時に士気が上がる",self:rt,morale:40}),"53713eb7257682080cd1da1e4f775026":at(at({},st),{},{description:"征圧力が上がる",self:at(at({},rt),{},{conquest:1})}),"4dfe295dd8c2a8a3d52a6409ee8f4541":at(at({},st),{},{description:"最大士気が上がる\nただし12より多くならない",self:rt,maxMorale:2})},ot={b25b1cafbf36743d7a5f95aff4016436:at(at({},st),{},{description:"魏の味方の知力が上がり\n自身の征圧力が上がる",self:at(at({},rt),{},{conquest:2}),states:{c27df45cf8cd8895e643247f78749d47:at(at({},rt),{},{intelligence:1})}}),"8ddce862a12db91174487dbc91fae9af":at(at({},st),{},{description:"呉の味方の知力が上がる",self:rt,states:{"8d4d2c028f86d6f5c0f5557234853d4e":at(at({},rt),{},{intelligence:2})}}),"70ad519b63b128f52840c82303caef10":at(at({},st),{},{description:"征圧力が上がる",self:at(at({},rt),{},{conquest:3})})};function ct(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(a),!0).forEach((function(t){mt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ct(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function mt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ut(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}const pt=(e,t)=>a=>{const{count:n,cost:r}=t.get(a)||{count:0,cost:0};t.set(a,{count:n+1,cost:r+e})};var gt=Object(c.b)((e=>{return{deckCards:e.deck.deckCards,assistDeckCards:e.deck.assistDeckCards,enableSearch:null!=e.deck.searchCondition,activeIndex:e.deck.activeIndex,activeAssistIndex:e.deck.activeAssistIndex,generals:e.datalist.generals,assistGenerals:e.datalist.assistGenerals,skills:e.datalist.filterContents.skills,unitTypes:e.datalist.filterContents.unitTypes,limitCost:e.deck.deckConstraints.limitCost,generalCardLimit:e.deck.deckConstraints.generalCardLimit,assistCardLimit:e.deck.deckConstraints.assistCardLimit,genMainAwakeningLimit:e.deck.deckConstraints.genMainAwakeningLimit,genMainSpAwakeningCount:e.deck.deckConstraints.genMainSpAwakeningCount,exchangeForceIntelligence:e.deck.deckConstraints.exchange,modifiedDeckConstraints:(t=L,a=e.deck.deckConstraints,!Object.keys(t).every((e=>t[e]===a[e])))};var t,a}),(e=>Object(d.b)({openDeckConfig:()=>v.changeDeckConfigVisible({openedDeckConfig:!0}),selectGenMain:q.selectGenMain,awakenGenMain:q.awakenGenMain,setActiveCard:q.setActiveCard,removeDeck:q.removeDeck,rawAddDeckDummy:q.addDeckDummy,setActiveAssistCard:q.setActiveAssistCard,removeDeckAssist:q.removeDeckAssist,clearDeck:q.clearDeck,searchByDeck:q.searchByDeck,showDetail:v.openGeneralDetail,showAssistDetail:v.openAssistGeneralDetail,moveLeft:e=>q.moveDeckIndex({index:e,direction:"left"}),moveRight:e=>q.moveDeckIndex({index:e,direction:"right"}),resetPage:A.resetPage,showDialog:H.showDialog},e)),((e,t)=>{const{deckCards:a,assistDeckCards:n,enableSearch:r,activeIndex:s,activeAssistIndex:i,generals:l,assistGenerals:o,limitCost:c,generalCardLimit:d,assistCardLimit:m,genMainAwakeningLimit:u,genMainSpAwakeningCount:p,exchangeForceIntelligence:g,modifiedDeckConstraints:h,skills:f,unitTypes:b}=e,{rawAddDeckDummy:y,clearDeck:v,searchByDeck:C,resetPage:O,showDialog:k}=t,E=ut(t,["rawAddDeckDummy","clearDeck","searchByDeck","resetPage","showDialog"]),w=et(a,d);let N=0,j=0,P=0,S=0,D=0,x=0,M=0,A=!1,I=!1;const T=[],V=[],G=new Set,R=new Map,F=new Map,L=new Map;if(a.forEach((e=>{let t;if("general"in e){const{general:n}=e,r=ut(e,["general"]),s=null!=e.general?l.find((e=>e.id===n)):void 0;if(!s)return;N+=s.force,j+=s.intelligence,P+=s.conquest,t=parseInt(s.cost.id),G.add(s.state.id);const i=r.genMain,o=null!=s.genMainSp?p:1;r.genMainAwakening&&(M+=o);const c={force:0,intelligence:0,conquest:0};if(null!=i&&r.genMainAwakening){const e=s.genMains.find((e=>e.id===i));if(e){const t=null!=s.genMainSp?(a=s.genMainSp).code&&ot[a.code]||it:function(e){return e.code&&lt[e.code]||it}(e);c.intelligence+=t.self.intelligence,c.conquest+=t.self.conquest;for(const[e,a]of Object.entries(t.states)){const t=L.get(e)||{intelligence:0,conquest:0};t.intelligence+=a.intelligence,t.conquest+=a.conquest,L.set(e,t)}D+=t.morale,x+=t.maxMorale}}s.skills.forEach(pt(t,R)),pt(t,F)(s.unitType),T.push(dt(dt({},r),{},{general:s,genMainAwakeningCount:o,additionalParams:c}))}else{A=!0,t=parseInt(e.cost),e.belongState?G.add(e.belongState):I=!0;const a=e.unitType?b.find((t=>t.id===e.unitType)):void 0;a&&pt(t,F)(a),T.push(e)}var a;S+=t})),T.forEach((e=>{if(!("general"in e))return;const t=e.general.state.code;if(!t)return;const a=L.get(t);a&&(e.additionalParams.intelligence+=a.intelligence,e.additionalParams.conquest+=a.conquest)})),n.forEach((({assist:e})=>{const t=o.find((t=>t.id===e));t&&V.length<m&&(V.push({assist:t}),G.add(t.state.id))})),V.length<m){const e=m-V.length;for(let t=0;t<e;t++)V.push({assist:null})}const B=[];f.forEach((e=>{const t=R.get(e);t&&B.push(dt(dt({},t),{},{skill:e}))}));const _=[];b.forEach((e=>{const t=F.get(e);t&&_.push(dt(dt({},t),{},{unitType:e}))}));const q=G.size+(I?1:0);let U;1===q?U=12:2===q?U=9:(I=!1,U=6),U+x>=12&&(x=12-U);const $=f.find((e=>"魅力"===e.name)),{count:z}=($?R.get($):void 0)||{count:0},W=40*z;let Y;Y=P>=11?"S":P>=9?"A":P>=7?"B":"C";const J=T.reduce(((e,t)=>{if("additionalParams"in t){const a=t.additionalParams;return{intelligence:e.intelligence+a.intelligence,conquest:e.conquest+a.conquest}}return e}),{intelligence:0,conquest:0}),X={deckCards:T,assistDeckCards:V,activeIndex:s,activeAssistIndex:i,enabledAddDeck:w,enableSearch:r,total:{totalForce:N,totalIntelligence:j,intelligenceByGenMain:J.intelligence,totalConquest:P,conquestByGenMain:J.conquest,conquestRank:Y,totalCost:S,limitCost:c,maxMorale:U,maxMoraleByGenMain:x,tolalMoraleByCharm:W,tolalMoraleByGenMain:D,hasDummy:A,hasStateDummy:I,totalSkills:B,totalUnitTypes:_},totalAwakeningGenMainCount:M,genMainAwakeningLimit:u,exchangeForceIntelligence:g,modifiedDeckConstraints:h},K=dt(dt({},E),{},{addDeckDummy:()=>{if(!w)return;let e,t,a="10";const{costs:n,belongStates:r,unitTypes:s}=Z.getState().datalist.filterCondition.basic;n.length>=1&&(a=[...n].sort()[0]),1===r.length&&(e=r[0]),1===s.length&&(t=s[0]),y({cost:a,belongState:e,unitType:t})},clearDeck:()=>{T.length>0&&k({title:"デッキクリア",message:"現在デッキに設定中のカードをすべて削除します。",redText:"クリア",actionRed:()=>{v()},blueText:"キャンセル",actionBlue:()=>{}})},toggleSearch:(e,t)=>{O(),s===e&&r?E.setActiveCard(e):C(e,t)}});return dt(dt({},X),K)}),{areMergedPropsEqual:()=>!1})(Ze),ht=function(e,t){return null!=e.activeIndex?"general":null!=e.activeAssistIndex?"assist":t.searchMode};const ft=()=>{return e=0,new Promise((t=>setTimeout(t,e)));var e};a(176);class bt extends i.a.PureComponent{constructor(...e){super(...e),this.scrollArea=i.a.createRef(),this.handleOnPagePrev=e=>{e.stopPropagation(),this.props.onPagePrev()},this.handleOnPageNext=e=>{e.stopPropagation(),this.props.onPageNext()},this.handleOnScroll=()=>{Object(m.forceCheck)()}}componentDidUpdate(e){const t=this.isChangedList(e),a=this.scrollArea.current;t&&a&&(a.scrollTop=0),Object(m.forceCheck)()}extraPartRender(){return i.a.createElement(i.a.Fragment,null)}render(){const{count:e,searchedAll:t,searchedOffset:a,searchedLimit:n,hasPrev:r,hasNext:s,show:l}=this.props,o=this.createCardElements();0===e&&o.push(i.a.createElement("div",{key:-1,className:"no-generals"},"該当なし"));const c=t>0?a+1:0;let d=a+n;d>t&&(d=t);const m={};return l||(m.display="none"),i.a.createElement("div",{className:"cardlist-container",style:m,onScroll:this.handleOnScroll},this.extraPartRender(),i.a.createElement("div",{className:"cardlist-paging"},i.a.createElement("button",{className:be()("paging-button","prev",{active:r}),onClick:this.handleOnPagePrev},"< 前"),i.a.createElement("div",{className:"pageing-label"},"全",t,"件 ",c," - ",d,"件"),i.a.createElement("button",{className:be()("paging-button","next",{active:s}),onClick:this.handleOnPageNext},"次 >")),i.a.createElement("div",{className:"cardlist-main",ref:this.scrollArea},o))}}a(177);var yt=a(39);function vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ct(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(a),!0).forEach((function(t){Ot(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ot(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class kt extends i.a.PureComponent{constructor(...e){super(...e),this.handleAddDeckClick=e=>{const{general:t,onAddDeck:a}=this.props;e.stopPropagation();const n=e.currentTarget.dataset.genMain;a({general:t.id,genMain:n,genMainAwakening:!1,pocket:!1})}}render(){const{general:e,enabledAddDeck:t}=this.props,a=[];e.genMains.forEach(((n,r)=>{const s=e.genMainSp||n;a.push(i.a.createElement("button",{className:"gen-main",key:r,disabled:!t,"data-gen-main":n.id,onClick:this.handleAddDeckClick},s.nameShort,i.a.createElement(ye.a,{className:"add-icon",icon:Se.faPlusCircle}),i.a.createElement(ye.a,{className:"change-icon",icon:yt.faSyncAlt})))}));const n=null!=e.genMainSp?"奇才将器":"主将器";return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"gen-mains","data-label":n},a),i.a.createElement("span",{className:"buttons"},i.a.createElement("button",{className:"add-deck",disabled:!t,onClick:this.handleAddDeckClick},i.a.createElement(ye.a,{className:"add-icon",icon:Se.faPlusCircle}),i.a.createElement(ye.a,{className:"change-icon",icon:yt.faSyncAlt}))))}}var Et=Object(c.b)((e=>({generals:e.datalist.generals,assistGenerals:e.datalist.assistGenerals,deckCards:e.deck.deckCards,assistDeckCards:e.deck.assistDeckCards,generalCardLimit:e.deck.deckConstraints.generalCardLimit,assistCardLimit:e.deck.deckConstraints.assistCardLimit,activeIndex:e.deck.activeIndex,activeAssistIndex:e.deck.activeAssistIndex,sameCard:e.deck.deckConstraints.sameCard})),(e=>Object(d.b)({addDeckGeneral:q.addDeckGeneral,changeDeckGeneral:q.changeDeckGeneral},e)),((e,t,a)=>{const{deckCards:n,assistDeckCards:r,generalCardLimit:s,activeIndex:i,activeAssistIndex:l,sameCard:o}=e,{general:c}=a,d=function(e,t){const{generals:a,activeIndex:n}=e,r=[];return t.forEach(((e,t)=>{n!==t&&"general"in e&&r.push(e.general)})),a.filter((e=>r.includes(e.id))).map((e=>({personal:e.personal.uniqueId,strat:e.strategy.id})))}(e,n),m=function(e,t){const{assistGenerals:a,assistCardLimit:n}=e,r=t.filter(((e,t)=>t<n)).map((e=>e.assist));return a.filter((e=>r.includes(e.id))).map((e=>e.personal.uniqueId))}(e,r),u=null==l&&et(n,s,i)&&function(e,t,a,n){if("personal-strategy"!==n&&"personal-assist"!==n&&a.some((t=>t===e.personal.uniqueId)))return!1;return"personal-strategy"===n||"personal-strategy-exclude-assist"===n?!t.some((t=>t.personal===e.personal.id&&t.strat===e.strategy.id)):!t.some((t=>t.personal===e.personal.uniqueId))}(c,d,m,o),p={onAddDeck:e=>{u&&(null!=i?t.changeDeckGeneral(i,e):t.addDeckGeneral(e))}};return Ct(Ct(Ct({},{enabledAddDeck:u}),p),a)}),{areMergedPropsEqual:(e,t)=>!e.show&&!t.show})(kt);class wt extends i.a.PureComponent{render(){const{genMains:e,genMainSp:t,officialUrl:a}=this.props,n=[];e.forEach(((e,a)=>{const r=t||e;n.push(i.a.createElement("span",{className:"gen-main-readonly",key:a},r.nameShort))}));const r=null!=t?"奇才将器":"主将器";return i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"gen-mains","data-label":r},n),i.a.createElement("span",{className:"externals"},i.a.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},"公式",i.a.createElement("br",null),"サイトへ",i.a.createElement(ye.a,{icon:ke.faExternalLinkAlt}))))}}class Nt extends i.a.PureComponent{constructor(...e){super(...e),this.handleGeneralClick=()=>{const{general:e,onShowDetail:t}=this.props;t&&t(e)}}render(){const{general:e,show:t,showStrategyExplanation:a,showAddButtons:n,exchangeForceIntelligence:r}=this.props,s=n,l={backgroundColor:e.state.thincolor},o={backgroundColor:e.state.color};null==t||t||(l.display="none");const c=[];e.skills.forEach((e=>{c.push(i.a.createElement("span",{className:"skill",key:e.id},e.nameShort))})),0===c.length&&c.push(i.a.createElement("span",{className:"no-skill",key:0},"特技なし"));const d=e.strategy.name,m=e.strategy.stratCategoryName,p=e.strategy.morale,g=e.strategy.explanation,h=[];g.split("\n").forEach(((e,t)=>{h.push(i.a.createElement("span",{key:t},e))}));const f=n?i.a.createElement(Et,{general:e,show:t}):i.a.createElement(wt,{genMains:e.genMains,genMainSp:e.genMainSp,officialUrl:Te(e)});return i.a.createElement("div",{className:be()("general-card",{clickable:s}),style:l,onClick:this.handleGeneralClick},i.a.createElement("span",{className:"state",style:o},e.state.nameShort),i.a.createElement("span",{className:"version"},e.version),i.a.createElement("span",{className:"rarity"},e.rarity.name),i.a.createElement("span",{className:"name"},e.name),i.a.createElement("span",{className:"image"},i.a.createElement(u.a,{height:64,once:!0,scroll:!1,resize:!1,placeholder:i.a.createElement("div",{className:"no-image general-thumb"})},i.a.createElement("img",{className:"general-thumb",src:Ie(e,!1)}))),i.a.createElement("span",{className:"cost","data-label":"コスト"},e.cost.name),i.a.createElement("span",{className:"unit","data-label":"兵種"},e.unitType.nameShort),i.a.createElement("span",{className:"force","data-label":"武"},r?e.intelligence:e.force),i.a.createElement("span",{className:"intelligence","data-label":"知"},r?e.force:e.intelligence),i.a.createElement("span",{className:"conquest","data-label":"制圧"},e.conquest),i.a.createElement("span",{className:"skills"},c),i.a.createElement("span",{className:be()("strategy",{show:!a}),"data-label":"計略名",title:g},d),i.a.createElement("span",{className:be()("strategy-category",{show:!a})},"[",m,"]"),i.a.createElement("span",{className:be()("strategy-explanation",{show:a})},h),i.a.createElement("span",{className:"strategy-morale","data-label1":"必要","data-label2":"士気"},p),f)}}a(65);var jt=a(105),Pt=a(107);function St(e,t,a){if(null==e)return!1;const n=t.split(/\s+/g).filter((e=>e.length>0));return"or"===a?n.some((t=>e.includes(t))):n.every((t=>e.includes(t)))}function Dt(e,t,a){if(!e)return!1;const{text:n,ruby:r}=e;return!(!St(n,t,a)&&!function(e,t,a){if(null==e)return!1;const n=t.split(/\s+/g).filter((e=>e.length>0)).map((e=>Object(jt.a)(Object(Pt.a)(e),!0).replace(/[ﾞﾟ]/g,"")));return"or"===a?n.some((t=>e.includes(t))):n.every((t=>e.includes(t)))}(r,t,a))}function xt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Mt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(a),!0).forEach((function(t){At(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function At(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const It={areMergedPropsEqual:(e,t)=>{return e.show===t.show&&(e.showStrategyExplanation===t.showStrategyExplanation&&(e.searchedAll===t.searchedAll&&(e.searchedOffset===t.searchedOffset&&(e.exchangeForceIntelligence===t.exchangeForceIntelligence&&(a=e.searchedGeneralIds,n=t.searchedGeneralIds,!(a.length!==n.length||!a.every((e=>n.includes(e)))))))));var a,n}};var Tt=Object(c.b)((e=>({generals:e.datalist.generals,strategies:e.datalist.strategies,currentPage:e.datalist.currentPage,pageLimit:e.datalist.pageLimit,filterCondition:e.datalist.effectiveFilterCondition,searchMode:ht(e.deck,e.datalist.effectiveFilterCondition),deckSearchCondition:e.deck.searchCondition,exchangeForceIntelligence:e.deck.deckConstraints.exchange})),(e=>Object(d.b)({decrementPage:A.decrementPage,incrementPage:A.incrementPage,openGeneralDetail:v.openGeneralDetail},e)),((e,t)=>{const{generals:a,strategies:n,currentPage:r,pageLimit:s,filterCondition:i,searchMode:l,deckSearchCondition:o,exchangeForceIntelligence:c}=e;let d=i;o&&(d=Mt(Mt({},d),{},{basic:Mt({},d.basic)}),null!=o.belongState&&(d.basic.belongStates=[o.belongState]),d.basic.costs=[o.cost],null!=o.unitType&&(d.basic.unitTypes=[o.unitType]));const m=n.filter((e=>((e,t)=>{const{moraleMin:a,moraleMax:n,strategyCategories:r,strategyRanges:s,strategyTimes:i,strategySearchName:l,strategySearchExplanation:o}=t;return!(a>e.morale||n<e.morale||r.length>0&&!r.includes(e.stratCategory)||s.length>0&&!s.includes(e.stratRange)||i.length>0&&!i.includes(e.stratTime)||l.length>0&&!Dt(e.nameSearchText,l,"and")||o.length>0&&!St(e.explanation,o,"and"))})(e,d.strategies)));let u=[];if(m.length>0){const e=m.length!==n.length?m.map((e=>e.id)):void 0;u=a.filter((t=>!(e&&!e.includes(t.strategy.id))&&((e,t)=>{const{belongStates:a,costs:n,unitTypes:r,forceMin:s,forceMax:i,useCostRatioForce:l,costRatioForceMin:o,costRatioForceMax:c,costRatioBaseForces:d,intelligenceMin:m,intelligenceMax:u,conquestMin:p,conquestMax:g,skills:h,skillsAnd:f,searchText:b}=t.basic;if(a.length>0&&!a.includes(e.state.id))return!1;if(n.length>0&&!n.includes(e.cost.id))return!1;if(r.length>0&&!r.includes(e.unitType.id))return!1;if(l){const t=d[e.cost.id];if(null==t)return!1;const a=e.force-t;if(o>a)return!1;if(c<a)return!1}else{if(s>e.force)return!1;if(i<e.force)return!1}if(m>e.intelligence)return!1;if(u<e.intelligence)return!1;if(p>e.conquest)return!1;if(g<e.conquest)return!1;if(h.length>0){const t=t=>"0"===t?0===e.skills.length:e.skills.map((e=>e.id)).includes(t);if(f){if(!h.every(t))return!1}else if(!h.some(t))return!1}const{genMains:y,genMainsAnd:v,rarities:C,generalTypes:O,verTypes:k,versions:E,majorVersions:w,enableDetailVersion:N,pockets:j}=t.detail;if(C.length>0&&!C.includes(e.rarity.id))return!1;if(N){if(E.length>0&&!E.includes(e.versionValue))return!1}else if(w.length>0&&!w.includes(""+e.majorVersion))return!1;if(y.length>0){const t=t=>e.genMains.map((e=>e.id)).includes(t);if(v){if(!y.every(t))return!1}else if(!y.some(t))return!1}return!(O.length>0&&!O.includes(e.generalType.id)||k.length>0&&!k.includes(e.verType)||1===j.length&&"1"===j[0]!=(""!==e.pocketCode)||b.length>0&&!Dt(e.personal.nameSearchText,b,"or"))})(t,d))).map((e=>e.id))}const p=u.length,g=(r-1)*s,h=g>0,f=g+s<p;u=u.slice(g,g+s);const b={generals:a,count:u.length,searchedGeneralIds:u,searchedAll:p,searchedOffset:g,searchedLimit:s,hasPrev:h,hasNext:f,show:"general"===l,showStrategyExplanation:d.strategies.showStrategyExplanation,exchangeForceIntelligence:c},y={onPagePrev:t.decrementPage,onPageNext:t.incrementPage,showGeneralDetail:t.openGeneralDetail};return Mt(Mt({},b),y)}),It)(class extends bt{constructor(...e){super(...e),this.state={renderingCount:0},this.handleOnShowDetail=e=>{this.props.showGeneralDetail(e)}}async componentDidUpdate(e){super.componentDidUpdate(e);const{generals:t}=this.props;if(t.length!==e.generals.length){const e=25;await ft();for(let a=0;a<t.length;a+=e)this.setState({renderingCount:a}),await ft();this.setState({renderingCount:t.length})}}extraPartRender(){const e=this.props.generals.length,t=this.state.renderingCount;return e===t?i.a.createElement(i.a.Fragment,null):i.a.createElement("div",{className:"reading-generals"},"武将読み込み中 ",t,"/",e)}createCardElements(){const{generals:e,searchedGeneralIds:t,showStrategyExplanation:a,exchangeForceIntelligence:n}=this.props,{renderingCount:r}=this.state,s=[];return e.forEach(((e,l)=>{if(r<=l)return;const o=t.includes(e.id);s.push(i.a.createElement(Nt,{key:e.id,general:e,onShowDetail:this.handleOnShowDetail,show:o,showStrategyExplanation:a,showAddButtons:!0,exchangeForceIntelligence:n}))})),s}isChangedList(e){const t=this.props.searchedGeneralIds,a=e.searchedGeneralIds;return!(t.length===a.length&&t.every((e=>a.includes(e))))}});a(182);function Vt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Gt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(a),!0).forEach((function(t){Rt(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Vt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Rt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ft extends i.a.PureComponent{constructor(...e){super(...e),this.handleAddDeckClick=e=>{const{assist:t,onAddDeck:a}=this.props;e.stopPropagation(),a({assist:t.id})}}render(){const{enabledAddDeck:e}=this.props;return i.a.createElement("span",{className:"buttons"},i.a.createElement("button",{className:"add-deck",disabled:!e,onClick:this.handleAddDeckClick},i.a.createElement(ye.a,{className:"add-icon",icon:Se.faPlusCircle}),i.a.createElement(ye.a,{className:"change-icon",icon:yt.faSyncAlt})))}}var Lt=Object(c.b)((e=>({generals:e.datalist.generals,assistGenerals:e.datalist.assistGenerals,deckCards:e.deck.deckCards,assistDeckCards:e.deck.assistDeckCards,assistCardLimit:e.deck.deckConstraints.assistCardLimit,activeIndex:e.deck.activeIndex,activeAssistIndex:e.deck.activeAssistIndex,sameCard:e.deck.deckConstraints.sameCard})),(e=>Object(d.b)({addDeckAssist:q.addDeckAssist,changeDeckAssist:q.changeDeckAssist},e)),((e,t,a)=>{const{deckCards:n,assistDeckCards:r,activeIndex:s,activeAssistIndex:i,sameCard:l,assistCardLimit:o}=e,{assist:c}=a,d=function(e,t){const{generals:a,activeIndex:n}=e,r=[];return t.forEach(((e,t)=>{n!==t&&"general"in e&&r.push(e.general)})),a.filter((e=>r.includes(e.id))).map((e=>e.personal.uniqueId))}(e,n),m=function(e,t){const{assistGenerals:a,assistCardLimit:n}=e,r=t.filter(((e,t)=>t<n)).map((e=>e.assist));return a.filter((e=>r.includes(e.id))).map((e=>e.personal.uniqueId))}(e,r),u=null==s&&function(e,t,a=null){return 0!==t&&(null!==a||e.filter(((e,a)=>a<t)).map((e=>e.assist)).length<t)}(r,o,i)&&function(e,t,a,n){return!(a.some((t=>t===e.personal.uniqueId))||"personal-strategy"!==n&&"personal-assist"!==n&&t.some((t=>t===e.personal.uniqueId)))}(c,d,m,l),p={onAddDeck:e=>{u&&(null!=i&&r.length>i?t.changeDeckAssist(i,e):t.addDeckAssist(e))}};return Gt(Gt(Gt({},{enabledAddDeck:u}),p),a)}),{areMergedPropsEqual:(e,t)=>!e.show&&!t.show})(Ft);class Bt extends i.a.PureComponent{constructor(...e){super(...e),this.handleAssistGeneralClick=()=>{const{general:e,onShowDetail:t}=this.props;t&&t(e)}}render(){var e,t;const{general:a,show:n,showStrategyExplanation:r,showAddButtons:s}=this.props,l=s,o={backgroundColor:a.state.thincolor},c={backgroundColor:a.state.color};null==n||n||(o.display="none");const d=a.strategy.name,m=(null===(e=a.strategy.category)||void 0===e?void 0:e.name)||"",p=a.strategy.explanation,g=[];p.split("\n").forEach(((e,t)=>{g.push(i.a.createElement("span",{key:t},e))}));const h=null===(t=a.strategy.range)||void 0===t?void 0:t.code,f=h?Ge(h):"",b=s?i.a.createElement(Lt,{assist:a,show:n}):i.a.createElement("span",{className:"externals"},i.a.createElement("a",{href:(y=a,"https://3594t.net/datalist/?v=ASSIST&s=POPUP_ASSIST&c="+y.code),target:"_blank",rel:"noopener noreferrer"},"公式",i.a.createElement("br",null),"サイトへ",i.a.createElement(ye.a,{icon:ke.faExternalLinkAlt})));var y;return i.a.createElement("div",{className:be()("assist-general-card",{clickable:l}),style:o,onClick:this.handleAssistGeneralClick},i.a.createElement("span",{className:"state",style:c},a.state.nameShort),i.a.createElement("span",{className:"version"},a.version),i.a.createElement("span",{className:"rarity"},"遊軍"),i.a.createElement("span",{className:"name"},a.name),i.a.createElement("span",{className:"image"},i.a.createElement(u.a,{height:64,once:!0,scroll:!1,resize:!1,placeholder:i.a.createElement("div",{className:"no-image general-thumb"})},i.a.createElement("img",{className:"general-thumb",src:Ve(a)}))),i.a.createElement("span",{className:be()("strategy",{show:!r}),"data-label":"戦技名",title:p},d),i.a.createElement("span",{className:be()("strategy-category",{show:!r})},"[",m,"]"),i.a.createElement("span",{className:be()("strategy-explanation",{show:r})},g),i.a.createElement("span",{className:"strategy-range","data-label":"効果範囲"},i.a.createElement("img",{className:"range-image",src:f})),b)}}function _t(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(a),!0).forEach((function(t){Ut(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_t(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ut(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const $t={areMergedPropsEqual:(e,t)=>{return e.show===t.show&&(e.showStrategyExplanation===t.showStrategyExplanation&&(e.searchedAll===t.searchedAll&&(e.searchedOffset===t.searchedOffset&&(a=e.searchedAssistGeneralIds,n=t.searchedAssistGeneralIds,!(a.length!==n.length||!a.every((e=>n.includes(e))))))));var a,n}};var zt=Object(c.b)((e=>({assistGenerals:e.datalist.assistGenerals,currentPage:e.datalist.currentPage,pageLimit:e.datalist.pageLimit,belongStates:e.datalist.effectiveFilterCondition.basic.belongStates,enableSearchByDeck:null!=e.deck.searchCondition,searchMode:ht(e.deck,e.datalist.effectiveFilterCondition)})),(e=>Object(d.b)({decrementPage:A.decrementPage,incrementPage:A.incrementPage,openAssistGeneralDetail:v.openAssistGeneralDetail},e)),((e,t)=>{const{assistGenerals:a,currentPage:n,pageLimit:r,belongStates:s,enableSearchByDeck:i,searchMode:l}=e;let o=[];i||(o=a.filter((e=>!(s.length>0&&!s.includes(e.state.id)))).map((e=>e.id)));const c=o.length,d=(n-1)*r,m=d>0,u=d+r<c;o=o.slice(d,d+r);const p={assistGenerals:a,count:o.length,searchedAssistGeneralIds:o,searchedAll:c,searchedOffset:d,searchedLimit:r,hasPrev:m,hasNext:u,show:"assist"===l,showStrategyExplanation:!1},g={onPagePrev:t.decrementPage,onPageNext:t.incrementPage,showGeneralDetail:t.openAssistGeneralDetail};return qt(qt({},p),g)}),$t)(class extends bt{constructor(...e){super(...e),this.handleOnShowDetail=e=>{this.props.showGeneralDetail(e)}}createCardElements(){const{assistGenerals:e,searchedAssistGeneralIds:t,showStrategyExplanation:a}=this.props,n=[];return e.forEach((e=>{const r=t.includes(e.id);n.push(i.a.createElement(Bt,{key:e.id,general:e,onShowDetail:this.handleOnShowDetail,show:r,showStrategyExplanation:a,showAddButtons:!0}))})),n}isChangedList(e){const t=this.props.searchedAssistGeneralIds,a=e.searchedAssistGeneralIds;return!(t.length===a.length&&t.every((e=>a.includes(e))))}});let Wt;const Yt=500;function Jt(e){return t=>{e(A.setSearchMode(t)),clearTimeout(Wt),Wt=setTimeout((()=>{e(A.applyCondition())}),Yt)}}function Xt(e){return t=>{e(A.setBasicCondition(t)),clearTimeout(Wt),Wt=setTimeout((()=>{e(A.applyCondition())}),Yt)}}function Kt(e){return t=>{e(A.setDetailCondition(t)),clearTimeout(Wt),Wt=setTimeout((()=>{e(A.applyCondition())}),Yt)}}function Ht(e){return t=>{e(A.setStrategiesCondition(t)),clearTimeout(Wt),Wt=setTimeout((()=>{e(A.applyCondition())}),Yt)}}a(183);function Qt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Zt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(a),!0).forEach((function(t){ea(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ea(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ta=({mode:e,filterContents:t,filterCondition:a,value:n,checked:r})=>{let s=a.filter((e=>!e.startsWith(n+"-")));if(!r){const a=[].concat(...t).filter((e=>e.id.startsWith(n+"-"))).map((e=>e.id));s="singular"===e?a:s.concat(a)}return s},aa=(e,t,a,n,r,s)=>{let i=[...a];const l=r.split("-")[0];if(s)n.some((e=>e.startsWith(l+"-")))||(i=i.filter((e=>e!==l)));else if("singular"===e)i=[l];else if(!i.includes(l)){[].concat(...t).filter((e=>e.id.startsWith(l+"-"))).map((e=>e.id)).every((e=>n.includes(e)))&&i.push(l)}return i};function na(e,t,a){const n=a.includes(t);let r;return r=n?a.filter((e=>e!==t)):"singular"===e?[t]:[...a,t],{checked:n,targetValue:r}}function ra(e,t,a,n){const r=t[a];if(!(r instanceof Array))return console.warn(a+" is not array."),{};const{targetValue:s}=na(e,n,r);return{[a]:s}}a(184),a(185);const sa=["button","filter-item"];class ia extends i.a.PureComponent{constructor(e){super(e),this.buttonClasses=void 0,this.square=void 0,this.handleClickItem=e=>{const t=e.currentTarget.value,{itemName:a,onClickItem:n}=this.props;n(a,t)},this.buttonClasses=e.addtionalClasses?[...sa,...e.addtionalClasses]:sa,this.square=this.props.square||!1}createLabel(e){return e.nameShort||e.name}createButton(e,t,a,n,r){return i.a.createElement("button",{key:e,value:e,style:a,className:r,disabled:n,onClick:this.handleClickItem},t)}render(){const{checkedItems:e,items:t,show:a,disabled:n}=this.props,r=this.square,s=[],l=null!=n&&n;t.forEach((t=>{const a=t.id,n=this.createLabel(t),i={};t.color&&(i.backgroundColor=t.color);const o=e.includes(a);s.push(this.createButton(a,n,i,l,be()(this.buttonClasses,{checked:o,square:r})))}));const o={};return null==a||a||(o.display="none"),i.a.createElement("div",{className:"button-list",style:o},s)}}class la extends i.a.Component{constructor(...e){super(...e),this.handleToggleCheckList=(e,t)=>{this.props.toggleCheckList(e,t)},this.handleOnClickToggleSearchMode=()=>{const{searchMode:e,setSearchMode:t}=this.props;t("general"===e?"assist":"general")}}render(){const{filterContents:e,filterCondition:t,searchByDeck:a,searchMode:n}=this.props,r="general"===n;return i.a.createElement("section",{className:"simple-filter-section"},i.a.createElement("div",{className:"simple-filter-state"},i.a.createElement("h2",{className:"title-inline"},"勢力"),i.a.createElement(ia,{itemName:"belongStates",items:e,checkedItems:t,onClickItem:this.handleToggleCheckList,square:!0,disabled:a})),i.a.createElement("div",{className:be()("search-mode",{"mode-general":r}),onClick:this.handleOnClickToggleSearchMode},i.a.createElement("span",{className:"mode-item mode-item-general"},"武将"),i.a.createElement("span",{className:"mode-item mode-item-assist"},"遊軍")))}}function oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ca(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(a),!0).forEach((function(t){da(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function da(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ma=Object(c.b)((e=>{const{searchCondition:t}=e.deck,a=t?t.belongState:void 0;return{belongStates:e.datalist.filterContents.belongStates,searchMode:ht(e.deck,e.datalist.filterCondition),filterSelectionMode:e.datalist.filterSelectionMode,basicFilterCondition:e.datalist.filterCondition.basic,deckCardBelongState:a}}),(e=>({setSearchMode:Jt(e),setCondition:Xt(e)})),((e,t)=>{const{deckCardBelongState:a,belongStates:n,searchMode:r,filterSelectionMode:s,basicFilterCondition:i}=e;let l=!1,o=i.belongStates;null!=a&&(l=!0,o=[a]);const c={filterContents:n,filterCondition:o,searchByDeck:l,searchMode:r},d={setCondition:t.setCondition,setSearchMode:t.setSearchMode,toggleCheckList:(e,a)=>{t.setCondition(ra(s,i,e,a))}};return ca(ca({},c),d)}),{areMergedPropsEqual:()=>!1})(la);a(186),a(187);class ua extends i.a.PureComponent{constructor(...e){super(...e),this.handleTabClick=e=>{const t=e.currentTarget.dataset.tab;t&&this.props.onTabChanged(t)}}render(){const{tabs:e,activeTab:t}=this.props,a=[];return Object.entries(e).forEach((([e,n])=>{const r=t===e,s="tab-button-"+e.toLowerCase(),l=be()([s,{active:r}]);a.push(i.a.createElement("button",{key:e,"data-tab":e,className:l,onClick:this.handleTabClick},n))})),i.a.createElement("div",{className:"card-filter-tabs"},a)}}a(188);const pa=({resetConditions:e,closeFilter:t})=>i.a.createElement("div",{className:"card-filter-actions"},i.a.createElement("button",{className:"action-button-reset",onClick:e},"リセット"),i.a.createElement("button",{className:"action-button-ok",onClick:t},"OK"));var ga=i.a.memo(pa);a(189),a(190);class ha extends ia{createButton(e,t,a,n,r){return"0"!==e?super.createButton(e,t,a,n,r):super.createButton(e,"無",a,n,be()(r,"no-skill"))}}a(191);class fa extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChange=()=>{const{isOn:e,itemName:t,onChangeValue:a}=this.props;a(t,!e)}}render(){const{isOn:e,labelOff:t,labelOn:a,width:n}=this.props,r={};return null!=n&&(r.width=n),be()("switch-button",{active:e}),i.a.createElement("div",{style:r,className:"switch-item",onClick:this.handleOnChange},i.a.createElement("div",{className:be()("switch-button",{active:!e})},i.a.createElement("button",{className:"switch-button-child"},t)),i.a.createElement("div",{className:be()("switch-button",{active:e})},i.a.createElement("button",{className:"switch-button-child"},a)))}}a(192);class ba extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChange=e=>{const t=parseFloat(e.currentTarget.value),{itemName:a,onChangeValue:n}=this.props;n(a,t)}}render(){const{min:e,max:t,value:a,className:n,defaultValue:r,defaultValueLabel:s,displayText:l,step:o=1}=this.props,c=e<0,d=[];for(let a=e;a<=t;a+=o){const e=null!=r&&r===a,t=(l?l(a,e):""+a)+(e&&s||""),n=c&&a>0?"+":"";d.push(i.a.createElement("option",{key:a,value:a},n,t))}const m=["number-select"];return n&&m.push(n),s&&m.push("has-default-label"),i.a.createElement("select",{value:a,className:be()(m),onChange:this.handleOnChange},d)}}a(193);function ya(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function va(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ya(Object(a),!0).forEach((function(t){Ca(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ya(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Ca(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Oa extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeValue=(e,t)=>{const{setCondition:a,costRatioBaseForces:n}=this.props;a({costRatioBaseForces:va(va({},n),{},{[e]:t})})}}render(){const{costRatioBaseForces:e,exchangeForceIntelligence:t}=this.props;return i.a.createElement("div",{className:"cost-ratio-base-force"},i.a.createElement("span",{className:"title-inline"},"基準",t?"知力":"武力"),i.a.createElement("label",null,"1.0",i.a.createElement(ba,{itemName:"10",onChangeValue:this.handleOnChangeValue,value:e[10],max:5,min:1})),i.a.createElement("label",null,"1.5",i.a.createElement(ba,{itemName:"15",onChangeValue:this.handleOnChangeValue,value:e[15],max:7,min:2})),i.a.createElement("label",null,"2.0",i.a.createElement(ba,{itemName:"20",onChangeValue:this.handleOnChangeValue,value:e[20],max:9,min:5})),i.a.createElement("label",null,"2.5",i.a.createElement(ba,{itemName:"25",onChangeValue:this.handleOnChangeValue,value:e[25],max:10,min:6})),i.a.createElement("label",null,"3.0",i.a.createElement(ba,{itemName:"30",onChangeValue:this.handleOnChangeValue,value:e[30],max:11,min:8})))}}a(194);class ka extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChange=e=>{const t=e.currentTarget.value,{itemName:a,onChangeValue:n}=this.props;n(a,t)}}render(){const{value:e,className:t}=this.props;return i.a.createElement("input",{type:"text",value:e,className:be()("search-textbox",t),onChange:this.handleOnChange})}}class Ea extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeSearchMode=(e,t)=>{this.props.setSearchMode(t?"assist":"general")},this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{searchMode:e,filterContents:t,filterCondition:a,searchByDeckBelongState:n,searchByDeckCost:r,searchByDeckUnitType:s,exchangeForceIntelligence:l,setCondition:o,toggleCheckList:c}=this.props,d="general"!==e,m=i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},l?"武力":"知力"),i.a.createElement("div",{className:"range"},i.a.createElement(ba,{itemName:"intelligenceMin",onChangeValue:this.handleOnChangeValue,value:a.intelligenceMin,max:11,min:1}),"-",i.a.createElement(ba,{itemName:"intelligenceMax",onChangeValue:this.handleOnChangeValue,value:a.intelligenceMax,max:11,min:1})));return i.a.createElement("div",{className:be()({"general-mode-off":d})},i.a.createElement("section",{className:"filter-section"},i.a.createElement("h2",{className:"title"},"武将/遊軍切り替え"),i.a.createElement(fa,{itemName:"searchMode",onChangeValue:this.handleOnChangeSearchMode,isOn:d,labelOff:"武将",labelOn:"遊軍",width:160})),i.a.createElement("section",{className:"filter-section"},i.a.createElement("h2",{className:"title"},"勢力"),i.a.createElement(ia,{itemName:"belongStates",items:t.belongStates,checkedItems:a.belongStates,onClickItem:c,square:!0,disabled:n})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"コスト"),i.a.createElement(ia,{itemName:"costs",items:t.costs,checkedItems:a.costs,onClickItem:c,square:!0,disabled:r})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"兵種"),i.a.createElement(ia,{itemName:"unitTypes",items:t.unitTypes,checkedItems:a.unitTypes,onClickItem:c,square:!0,disabled:s})),l?m:i.a.createElement(i.a.Fragment,null),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},l?"知力":"武力"),i.a.createElement("div",{className:"title-button"},i.a.createElement(fa,{itemName:"useCostRatioForce",onChangeValue:this.handleOnChangeValue,isOn:a.useCostRatioForce,labelOff:"通常",labelOn:"コスト比",width:180})),i.a.createElement("div",{className:be()("normal-force",{active:!a.useCostRatioForce})},i.a.createElement("div",{className:"range"},i.a.createElement(ba,{itemName:"forceMin",onChangeValue:this.handleOnChangeValue,value:a.forceMin,max:11,min:1}),"-",i.a.createElement(ba,{itemName:"forceMax",onChangeValue:this.handleOnChangeValue,value:a.forceMax,max:11,min:1}))),i.a.createElement("div",{className:be()("cost-ratio-force",{active:a.useCostRatioForce})},i.a.createElement("div",{className:"range"},i.a.createElement(ba,{itemName:"costRatioForceMin",onChangeValue:this.handleOnChangeValue,value:a.costRatioForceMin,max:5,min:-5}),"以上"),i.a.createElement(Oa,{costRatioBaseForces:a.costRatioBaseForces,exchangeForceIntelligence:l,setCondition:o}))),l?i.a.createElement(i.a.Fragment,null):m,i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"征圧力"),i.a.createElement("div",{className:"range"},i.a.createElement(ba,{itemName:"conquestMin",onChangeValue:this.handleOnChangeValue,value:a.conquestMin,max:4,min:0}),"-",i.a.createElement(ba,{itemName:"conquestMax",onChangeValue:this.handleOnChangeValue,value:a.conquestMax,max:4,min:0}))),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"特技"),i.a.createElement("div",{className:"title-button"},i.a.createElement(fa,{itemName:"skillsAnd",onChangeValue:this.handleOnChangeValue,isOn:a.skillsAnd,labelOff:"OR",labelOn:"AND"})),i.a.createElement(ha,{itemName:"skills",items:t.skills,checkedItems:a.skills,onClickItem:c,square:!0})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"武将名検索"),i.a.createElement(ka,{itemName:"searchText",value:a.searchText,onChangeValue:this.handleOnChangeValue}),i.a.createElement("div",null,"スペース区切りでOR検索 読み仮名(ひらがな、カタカナ)対応")))}}function wa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Na(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wa(Object(a),!0).forEach((function(t){ja(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ja(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Pa=Object(c.b)((e=>{const{searchCondition:t}=e.deck;return{searchMode:ht(e.deck,e.datalist.filterCondition),filterSelectionMode:e.datalist.filterSelectionMode,filterCondition:e.datalist.filterCondition.basic,filterContents:e.datalist.filterContents,deckSearchCondition:t,exchangeForceIntelligence:e.deck.deckConstraints.exchange}}),(e=>({setSearchMode:Jt(e),setCondition:Xt(e)})),((e,t)=>{const{searchMode:a,filterSelectionMode:n,filterCondition:r,filterContents:s,deckSearchCondition:i,exchangeForceIntelligence:l}=e;let o;if(i){let e,t=!1;null!=i.belongState?(e=[i.belongState],t=!0):e=r.belongStates;const n=[i.cost];let c,d=!1;null!=i.unitType?(c=[i.unitType],d=!0):c=r.unitTypes,o={searchMode:a,filterContents:s,searchByDeckBelongState:t,searchByDeckCost:!0,searchByDeckUnitType:d,filterCondition:Na(Na({},r),{},{belongStates:e,costs:n,unitTypes:c}),exchangeForceIntelligence:l}}else o={searchMode:a,filterContents:s,filterCondition:r,searchByDeckBelongState:!1,searchByDeckCost:!1,searchByDeckUnitType:!1,exchangeForceIntelligence:l};const c=Na(Na({},t),{},{toggleCheckList:(e,a)=>{t.setCondition(ra(n,r,e,a))}});return Na(Na({},o),c)}),{areMergedPropsEqual:()=>!1})(Ea);a(195);const Sa=[{id:"1",name:"あり"},{id:"0",name:"なし"}];class Da extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{searchMode:e,filterContents:t,filterCondition:a,toggleCheckList:n}=this.props,r="general"!==e,s=[];return t.versions.forEach(((e,t)=>{s.push(i.a.createElement(ia,{key:t+1,itemName:"versions",items:e,checkedItems:a.versions,onClickItem:n}))})),i.a.createElement("div",{className:be()({"general-mode-off":r})},i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"登場弾"),i.a.createElement("div",{className:"title-button"},i.a.createElement(fa,{itemName:"enableDetailVersion",onChangeValue:this.handleOnChangeValue,isOn:a.enableDetailVersion,labelOff:"メジャーVer",labelOn:"詳細Ver",width:220})),i.a.createElement("div",{className:be()("major-version",{active:!a.enableDetailVersion})},i.a.createElement(ia,{itemName:"majorVersions",items:t.majorVersions,checkedItems:a.majorVersions,onClickItem:n})),i.a.createElement("div",{className:be()("detail-version",{active:a.enableDetailVersion})},s)),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"将器主効果候補"),i.a.createElement("div",{className:"title-button"},i.a.createElement(fa,{itemName:"genMainsAnd",onChangeValue:this.handleOnChangeValue,isOn:a.genMainsAnd,labelOff:"OR",labelOn:"AND"})),i.a.createElement(ia,{itemName:"genMains",items:t.genMains,checkedItems:a.genMains,onClickItem:n})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"レアリティ"),i.a.createElement(ia,{itemName:"rarities",items:t.rarities,checkedItems:a.rarities,onClickItem:n,square:!0})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"官職"),i.a.createElement(ia,{itemName:"generalTypes",items:t.generalTypes,checkedItems:a.generalTypes,onClickItem:n})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"カード種別"),i.a.createElement(ia,{itemName:"verTypes",items:t.verTypes,checkedItems:a.verTypes,onClickItem:n})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"ぽけっと武将"),i.a.createElement(ia,{itemName:"pockets",items:Sa,checkedItems:a.pockets,onClickItem:n})))}}function xa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ma(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xa(Object(a),!0).forEach((function(t){Aa(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Aa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ia=Object(c.b)((e=>({searchMode:ht(e.deck,e.datalist.filterCondition),filterSelectionMode:e.datalist.filterSelectionMode,filterCondition:e.datalist.filterCondition.detail,filterContents:e.datalist.filterContents})),(e=>({setCondition:Kt(e)})),((e,t)=>{const{searchMode:a,filterSelectionMode:n,filterCondition:r,filterContents:s}=e;return Ma(Ma(Ma({},{searchMode:a,filterCondition:r,filterContents:s}),t),{},{toggleCheckList:(a,r)=>{t.setCondition(function(e,t,a,n){const r=t.filterCondition[a];if(!(r instanceof Array))return console.warn(a+" is not array."),{};const{checked:s,targetValue:i}=na(e,n,r),l={[a]:i};switch(a){case"majorVersions":return Zt(Zt({},l),{},{versions:ta({mode:e,filterContents:t.filterContents.versions,filterCondition:t.filterCondition.versions,value:n,checked:s})});case"versions":return Zt(Zt({},l),{},{majorVersions:aa(e,t.filterContents.majorVersions,t.filterCondition.majorVersions,i,n,s)});default:return l}}(n,e,a,r))}})}),{areMergedPropsEqual:()=>!1})(Da);a(196),a(197);class Ta extends ia{createButton(e,t,a,n,r){if("string"!=typeof t||!t.includes("】"))return super.createButton(e,t,a,n,be()(r,"strategy-category-button"));const s=[],l=t.split("】");return l.forEach(((e,t)=>{t===l.length-1?s.push(i.a.createElement("span",{className:"main-name",key:t},e)):s.push(i.a.createElement("span",{className:"sub-name",key:t},e+"】"))})),super.createButton(e,s,a,n,be()(r,"multiline-label","strategy-category-button"))}}a(198);class Va extends ia{createLabel(e){if(null==e.code)return"";const t=Ge(e.code);return i.a.createElement("img",{className:"range-image",src:t})}createButton(e,t,a,n,r){return super.createButton(e,t,a,n,be()(r,"strategy-range-button"))}}class Ga extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeValue=(e,t)=>{this.props.setCondition({[e]:t})}}render(){const{searchMode:e,filterContents:t,filterCondition:a,toggleCheckList:n}=this.props,r="general"!==e;return i.a.createElement("div",{className:be()({"general-mode-off":r})},i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略表示切り替え"),i.a.createElement(fa,{itemName:"showStrategyExplanation",onChangeValue:this.handleOnChangeValue,isOn:a.showStrategyExplanation,labelOff:"計略名",labelOn:"計略説明",width:200})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略名検索"),i.a.createElement(ka,{itemName:"strategySearchName",value:a.strategySearchName,onChangeValue:this.handleOnChangeValue}),i.a.createElement("div",null,"スペース区切りでAND検索 読み仮名(ひらがな、カタカナ)対応")),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略説明検索"),i.a.createElement(ka,{itemName:"strategySearchExplanation",value:a.strategySearchExplanation,onChangeValue:this.handleOnChangeValue}),i.a.createElement("div",null,"スペース区切りでAND検索")),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略必要士気"),i.a.createElement("div",{className:"range"},i.a.createElement(ba,{itemName:"moraleMin",onChangeValue:this.handleOnChangeValue,value:a.moraleMin,max:12,min:1}),"-",i.a.createElement(ba,{itemName:"moraleMax",onChangeValue:this.handleOnChangeValue,value:a.moraleMax,max:12,min:1}))),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略カテゴリー"),i.a.createElement(Ta,{itemName:"strategyCategories",items:t.strategyCategories,checkedItems:a.strategyCategories,onClickItem:n})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略効果時間"),i.a.createElement(ia,{itemName:"strategyTimes",items:t.strategyTimes,checkedItems:a.strategyTimes,onClickItem:n})),i.a.createElement("section",{className:"filter-section general-mode-only"},i.a.createElement("h2",{className:"title"},"計略範囲"),i.a.createElement(Va,{itemName:"strategyRanges",items:t.strategyRanges,checkedItems:a.strategyRanges,onClickItem:n})))}}function Ra(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(a),!0).forEach((function(t){La(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ra(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function La(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Ba=Object(c.b)((e=>({searchMode:ht(e.deck,e.datalist.filterCondition),filterSelectionMode:e.datalist.filterSelectionMode,filterCondition:e.datalist.filterCondition.strategies,filterContents:e.datalist.filterContents})),(e=>Fa({setCondition:Ht(e)},Object(d.b)({setShowStrategyExplanation:A.setShowStrategyExplanation},e))),((e,t)=>{const{searchMode:a,filterSelectionMode:n,filterCondition:r,filterContents:s}=e;return Fa(Fa(Fa({},{searchMode:a,filterCondition:r,filterContents:s}),t),{},{toggleCheckList:(a,r)=>{t.setCondition(function(e,t,a,n){const r=t[a];if(!(r instanceof Array))return console.warn(a+" is not array."),{};const{targetValue:s}=na(e,n,r);return{[a]:s}}(n,e.filterCondition,a,r))}})}),{areMergedPropsEqual:()=>!1})(Ga);class _a extends i.a.PureComponent{constructor(...e){super(...e),this.handleCloseFilter=()=>{this.props.close()},this.handleResetConditions=()=>{this.props.resetConditions()},this.handleChangeActiveFilterTab=e=>{this.props.changeActiveFilterTab(e)},this.handleOnChangeFilterSelectionMode=(e,t)=>{this.props.setFilterSelectionMode(t?"singular":"multiple")}}render(){const{activeFilter:e,open:t,filterSelectionMode:a}=this.props,n="multiple"===a;return i.a.createElement("div",{className:be()(["card-filter-container",{open:t}])},i.a.createElement("h1",{className:"card-filter-title"},"絞り込みメニュー"),i.a.createElement("div",{className:"filter-selection-mode"},i.a.createElement("div",{className:"selection-mode-label","data-label":"選択モード"},i.a.createElement(fa,{itemName:"filterSelectionMode",onChangeValue:this.handleOnChangeFilterSelectionMode,isOn:!n,labelOff:"複数",labelOn:"単数"}))),i.a.createElement("div",{className:"card-filter-buttons"},i.a.createElement(ua,{tabs:b,activeTab:e,onTabChanged:this.handleChangeActiveFilterTab}),i.a.createElement(ga,{resetConditions:this.handleResetConditions,closeFilter:this.handleCloseFilter})),i.a.createElement("div",{className:be()(["card-filter-content",{active:"BASIC"===e}])},i.a.createElement(Pa,null)),i.a.createElement("div",{className:be()(["card-filter-content",{active:"DETAIL"===e}])},i.a.createElement(Ia,null)),i.a.createElement("div",{className:be()(["card-filter-content",{active:"STRAT"===e}])},i.a.createElement(Ba,null)))}}function qa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ua(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?qa(Object(a),!0).forEach((function(t){$a(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):qa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function $a(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var za=Object(c.b)((e=>({activeFilter:e.window.activeFilter,filterSelectionMode:e.datalist.filterSelectionMode})),(e=>Object(d.b)({close:()=>v.changeFilterVisible({openedFilter:!1}),resetConditions:A.resetConditions,changeActiveFilterTab:v.changeActiveFilterTab,setFilterSelectionMode:A.setFilterSelectionMode},e)),((e,t,a)=>{const n=Ua(Ua({},e),a);return Ua(Ua({},n),t)}))(_a),Wa=(a(199),a(201),a(202),a(109));class Ya extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnClick=()=>{const{itemName:e,value:t,onClick:a}=this.props;a&&a(e,t)}}render(){const{checked:e,children:t}=this.props;return i.a.createElement("div",{className:"radio-button",onClick:this.handleOnClick},i.a.createElement("span",{className:"radio-check"},i.a.createElement(ye.a,{className:be()({checked:e}),icon:Wa.faCircle})),t)}}function Ja(){return(Ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Xa(e,t){return"general"===e?"assist"===t?"personal-assist":"personal":"assist"===t?"personal-strategy":"personal-strategy-exclude-assist"}function Ka(e){return{generalConst:"personal-strategy"===e||"personal-strategy-exclude-assist"===e?"general-strategy":"general",assistConst:"personal-assist"===e||"personal-strategy"===e?"assist":"exclude-assist"}}class Ha extends i.a.PureComponent{constructor(...e){super(...e),this.handleOnChangeDeckConstraints=(e,t)=>{this.props.setDeckConstraints({[e]:t}),"assistCardLimit"===e&&this.props.sliceDeckAssist()},this.handleOnChangeSameCardGeneral=(e,t)=>{const{assistConst:a}=Ka(this.props.sameCard),n=Xa(t,a);this.handleOnChangeDeckConstraints(e,n)},this.handleOnChangeSameCardAssist=(e,t)=>{const{generalConst:a}=Ka(this.props.sameCard),n=Xa(a,t);this.handleOnChangeDeckConstraints(e,n)}}costDisplayText(e){return""+e/10}assistLimitDisplayText(e){return 0===e?"なし":1===e?"あり":""+e}render(){const{show:e,limitCost:t,sameCard:a,generalCardLimit:n,assistCardLimit:r,genMainAwakeningLimit:s,exchange:l,closeDeckConfig:o,resetDeckConfig:c}=this.props,d={};e||(d.display="none");const{generalConst:m,assistConst:u}=Ka(a);return i.a.createElement("div",{className:"deck-config",style:d},i.a.createElement("div",{className:"deck-config-inner"},i.a.createElement("div",{className:"deck-config-title"},"デッキ設定"),i.a.createElement("div",{className:"deck-config-buttons"},i.a.createElement("button",{className:"action-button-reset",onClick:c},"通常ルール"),i.a.createElement("button",{className:"action-button-ok",onClick:o},"OK")),i.a.createElement("div",{className:"deck-config-body"},i.a.createElement("section",{className:"filter-section"},i.a.createElement("h2",{className:"title"},"コスト 上限"),i.a.createElement("div",{className:"deck-filter-content"},i.a.createElement(ba,Ja({itemName:"limitCost",onChangeValue:this.handleOnChangeDeckConstraints,value:t,displayText:this.costDisplayText,defaultValueLabel:"(通常ルール)"},O)))),i.a.createElement("section",{className:"filter-section"},i.a.createElement("h2",{className:"title"},"武将カード最大枚数"),i.a.createElement("div",{className:"deck-filter-content"},i.a.createElement(ba,Ja({itemName:"generalCardLimit",onChangeValue:this.handleOnChangeDeckConstraints,value:n,defaultValueLabel:"(通常ルール)"},k)))),i.a.createElement("section",{className:"filter-section"},i.a.createElement("h2",{className:"title"},"遊軍"),i.a.createElement("div",{className:"deck-filter-content"},i.a.createElement(ba,Ja({className:"assist-card-limit",itemName:"assistCardLimit",onChangeValue:this.handleOnChangeDeckConstraints,value:r,displayText:this.assistLimitDisplayText},E)))),i.a.createElement("section",{className:"filter-section same-card-constraint"},i.a.createElement("h2",{className:"title"},"同名武将 制限"),i.a.createElement("div",{className:"deck-filter-content"},i.a.createElement(Ya,{itemName:"sameCard",value:"general",checked:"general"===m,onClick:this.handleOnChangeSameCardGeneral},"同名武将登録不可(通常ルール)"),i.a.createElement(Ya,{itemName:"sameCard",value:"general-strategy",checked:"general-strategy"===m,onClick:this.handleOnChangeSameCardGeneral},"同名武将登録可、ただし同計略の同名武将は登録不可"))),i.a.createElement("section",{className:"filter-section same-card-constraint"},i.a.createElement("h2",{className:"title"},"同名武将・遊軍 制限"),i.a.createElement("div",{className:"deck-filter-content"},i.a.createElement(Ya,{itemName:"sameCard",value:"exclude-assist",checked:"exclude-assist"===u,onClick:this.handleOnChangeSameCardAssist},"同名の武将・遊軍登録不可(通常ルール)"),i.a.createElement(Ya,{itemName:"sameCard",value:"assist",checked:"assist"===u,onClick:this.handleOnChangeSameCardAssist},"同名の武将・遊軍登録可"))),i.a.createElement("section",{className:"filter-section"},i.a.createElement("h2",{className:"title"},"知勇一転"),i.a.createElement("div",{className:"deck-filter-content"},i.a.createElement(fa,{itemName:"exchange",onChangeValue:this.handleOnChangeDeckConstraints,isOn:l,labelOff:"通常",labelOn:"知勇一転",width:200}))),i.a.createElement("section",{className:"filter-section"},i.a.createElement("h2",{className:"title"},"覚醒できる主将器の最大ポイント数"),i.a.createElement("div",{className:"deck-filter-content"},i.a.createElement(ba,Ja({itemName:"genMainAwakeningLimit",onChangeValue:this.handleOnChangeDeckConstraints,value:s,defaultValueLabel:"(通常ルール)"},w)))))))}}function Qa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Za(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var en=Object(c.b)((e=>function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Qa(Object(a),!0).forEach((function(t){Za(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Qa(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({show:e.window.openedDeckConfig},e.deck.deckConstraints)),(e=>Object(d.b)({closeDeckConfig:()=>v.changeDeckConfigVisible({openedDeckConfig:!1}),resetDeckConfig:q.resetDeckConstraints,setDeckConstraints:q.setDeckConstraints,sliceDeckAssist:q.sliceDeckAssist},e)))(Ha);a(203);let tn=void 0;class an extends i.a.PureComponent{render(){const{show:e,closeUpdateInfo:t}=this.props,a={};return e?tn="./updateinfo.html":a.display="none",i.a.createElement("div",{className:"update-info",style:a},i.a.createElement("div",{className:"update-info-inner"},i.a.createElement("div",{className:"update-info-title"},"更新情報")),i.a.createElement("div",{className:"update-info-buttons"},i.a.createElement("button",{className:"action-button-ok",onClick:t},"OK")),i.a.createElement("div",{className:"update-info-body"},i.a.createElement("iframe",{className:"update-info-iframe",src:tn})))}}var nn=Object(c.b)((e=>({show:e.window.openedUpdateInfo})),(e=>Object(d.b)({closeUpdateInfo:()=>v.changeUpdateInfoVisible({openedUpdateInfo:!1})},e)))(an),rn=(a(204),a(110));class sn extends i.a.PureComponent{constructor(...e){super(...e),this.handleClose=()=>{this.props.close()}}render(){const e=this.props.card;if(null==e)return i.a.createElement(i.a.Fragment,null);const t=this.createCardElement(e),a=this.getStratExplanation(e),n=this.getStratRangeCode(e),r=[];a.split("\n").forEach(((e,t)=>{r.push(i.a.createElement("span",{key:t},e))}));const s=n?Ge(n):"";return i.a.createElement("div",{className:"general-detail"},i.a.createElement("div",{className:"general-detail-inner"},t,i.a.createElement("div",{className:"general-detail-body"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"strategy-explanation","data-label":"計略説明"},r),i.a.createElement("div",{className:"strategy-range","data-label":"計略範囲"},i.a.createElement("img",{className:"range-image",src:s}))))),i.a.createElement("button",{className:"close",onClick:this.handleClose},i.a.createElement(ye.a,{icon:rn.faTimesCircle})))}}var ln=Object(c.b)((e=>({card:e.window.detailAssistGeneral})),(e=>Object(d.b)({close:v.closeAllModal},e)))(class extends sn{createCardElement(e){return i.a.createElement(Bt,{general:e,showStrategyExplanation:!1,showAddButtons:!1})}getStratExplanation(e){return e.strategy.explanation}getStratRangeCode(e){var t;return null===(t=e.strategy.range)||void 0===t?void 0:t.code}});var on=Object(c.b)((e=>({card:e.window.detailGeneral,exchangeForceIntelligence:e.deck.deckConstraints.exchange})),(e=>Object(d.b)({close:v.closeAllModal},e)))(class extends sn{createCardElement(e){return i.a.createElement(Nt,{general:e,showStrategyExplanation:!1,showAddButtons:!1,exchangeForceIntelligence:this.props.exchangeForceIntelligence})}getStratExplanation(e){return e.strategy.explanation}getStratRangeCode(e){return e.strategy.stratRangeCode}});a(205);class cn extends i.a.PureComponent{constructor(...e){super(...e),this.state={},this.actionWithAnimation=(e,t)=>{this.state.buttonAnimation||(this.props.animation?(this.setState({buttonAnimation:e}),setTimeout((()=>{this.setState({buttonAnimation:void 0}),t()}),500)):t())},this.handleRedClick=e=>{e.stopPropagation(),this.actionWithAnimation("RED",this.props.actionRed)},this.handleBlueClick=e=>{e.stopPropagation(),this.actionWithAnimation("BLUE",this.props.actionBlue)},this.handleCancelClick=e=>{e.stopPropagation(),this.state.buttonAnimation||this.props.cancelable&&this.props.actionCancel()}}render(){const{show:e,title:t,message:a,logoUrl:n,redText:r,blueText:s,cancelable:l,animation:o}=this.props,{buttonAnimation:c}=this.state;let d="",m=!1,u=!1;"RED"===c?(d="緋略",m=!0):"BLUE"===c&&(d="蒼略",u=!0);const p={};return e||(p.display="none"),i.a.createElement("div",{className:"dialog-container",style:p},i.a.createElement("div",{className:"dialog-base"},i.a.createElement("div",{className:"dialog-background",onClick:this.handleCancelClick}),i.a.createElement("div",{className:"dialog"},i.a.createElement("div",{className:"dialog-inner"},i.a.createElement("div",{className:"dialog-title"},t),i.a.createElement("div",{className:"dialog-body"},i.a.createElement("div",{className:be()("dialog-logo",{show:null!=n})},i.a.createElement("img",{src:n})),i.a.createElement("div",{className:"dialog-message"},a)),i.a.createElement("div",{className:"dialog-actions"},i.a.createElement("div",{className:be()("dialog-action-button","dialog-action-red",{text:o}),onClick:this.handleRedClick},r),i.a.createElement("div",{className:be()("dialog-action-button","dialog-action-blue",{text:o}),onClick:this.handleBlueClick},s)),i.a.createElement("div",{className:be()("dialog-close",{cancelable:l}),onClick:this.handleCancelClick},"x"))),i.a.createElement("div",{className:be()("action-animation",{red:m,blue:u,show:m||u})},d)))}}function dn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function mn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?dn(Object(a),!0).forEach((function(t){un(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function un(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var gn=Object(c.b)((e=>e.dialog),(e=>Object(d.b)({closeDialog:H.closeDialog},e)),((e,t)=>{const{actionRed:a,actionBlue:n,actionCancel:r}=e,s={actionRed:()=>{a(),t.closeDialog()},actionBlue:()=>{n(),t.closeDialog()},actionCancel:()=>{r&&r(),t.closeDialog()}};return mn(mn({},pn(e,["actionRed","actionBlue","actionCancel"])),s)}),{areMergedPropsEqual:()=>!1})(cn);class hn extends i.a.PureComponent{constructor(...e){super(...e),this.handleAppClick=()=>{this.props.clearActiveCard(),this.props.closeSideMenu()},this.handleSideMenuButtonClick=()=>{this.props.openSideMenu()}}componentDidMount(){this.props.appDidLoaded()}render(){const{ready:e,loading:t,openedSideMenu:a,openFilter:n,showNotice:r,closeAllModal:s,openedFilter:l,openedAnyModal:o,openedAnyModalSmall:c,deckSelected:d}=this.props;return i.a.createElement("div",{className:be()(["app-container",{modal:o,"modal-small":c,ready:e,"deck-selected":d}]),onClick:this.handleAppClick},i.a.createElement("div",{className:be()("side-menu",{open:a})},i.a.createElement("div",{className:"side-menu-header"}),i.a.createElement(Pe,null)),i.a.createElement("div",{className:"app-main"},i.a.createElement("div",{className:"app-deck-block"},i.a.createElement("div",{className:"app-header"},i.a.createElement("button",{className:be()("side-menu-button",{show:!a}),onClick:this.handleSideMenuButtonClick},i.a.createElement(ye.a,{icon:ve.faBars}),i.a.createElement(ye.a,{icon:Ce.faExclamationCircle,className:be()("notice",{show:r})})),i.a.createElement("div",{className:"app-header-title"},"三国志大戦デッキシミュレーター"),i.a.createElement("span",{className:"copyright"},"©SEGA")),i.a.createElement("div",{className:"deck-boad-container"},i.a.createElement(gt,null)),i.a.createElement("div",{className:"list-container"},i.a.createElement("div",{className:"simple-filter-container"},i.a.createElement(ma,null),i.a.createElement("button",{className:"open-filter",onClick:n},"絞込")),i.a.createElement(Tt,null),i.a.createElement(zt,null))),i.a.createElement(za,{open:l})),i.a.createElement("div",{className:"modal-background",onClick:s}),i.a.createElement(ln,null),i.a.createElement(on,null),i.a.createElement(en,null),i.a.createElement(nn,null),i.a.createElement("div",{className:be()("loading-item",{loading:t})}),i.a.createElement(gn,null))}}let fn=null;function bn(){return"localStorage"in window&&function(e){try{const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&0!==e.length}}(window.localStorage)}async function yn(e,t){const a=t+".md5",n=await async function(e){const t=await fetch(e+".md5");return t.ok?(await t.text()).trim():null}(e);if(!n)return localStorage.removeItem(a),localStorage.removeItem(t),null;const r=localStorage.getItem(a);let s=!1;if(r&&r===n){const e=localStorage.getItem(t);if(e)return JSON.parse(e);s=!0,localStorage.removeItem(a)}const i=await fetch(e),l=await i.json();return s||(localStorage.setItem(t,JSON.stringify(l)),localStorage.setItem(a,n)),l}var vn=async function(e,t){if(null!=fn||(fn=bn()),fn){const a=await yn(e,t);if(a)return a}return(await fetch(e)).json()};const Cn=(e,t=0,a=!1)=>{let n;return n=a?"-EX":t>0?"-"+t:"",`第${e}弾${n}`};function On(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function kn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var En=function(e,t,a){const n=Cn(a.majorVersion,a.addVersion,a.isEx),r=a.isEx?"-EX":"-"+a.addVersion,s=`${a.majorVersion}${r}`;return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?On(Object(a),!0).forEach((function(t){kn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):On(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:e,code:t.code,name:"name"in a.personal?a.personal.name:"",version:n,versionValue:s,avatar:t.avatar},a)};function wn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Nn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var jn=function(e,t,a){const n=parseInt(t.major_version),r=parseInt(t.add_version),s=t.ver_type,i="2"===s,l=Cn(n,r,i),o=`${n}${i?"-EX":"-"+r}`;return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(a),!0).forEach((function(t){Nn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):wn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:e,majorVersion:n,addVersion:r,isEx:i,verType:s,code:t.code,pocketCode:t.pocket_code,name:a.personal.name,version:l,versionValue:o,hasPocket:""!==t.pocket_code,avatar:t.avatar,pocketAvatar:t.pocket_avatar,force:parseInt(t.buryoku),intelligence:parseInt(t.chiryoku),conquest:parseInt(t.seiatsu)},a)};function Pn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Sn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Dn=function(e,t,a){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(a),!0).forEach((function(t){Sn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Pn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({id:e,morale:parseInt(t.morale),code:t.code,name:t.name,nameRuby:t.name_ruby,stratTime:t.strat_time,rawExplanation:t.explanation,nameSearchText:{text:t.name,ruby:t.name_ruby_search}},a)};function xn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Mn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(a),!0).forEach((function(t){An(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function An(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const In=(e,t)=>""+t,Tn=e=>e.key,Vn=(e,t,a)=>e.map(((e,n)=>a(e,t(e,n)))),Gn=(e,t)=>Object.entries(e).map((([e,a])=>t(a,""+e))),Rn=(e,t)=>Mn(Mn({},e),{},{id:t}),Fn=({code:e,name:t,name_short:a,short_name:n},r)=>({id:r,code:e,name:t,nameShort:a||n}),Ln={code:"",name:""},Bn={code:"",name:"",key:""},_n={code:"",name:"",nameShort:"",color:"",thincolor:""},qn={azana:"",azanaRuby:"",name:"",nameRuby:"",uniqueId:"",azanaSearchText:null,nameSearchText:null},Un={code:"",explanation:"",rawExplanation:"",morale:1,name:"",nameRuby:"",stratCategory:"",stratCategoryName:"",stratRange:"",stratRangeCode:"",stratTime:"",nameSearchText:null},$n={code:"",explanation:"",rawExplanation:"",name:"",nameRuby:""},zn=(e,t,a)=>{const n=Wn(e,t);return n||Mn(Mn({},a),{},{id:t})},Wn=(e,t)=>{const a=e.find((e=>e.id===t));return a||null},Yn=e=>e.filter((e=>null!=e)),Jn=e=>e.replace(/\<br\s*\/?\>/gi,"\n").replace(/\<img.+?alt=\"(.*?)\".*?\/\>/gi," $1 ");var Xn=e=>{const t=Vn(e.STATE,In,(({code:e,name:t,name_short:a,red:n,green:r,blue:s},i)=>({id:i,code:e,name:t,nameShort:a,color:`rgb(${n}, ${r}, ${s})`,thincolor:`rgba(${n}, ${r}, ${s}, 0.2)`}))),a=Gn(e.COST,Rn),n=Vn(e.UNIT_TYPE,Tn,((e,t)=>Mn(Mn({},e),{},{id:t,nameShort:N[e.name]||e.name[0]}))),r=Vn(e.SKILL,Tn,Fn),s=Vn(e.GEN_MAIN,Tn,((e,t)=>Mn(Mn({},Fn(e,t)),{},{replace:"1"===e.replace}))),i=Vn(e.GEN_MAIN_SP,Tn,((e,t)=>Mn(Mn({},Fn(e,t)),{},{replace:"1"===e.replace}))),l=Gn(e.RARITY,Rn).sort(((e,t)=>e.order-t.order)),o=Vn(e.GENERAL_TYPE,Tn,((e,t)=>{const a=Rn(e,t);return""===e.name?Mn(Mn({},a),{},{name:"なし(女性)"}):a})),c=Vn(e.VER_TYPE,In,Fn).map((e=>"Ex"===e.name?Mn(Mn({},e),{},{name:"EX"}):e)),d=Vn(e.STRAT_CATEGORY,Tn,Fn),m=Vn(e.STRAT_RANGE,In,((e,t)=>({id:t,code:e.code,name:""}))),u=Vn(e.STRAT,Tn,((e,t)=>{var a,n;const{strat_category:r,strat_range:s}=e,i=(null===(a=d.find((e=>e.id===r)))||void 0===a?void 0:a.name)||"",l=(null===(n=m.find((e=>e.id===s)))||void 0===n?void 0:n.code)||"";return Dn(t,e,{explanation:Jn(e.explanation),stratCategory:r,stratCategoryName:i,stratRange:s,stratRangeCode:l})})),p={},g=new Map,h=Vn(e.PERSONAL,In,((e,t)=>{const a=(e=>e.name)(e),n=function(e,t,a){return{id:e,azana:t.azana,azanaRuby:t.azana_ruby.replace(/＿/g,""),name:t.name,nameRuby:t.name_ruby.replace(/＿/g,""),uniqueId:(null==a?void 0:a.id)||e,azanaSearchText:{text:t.azana,ruby:t.azana_ruby_search},nameSearchText:{text:t.name,ruby:t.name_ruby_search}}}(t,e,g.get(a));return g.has(a)||g.set(a,n),n})),f=Vn(e.GENERAL,In,((e,c)=>{const d=jn(c,e,{cost:zn(a,e.cost,Ln),genMains:Yn([e.gen_main0,e.gen_main1,e.gen_main2].filter((e=>""!==e)).map((e=>s.find((t=>t.id===e))))),genMainSp:Wn(i,c),generalType:zn(o,e.general_type,Bn),personal:zn(h,e.personal,qn),rarity:zn(l,e.rarity,Ln),skills:Yn([e.skill0,e.skill1,e.skill2].filter((e=>""!==e&&"0"!==e)).map((e=>r.find((t=>t.id===e))))),state:zn(t,e.state,_n),unitType:zn(n,e.unit_type,Bn),strategy:zn(u,e.strat,Un)});return p[d.majorVersion]||(p[d.majorVersion]=[]),d.isEx||p[d.majorVersion].includes(d.addVersion)||p[d.majorVersion].push(d.addVersion),d})),b=Object.keys(p).map((e=>parseInt(e))),y=(e,t)=>e-t;b.sort(y),b.forEach((e=>{p[e].sort(y)}));const v=Vn(e.STRAT_TIME,In,Fn),C=Vn(e.ASSIST_STRAT_CATEGORY,Tn,Fn),O=Vn(e.ASSIST_STRAT,Tn,((e,t)=>{const{code:a,key:n,name:r,explanation:s,name_ruby:i,assist_strat_category:l,strat_range:o}=e,c=C.find((e=>e.id===l)),d=m.find((e=>e.id===o));return{id:t,code:a,key:n,name:r,explanation:Jn(s),rawExplanation:s,nameRuby:i,category:c,range:d}})),k=Vn(e.ASSIST,In,((e,a)=>{const n=parseInt(e.major_version),r=parseInt(e.add_version);p[n]||(p[n]=[]),p[n].includes(r)||p[n].push(r);const s=zn(h,e.personal,qn);return En(a,e,{majorVersion:n,addVersion:r,isEx:false,personal:s,state:zn(t,e.state,_n),strategy:zn(O,e.assist_strat,$n)})}));return{filterContents:{belongStates:t,costs:a,unitTypes:n,skills:r,genMains:s,rarities:l,generalTypes:o,verTypes:c,versions:Object.entries(p).map((([e,t])=>{const a=Vn(t,(t=>`${e}-${t}`),((t,a)=>({id:a,name:Cn(e,t)})));return a.push({id:e+"-EX",name:Cn(e,0,!0)}),a})),majorVersions:Vn(b,(e=>""+e),((e,t)=>({id:t,name:Cn(e)}))),strategyCategories:d,strategyRanges:m,strategyTimes:v,assistStrategyCategories:C},generals:f,strategies:u,assistGenerals:k,assistStrategies:O}};const Kn=(async()=>await(async()=>await vn("/data/base.json","3594t-deck/data/base.json"))())();function Hn(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Qn(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(a),!0).forEach((function(t){Zn(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Hn(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Zn(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var er=Object(c.b)((e=>({ready:e.window.ready,openedSideMenu:e.window.openedSideMenu,openedFilter:e.window.openedFilter,showNotice:e.window.showNotice,openedAnyModal:e.window.openedDeckConfig||e.window.openedUpdateInfo||!!e.window.detailGeneral||!!e.window.detailAssistGeneral||!e.window.ready,openedAnyModalSmall:e.window.openedFilter||!e.window.ready,loading:!e.window.ready,deckSelected:null!=e.deck.activeIndex||null!=e.deck.activeAssistIndex})),(e=>{const t=Object(d.b)({setBaseData:A.setBaseData,beReady:v.beReady},e);return Qn({appDidLoaded:async()=>{const e=await(async()=>{const e=await Kn;return Xn(e)})();t.setBaseData(e),he||($()({store:Z,params:{deck:ie,assist:le,cost:ce,same_card:de,general_limit:me,assist_limit:ue,exchange:ge,gen_main_limit:pe},initialTruth:"location"}),he=!0),t.beReady(),Object(m.forceCheck)()}},Object(d.b)({clearActiveCard:q.clearActiveCard,openSideMenu:()=>v.changeSideMenuVisible({openedSideMenu:!0}),closeSideMenu:()=>v.changeSideMenuVisible({openedSideMenu:!1}),openFilter:()=>v.changeFilterVisible({openedFilter:!0}),closeAllModal:v.closeAllModal},e))}),((e,t,a)=>Qn(Qn(Qn(Qn({},e),t),a),{},{clearActiveCard:()=>{e.deckSelected&&t.clearActiveCard()},closeSideMenu:()=>{e.openedSideMenu&&t.closeSideMenu()}})),{areMergedPropsEqual:()=>!1})(hn);r.a.load({custom:{families:["Noto Sans Japanese:n4,n7"],urls:["https://fonts.googleapis.com/earlyaccess/notosansjapanese.css"]}}),"serviceWorker"in navigator&&navigator.serviceWorker.register("service-worker.js").catch((e=>{console.error(e)})),window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),Oe.installPromptEvent=e,Z.dispatch(v.storeInstallPromptEvent())}));const tr=e=>{Z.dispatch(v.changeShowNotice({showNotice:!!e}))};tr(window.__noticeEnabled),window.addEventListener("__receiveNoticeChanged",(e=>{e.preventDefault(),tr(window.__noticeEnabled)})),o.a.render(i.a.createElement(c.a,{store:Z},i.a.createElement(er,null)),document.getElementById("app"));const ar=document.getElementById("about");ar&&ar.parentNode&&ar.parentNode.removeChild(ar)},99:function(e,t,a){}});